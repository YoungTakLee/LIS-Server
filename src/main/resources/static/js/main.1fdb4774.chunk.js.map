{"version":3,"sources":["context/AuthContext.tsx","images/cms_as_logo.png","images/noImage.png","images/complete-dcs/01.png","images/dcs_multi_layout_h/01.png","images/dcs_multi_layout_h/02.png","images/dcs_multi_layout_h/03.png","images/dcs_multi_layout_h/04.png","images/dcs_multi_layout_h/05.png","images/dcs_multi_layout_h/06.png","images/dcs_multi_layout_h/07.png","images/dcs_multi_layout_h/08.png","images/dcs_multi_layout_h/09.png","images/complete-dcs/1000.png","images/complete-dcs/02.png","images/complete-dcs/03.png","images/complete-dcs/04.png","images/complete-dcs/05.png","images/complete-dcs/06.png","images/complete-dcs/07.png","images/complete-dcs/08.png","images/complete-dcs/09.png","images/complete-dcs/10.png","video/login_background_video.mp4","login/SignInSideAsan.tsx","main/Constants.js","images/greeneffect_icon.png","main/MainFooter.tsx","api/banner.api.ts","slice/BannerSlice.ts","main/FormGuideComponent.js","main/MenuGuide.tsx","main/banner/BannerDropzone.tsx","main/banner/BannerFile.tsx","main/banner/BannerFilelist.tsx","main/banner/BannerRangePicker.tsx","main/banner/BannerForm.tsx","main/banner/RecommandImageForm.tsx","main/banner/SimpleDcsDropZone.tsx","main/banner/SimpleDcsForm.tsx","main/book/ManagementBook.js","api/api.ts","api/SmartSearch.ts","slice/SmartSearchSlice.ts","images/noimages.png","main/book/Pagination.tsx","main/book/SmartSearch.styled.tsx","main/book/Smartsearch.tsx","main/book/ManagementBookForm.tsx","api/LssApis.ts","api/CaptionApis.ts","slice/CaptionSlice.ts","main/caption/components/CaptionList.styled.tsx","main/caption/components/CaptionListHeader.styled.tsx","main/caption/components/CaptionListHeader.tsx","main/caption/components/CaptionList.tsx","main/ConfirmModal.js","main/caption/ManagementCaptionForm.tsx","main/dcs/ManagementDcsFileUploadComponent.tsx","main/dcs-layout/Layout.styled.ts","main/dcs-layout/Layout1000.tsx","main/dcs-layout/Layout101.tsx","main/dcs-layout/Layout102.tsx","main/dcs-layout/Layout103.tsx","main/dcs-layout/Layout104.tsx","main/dcs-layout/Layout105.tsx","main/dcs-layout/Layout106.tsx","main/dcs-layout/Layout107.tsx","main/dcs-layout/Layout108.tsx","main/dcs-layout/Layout109.tsx","main/dcs-layout/Layout110.tsx","main/dcs/ApplyLayout.tsx","main/dcs/ManagementDcsFilePreviewComponent.js","main/dcs/ManagementDcsContentsList.js","main/dcs/ManagementDcsLayout.tsx","main/dcs/ManagementDcsPlaylistTimeControlPanel.tsx","main/dcs/UploadingProgressIndicator.tsx","main/dcs/ManagementDcsFormV2.tsx","api/equipments.api.ts","main/equip/equipmentList/components/EquipItem.tsx","main/equip/equipmentList/components/EquipList.tsx","main/equip/equipmentList/EquipListTab.tsx","main/equip/powerManagement/shared/DisplaySysName.tsx","main/equip/powerManagement/selected/SettingUsageAndTime.tsx","main/equip/powerManagement/all/SettingOperation.tsx","main/equip/powerManagement/all/SettingTime.tsx","main/equip/powerManagement/all/DaysItem.tsx","main/equip/powerManagement/all/SettingDays.tsx","main/equip/powerManagement/selected/OperationManagement.tsx","main/equip/powerManagement/selected/SelectedSysControl.tsx","main/equip/powerManagement/EquipManageTab.tsx","main/equip/ManagementEquip.tsx","main/equip/ManagementEquipForm.js","main/Help.js","api/Dvd.api.ts","slice/DvdSlice.ts","main/is-system/dvd/DvdDailyAddForm.tsx","main/is-system/dvd/DvdAddForm.jsx","main/is-system/dvd/useGetDvdDetail.tsx","main/is-system/dvd/useGetDvdList.tsx","api/user.api.ts","slice/userSlice.ts","main/is-system/dvd/DvdMakeReservation.tsx","main/is-system/dvd/DvdDetailForm.tsx","main/is-system/event/EventPosterUploadComponent.js","main/is-system/event/EventDetailComponent.js","main/is-system/event/EventDetailEnrolleeListComponent.js","main/CommonUtils.js","main/is-system/event/EventDetailContainer.js","main/is-system/event/EventFormComponent.js","main/is-system/event/EventFormContainer.js","main/is-system/item-loan/ItemLoanDetailMasterBlockComponent.js","main/is-system/item-loan/ItemLoanDetailMasterEquipComponent.js","main/is-system/item-loan/ItemLoanDetailMasterLoanReturnStatusComponent.js","main/is-system/item-loan/ItemLoanDetailMasterOperationTimeComponent.js","main/is-system/item-loan/ItemLoanDetailMasterStatusComponent.js","main/is-system/item-loan/ItemLoanDetailMasterComponent.js","main/is-system/item-loan/ItemLoanDetailPropStatusComponent.js","main/is-system/item-loan/ItemLoanDetailItemHistoryComponent.js","main/is-system/item-loan/ItemLoanDetailItemComponent.js","main/is-system/item-loan/ItemLoanDetailContainer.js","main/is-system/item-loan/ItemLoanItemEditor.js","main/is-system/item-loan/ItemLoanForm.js","api/ItemLoan.api.ts","slice/ItemLoanSlice.ts","main/is-system/itemLoan/ItemDailyAddForm.tsx","main/is-system/itemLoan/ItemLoanAddForm.jsx","main/is-system/itemLoan/useGetItemDetail.tsx","main/is-system/itemLoan/useGetItemList.tsx","main/is-system/itemLoan/ItemLoanMakeReservation.tsx","main/is-system/itemLoan/ItemLoanDetailForm.tsx","slice/LssSlice.ts","main/lss/pages/components/RadioMode/RadioMode.styled.tsx","main/lss/pages/components/RadioMode/RadioMode.tsx","main/lss/pages/components/ReturnDate/ReturnDate.styled.tsx","main/lss/pages/components/ReturnDate/ReturnDate.tsx","main/lss/ManagementLssScreen.styled.tsx","main/lss/pages/components/Notice/NoticeCards.styled.tsx","main/lss/pages/components/Notice/NoticeCards.tsx","main/lss/pages/components/Notice/NoticeDrawTitle.styled.tsx","main/lss/pages/components/Notice/NoticeDrawTitle.tsx","main/lss/pages/components/Notice/Notice.styled.tsx","main/lss/pages/components/Notice/Notice.tsx","main/lss/pages/components/Notice/hooks/useGetUseNotice.tsx","main/lss/pages/components/Caption/Caption.styled.tsx","main/lss/pages/components/Caption/CaptionDrawTitle.styled.tsx","main/lss/pages/components/Caption/CaptionDrawTitle.tsx","main/lss/pages/components/Caption/CaptionItems.styled.tsx","main/lss/pages/components/Caption/CaptionItems.tsx","main/lss/pages/components/Caption/Caption.tsx","main/lss/pages/components/Holiday/HolidaySettingModal.styled.tsx","main/lss/pages/components/Holiday/options.ts","main/lss/pages/components/Holiday/hooks/useGenerateDayOfTheWeekKey.ts","main/lss/pages/components/Holiday/HolidaySettingModal.tsx","main/lss/pages/components/Holiday/hooks/useMotionOpacity.ts","main/lss/pages/components/Holiday/HolidayAddModal.styled.tsx","main/lss/pages/components/Holiday/hooks/useMotionMovingAxisY.ts","main/lss/pages/components/Holiday/HolidayAddModal.tsx","main/lss/pages/components/Holiday/hooks/useGenerateHolidayUuid.ts","util/Date/getDatesStartToLast.ts","util/Date/getIncludesHolidayOfDay.ts","main/lss/pages/components/Holiday/Holiday.styled.tsx","main/lss/pages/components/Holiday/HolidayDetailModal.styled.tsx","main/lss/pages/components/Holiday/HolidayDetailModal.tsx","main/lss/pages/components/Holiday/Holiday.tsx","main/lss/ManagementLssScreen.tsx","main/mag/ManagementMagImageUpload.js","main/mag/ManagementMagForm.js","api/BlackList.api.ts","slice/BlackListSlice.ts","main/blacklist/BlackTable.js","main/blacklist/BlackList.api.js","main/blacklist/MemberSearchModal.js","main/blacklist/BlackListContainer.js","main/blacklist/MemberTable.js","main/is-system/dvd/DvdLogModal.tsx","main/is-system/dvd/DvdContainer.tsx","main/is-system/event/EventTableContaner.js","main/is-system/itemLoan/ItemLoanLogModal.tsx","main/is-system/itemLoan/ItemLoanContainer.tsx","main/is-system/office/OfficeDetailContainer.js","main/is-system/tablet/TabletDetailContainer.js","main/ManagementIs.tsx","main/banner/BannerTable.tsx","main/banner/Banner.tsx","main/banner/RecommandTable.tsx","main/banner/Recommand.tsx","api/Lecture.api.ts","slice/LectureSlice.ts","main/is-system/lecture/center/CenterAddForm.tsx","main/is-system/lecture/center/CenterTable.tsx","main/is-system/lecture/center/CenterForLecture.tsx","main/is-system/lecture/LectureTable.tsx","main/is-system/lecture/LectureModalText.tsx","main/is-system/lecture/LectureModalDetail.tsx","main/is-system/lecture/LectureExcelAddForm.tsx","main/is-system/lecture/LectureList.tsx","main/is-system/lecture/Lecture.tsx","main/ManagementScreen.tsx","main/ManagementUser.js","main/poll/ManagementPollContentCard.js","main/poll/ManagementPollTitleCard.js","main/poll/ManagementPollForm.js","main/poll/ManagementPollResult.js","main/statistic/event/requestEventStatistic.js","main/statistic/event/StatisticEventAgedChart.js","main/statistic/StatisticHttpService.js","main/statistic/event/StatisticEventPerEventDataSheet.js","main/statistic/event/StatisticEventPeriodChart.js","main/statistic/event/StatisticEventContainer.js","api/TotalLog.ts","slice/totalLogSlice.ts","main/statistic/event/StatisticEventPieChart.js","main/statistic/event/StaticsTotalLogs.js","main/statistic/StatisticDlsAgeStatisticChartComponent.js","main/statistic/StatisticDlsAgeStatisticSheetComponent.js","main/statistic/StatisticDlsStatisticChartContainer.js","main/statistic/StatisticContainer.js","main/statistic/ManagementStatic.js","main/MainRouter.tsx","main/Navbar.tsx","main/Navsub.tsx","main/Main.tsx","main/poll/ManagementPollDetail.js","main/poll/ManagementPollComplete.js","main/NotFound.tsx","App.tsx","constants/SERVER_INFO.ts","store.ts","rootReducer.ts","index.tsx","main/lss/pages/components/Holiday/HolidaySettingModal.module.scss","main/lss/pages/components/Holiday/Holiday.module.scss","main/lss/pages/components/Notice/NoticeCards.module.scss","main/lss/pages/components/Notice/Notice.module.scss"],"names":["AuthContext","createContext","AuthProvider","props","useState","sessionStorage","getItem","state","setState","useEffect","setItem","Provider","value","children","Copyright","document","body","className","Typography","variant","color","align","style","zIndex","margin","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","spacing","display","flexDirection","alignItems","avatar","width","form","marginTop","submit","SignInSide","classes","useContext","setIsAuth","id","setId","pw","setPw","Grid","container","component","classNames","loop","muted","autoPlay","playsInline","objectFit","top","padding","position","filter","src","backgroundVideo","type","Avatar","marginBottom","alt","logoImg","onError","error","currentTarget","noImg","cursor","fontFamily","fontWeight","fontSize","minWidth","noValidate","onSubmit","e","preventDefault","axios","get","params","adminID","trim","password","then","res","data","login","history","push","alert","catch","err","console","paddingRight","paddingLeft","marginLeft","UserOutlined","marginRight","maxWidth","border","borderRadius","textAlign","onChange","target","placeholder","LockOutlined","length","Button","fullWidth","boxShadow","Box","mt","DEV_SERVER","adminPW","kBodyWidth","MainFooter","GesIcon","getBanners","a","cur_page","banner_type","per_page","client_type","response","getBanner","banner_idx","createBanner","banner","log","post","modifyBanner","put","deleteBanner","delete","BANNER","fetchBanners","createAsyncThunk","fetchBanner","orderBanners","newOrder","returnOrder","forEach","order","idx","file_seq","slice","createSlice","name","initialState","banners","bannerDtoList","currentPage","totalPage","totalCount","file_info","reducers","editBanner","action","payload","setBannerType","addBannerFiles","files","addSingleBannerFiles","emptyBanner","undefined","emptyBanners","deleteFile","filtered","file","saved_file_name","extraReducers","fulfilled","response_body","actions","selectBanner","FormGuideComponent","title","guide","required","overflow","MenuGuide","subTitle","BannerDropzone","progress","setProgress","dispatch","useDispatch","dropzoneOptions","multiple","onDrop","acceptedFiles","config","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","formData","FormData","fileInfo","fileExt","split","pop","renamedFile","File","uuid","append","original_file_name","defaults","baseURL","accept","useDropzone","getRootProps","getInputProps","isDragAccept","size","strokeColor","percent","VideoWrapper","styled","ReactPlayer","BannerFile","getType","setGetType","includes","offsetSize","setOffsetSize","onLoad","offsetWidth","offsetHeight","onClick","Modal","info","modalRender","node","icon","closeIcon","maskClosable","closable","okButtonProps","okText","content","DeleteOutlined","attributes","controlsList","url","playing","heigth","BannerFilelist","bannerState","useSelector","onReorder","useCallback","Reorder","Group","axis","values","map","Item","whileDrag","scale","borderColor","BannerRangePicker","RangePicker","DatePicker","dateFormat","banner_start_date","moment","now","format","banner_end_date","add","BannerForm","match","useRouteMatch","useHistory","dashed","block","message","success","replace","RecommandImageForm","SimpleDcsDropZone","SimpleDcsForm","msg","ManagementBook","Option","Select","isLoading","setIsLoading","dataSource","setDataSource","setFilter","Number","parseInt","setCurrentPage","filterValue","setFilterValue","isUse","setIsUse","columns","dataIndex","key","render","item","record","text","index","to","pathname","mode","QuestionCircleOutlined","onConfirm","master_no","getBookIndex","onCancel","cancelText","useYN","setTimeout","books","selectFilter","defaultValue","span","checked","disabled","addonBefore","enterButton","onSearch","rowKey","loading","bordered","pagination","pageSize","current","api","SmartSearch","API","requestSmartSearch","keyword","curPageNo","perPage","Axios","SMART_SEARCH","fetchSmartSearch","current_page","smartSearchSlice","setKeyword","resetBooks","pending","description","toLowerCase","result","bookVoList","selectSmartSearch","PaginationWrapped","div","bottom","PaginationSvgButton","PaginationNumber","isActive","Pagination","totalPages","itemTypeToComponent","ITEM_TYPES","PAGE","isDisabled","ELLIPSIS","FIRST_PAGE_LINK","PREVIOUS_PAGE_LINK","NEXT_PAGE_LINK","LAST_PAGE_LINK","UltimatePaginationMaterialUi","createUltimatePagination","boundaryPagesRange","siblingPagesRange","hideFirstAndLastPageLinks","hidePreviousAndNextPageLinks","hideEllipsis","SmartSearchWrapped","visible","SmartSearchLi","li","SmartSearchUl","ul","CloseButton","NotFoundResult","ViewImage","img","noImage","SmartSearchText","SmartSearchCallNum","SmartSearchSpan","setVisible","page","setPage","setTotalPages","totalCnt","per","calPages","rest","returnPage","floor","calculateTotalPages","smartSearch","spinning","tip","mediaType","spc_code","imageUrl","call_no","ManagementBookForm","location","book","setBook","setGenre","setSpinning","isBack","setIsBack","inputKeyword","useRef","Form","useForm","genreSelectGenerator","setFieldsValue","spcCode","genre","author","publisher","publication_year","librarian_cmt","shelf_loc_name","inputStyle","AutoSearch","mKeyword","delayedQuery","_","debounce","q","onClickSearchLI","dataset","spccode","resBook","when","validateMessages","types","email","number","range","onFinish","goBack","noStyle","rules","autoComplete","readOnly","rows","maxLength","htmlType","requestLssGetForReturnDate","code_id","apiStrings","lss","returnDate","requestLssPutForMode","modeData","requestLssPutForReturnDate","returnData","requestLssGetForMode","equip_idx","requestLssGetForContents","contents","requestLssPostForContents","NoticeContent","requestLssPostForCaption","CaptionContent","requestLssPutForCaptionContents","requestLssPutForNoticeContents","requestLssDeleteForNoticeContents","lss_content_idx","lss_master_idx","requestLssDeleteForCaptionContents","CaptionContents","requestLssGetForHoliday","holiday","requestLssPutChangeForHolidy","HolidayElement","requestLssPatchChangeHoliday","patch","requestLssDeleteHoliday","requestLssPostHoliday","element","requestLssGetHolidayInfo","holidayInfo","caption","requestPutCaption","caption_idx","requestCreateCaption","requestGetCaption","requestGetCaptionList","requestDeleteCaption","CAPTION","fetchGetCaptionList","fetchCreateCaption","fetchGetCaption","fetchDeleteCaption","fetchPutCaption","captionSlice","desc","captionsList","isSpin","isProgress","setCaptionDesc","setCaptionTitle","setCaptionEquipIdx","setCaptionContents","setCaptionSelectedIdx","rejected","selectCaption","CaptionListWrapped","NoticeBox","isEdit","CaptionItemWrapped","isSelected","ItemsWrapped","DragIndicatorIconWrapped","DragIndicatorIcon","SpanIconWrapped","CaptionSpan","DeleteOutlinedWrapped","Wrapped","IconWrapped","DrawerTitle","memo","PlusCircleOutlined","reorder","list","startIndex","endIndex","Array","from","splice","removed","CaptionList","storeContents","captionIdx","setContents","captionList","seq","innerText","setCaptionList","selectedItemUUID","setSelectedItemUUID","selectedCaption","setSelectedCaption","editMode","setEditMode","InputTextRef","initData","$el","querySelector","addEventListener","classList","contains","resetDefaultState","CatpionContent","stopPropagation","JSON","parse","stringify","okType","ChangeModeComponent","onKeyDown","code","setValue","focus","preventScroll","ref","onPressEnter","inputText","sendData","onDragEnd","destination","fixedItems","source","droppableId","provided","snapshot","droppableProps","innerRef","set","onCaptionClick","draggableId","draggableProps","isDragging","draggableStyle","userSelect","grid","background","dragHandleProps","confirm","onOk","onCancle","ExclamationCircleOutlined","ManagementCaptionForm","equipIdx","equipList","setEquipList","setTitle","setDescription","applyEquip","setApplyEquip","equipIdxList","equipsIdxList","getEquipList","eqpType","formBlockStyle","showArrow","eqpName","keyboard","justifyContent","ContentsBtn","UploadWrapped","ManagementDcsFileUploadComponent","fileInfoForScreen","onChangeFileInfo","onSelectScreen","showUploadList","beforeUpload","isVideo","isImage","Upload","LIST_IGNORE","customRequest","onSuccess","fileList","copiedFileList","file_status","duration","LayoutWrapped","Screen","flexGrow","Row","Col","Layout1000","Layout101","Layout102","Layout103","Layout104","Layout105","Layout106","Layout107","Layout108","Layout109","Layout110","ApplyLayout","layoutType","modalDcsPreview","sourceUrl","saveName","URL","createObjectURL","originFileObj","imagePlayer","videoPlayer","ManagementDcsContentsListComponent","setFileList","selectedScreen","setSelectedScreen","onChangeFileList","createSeqFileList","verticalAlign","substring","offset","isNaN","test","targetIdx","onChangeDuration","EyeOutlined","copiedFile","onDeleteFile","fontStyle","ManagementDcslayout","onChangeLayout","dcsType","setDcsType","HorizontalLayoutComponent","colStyle","defaultActiveKey","TabPane","tab","layout101","layout1000","NumberInput","Input","ManagementDcsPlaylistTimeControlPanelWrapped","ManagementDcsPlaylistTimeControlPanel","setPlayDuration","inputValue","setInputValue","suffix","min","Overray","ProgressWrapped","UploadingProgressIndicator","progressPercentage","ManagementDcsFormV2","CancelToken","cancel","isLayoutModal","setIsLayoutModal","setLayoutType","dcsEquipList","setDcsEquipList","immutableDcsEquipList","setImmutableDcsEquipList","dcsSelectedEquip","setDcsSelectedEquip","setFileInfo","setSelectedFileList","setIsProgress","setProgressPercentage","dspType","setDspType","dcsTitle","setDcsTitle","setMode","setCmsMasterIdx","playDuration","usePreventLeave","enablePrevent","disablePrevent","setRecord","getDcsEquipList","Object","keys","sort","b","screenId","fileType","startsWith","rotationTime","layout_type","cSubject","master_idx","getAppliedEquipList","getFileInfo","cms_master_idx","cmsMasterIdx","appliedEquipList","fileInfoKeys","dcsList","fikIdx","file_type","String","uid","org_name","ref_idx","sendDataModify","dcsObj","cancelToken","c","json","dcsBlob","Blob","isCancel","onChangeEquip","fileInfoParam","tempFileInfo","screen","footer","ManagementDcsLayout","layoutTypeParam","dspTypeParam","screen1","screen2","screen3","i","entries","cContents","cType","postDcs","ManagementDcsContentsList","copiedFileInfo","assign","getAll","settingAllPower","getAllSync","settingAllUse","eqpIsPowerBatch","settingAllPowerTime","eqpPowerStartTime","eqpPowerEndTime","settingAllDays","eqpPowerWeekday","getCurrSync","eqpOS","pwrMgtAddress","getReset","settingSysReservation","currStartTime","currEndTime","controlCurrPower","status","EquipItem","sys","ict","os","WindowsFilled","AndroidFilled","prompt","Constants","eqpCPU","eqpMEM","eqpIP","EquipList","EquipListTab","DisplaySysName","power","selected","usage","PowerSettingsNewOutlined","AccessTimeOutlined","SettingUsageAndTime","getEquipIndex","startTime","endTime","complete","setComplete","start","totalTime","diff","formatedTime","utc","h","hour","toggleChange","usingReservation","sendTime","time","timeType","checkedChildren","unCheckedChildren","strokeWidth","onSelect","prevData","SettingOperation","LoadingSpin","powerBatch","BTN_STYLE","powerOnOffHandler","placement","PowerOutlined","PowerOffOutlined","SyncOutlined","SettingTime","allPowerTime","setAllPowerTime","shape","DaysItem","day","SettingDays","pickedDays","picked","setPicked","setLoading","daysSettingHandler","sortedArr","toString","find","el","Boolean","d","prev","OperationManagement","statusIcon","mem","cpu","powerOn","OPERATION_DIV","SmileOutlined","MehOutlined","SelectedSysControl","sysName","syncSpinning","setSyncSpinning","resetSpinning","setResetSpinning","antIcon","LoadingOutlined","spin","SYS_BTN","resetHandler","syncHandler","powerHandler","PoweroffOutlined","RedoOutlined","indicator","RightOutlined","CloudSyncOutlined","Header","Layout","Sider","Content","EquipManageTab","setIndex","powerYN","memNumber","cpuNumber","ManagementEquip","Tabs","setPowerBatch","allUse","some","activeKey","animated","ManagementEquipForm","SN","eqpID","eqpCpuCore","eqpCpuHz","eqpUniqueID","eqpPowerModule","onClose","initialValue","hidden","Help","getDvdLists","getDvdDetail","room_seq","deleteDvdItem","postDvdItem","putDvdItem","postCancelReserve","postRoomReserve","getDvdLogs","DVD","DvdSlice","room_name","use_flag","bookable_count","start_time","end_time","hours_of_use","select_count","setDvdRoomName","setDvdDetail","selectDvdSlice","DvdDailyAddForm","available_time","setAvailable_time","tabKey","daily","setDaily","days","reset","arr","fill","settingWeekday","weekend","endIdx","startIdx","settingDailyTime","DvdAddForm","setStartTime","setEndTime","maxHour","setMaxHour","maxCount","setMaxCount","currVal","setCurrVal","sameEveryday","setSameEveryday","setHoursOfUse","status_code","destroyInactiveTabPane","validateStatus","help","max","useGetDvdDetail","getDvdDetailData","useGetDvdList","getReserverDate","getUser","user_key","card_password","USER","fetchUser","user","birthDay","is_user_id","is_user_nm","is_user_phone","is_user_no","is_user_birth","reg_date","is_user_pwd","userDvdReserveTimes","userRoomSeq","userRoomName","resetUser","setUserPassword","pwd","setUserDvdReserveTimes","setUserDvdEndTimes","userDvdEndTimes","setUserRoomSeq","setUserRoomName","roomName","selectUser","DvdMakeReservation","openModal","setIsModal","selectedTimes","onReserveRoom","changeRoomName","sortedData","_item","_record","closeModal","DvdDetailForm","rooms","setChangeRoomName","mStartTime","setmStartTime","mEndTime","setmEndTime","mUseFlag","setmUseFlag","mHours","setmHours","mCount","setmCount","availableTime","setAvailableTime","totalHour","setTotalHour","selectedRowkeys","setSelectedRowkeys","setSelectedTimes","isModal","setErr","parsedUserNo","extractHour","separator","bookedUser","bookable","warning","onFix","end","putData","onDeleteClick","onChangeInput","rowSelection","selectedObj","getCheckboxProps","obj","selectedRows","maxSeq","hideSelectAll","userKey","reserve_time","userInfo","userNo","reserveInfo","details","onCancelReserve","isY","user_name","label","expandIcon","SettingOutlined","rotate","Panel","header","CaretDownOutlined","isNull","danger","autoFocus","EventPosterUploadComponent","previewVisible","setPreviewVisible","previewImage","setPreviewImage","getBase64","eventPoster","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","handlePreview","preview","listType","onPreview","UploadOutlined","EventDetailComponent","eventMaster","eventTarget","event_master_idx","event_title","event_description","event_apply_start_date","event_apply_end_date","event_activity_start_date","event_activity_end_date","daysStr","dayArray","daysStrArray","covertDays","event_activity_weekday","event_activity_start_time","event_activity_end_time","event_place","age","getAgeName","event_target_age","event_target_sex","event_is_group","event_group_limit_cnt","event_is_public","EventDetailEnrolleeListComponent","getEvent","enrolleeList","setEnrolleeList","eventApplicantState","setEventApplicantState","formatPhoneNumber","eventValues","event_applicant_state","event_applicant_idx","getEnrolleeList","EventDetailContainer","event","setEvent","sendImages","getEventPoster","event_poster","event_poster_file_name","extension","tempFileList","imageList","event_master","event_target","deleteEvent","EventFormComponent","eventIsGroup","setEventIsGroup","maxGroupCnt","setMaxGroupCnt","event_applicant_limit_cnt","event_apply_period_date","event_activity_period_date","event_activity_time","rangeConfig","startDate","endDate","initialValues","formatter","EventFormContainer","ItemLoanDetailMasterBlockComponent","itemMaster","blockScheduleList","setItemMaster","datePickerValue","setDatePickerValue","getClosureSchedule","closureList","setClosureList","block_start_date","block_end_date","blockPeriod","setBlockPeriod","disabledDate","closure","closure_date","startOf","renderExtraFooter","Map","toJS","renderItem","CaretRightOutlined","deleteBlockPeriod","ItemLoanDetailMasterEquipComponent","selectedEquipList","ItemLoanDetailMasterLoanReturnStatusComponent","item_master_loan_mode","item_master_loan_days","item_master_end_date","ItemLoanDetailMasterOperationTimeComponent","item_master_operation_start_time","item_master_operation_end_time","isEditable","setIsEditable","timeValue","setTimeValue","item_master_idx","ItemLoanDetailMasterStatusComponent","isBlockSettingVisible","setIsBlockSettingVisible","modifyIsItemMasterIsBlock","direction","item_master_is_block","item_master_is_block_origin","trigger","ItemLoanDetailMasterComponent","setSelectedEquipList","item_master_subject","item_master_desc","total_item_cnt","item_status_state","is_item_loaning_cnt","is_item_ready_cnt","is_reserve_cnt","is_inspection_cnt","is_block_cnt","group_concat_equip_idx","item_master_is_editable","getIsEquipList","YN","item_master_is_del","ItemLoanDetailPropStatusComponent","itemDetail","isVisible","setIsVisible","modifyIsItemPropState","itemDetailParam","calcLeftTime","item_prop_subject","reserve_left_time","reserve_left_time_for_office","minutes","PropsStateComponent","FilterObject","this","item_prop_uuid","start_date","end_date","user_id","ItemLoanDetailItemHistoryComponent","is_user_info","item_prop_idx","item_prop_reg_date","item_prop_seq","item_status_is_sys","item_status_reg_date","item_status_start_dttm","item_status_user","isItemHistoryModal","setIsItemHistoryModal","getItemHistory","histList","FilterOutlined","allowClear","ItemLoanDetailItemComponent","item_status_end_dttm","ItemLoanDetailContainer","itemList","getItemMasterAndStatus","sortBy","ItemLoanItemEditor","items","setItems","item_prop_desc","getTime","addonAfter","deleteItem","ItemLoanForm","loanMode","setLoanMode","loan_idx","getLoanItem","closureDate","closureDateBoolean","itemMasterIdx","LoanModeComponent","animation","itemArray","resultMap","getItemLoanList","getItemLoanDetail","deleteItemLoan","postItemLoan","putItemLoan","postReturnReserve","postItemLoanReserve","getItemLoanLogs","ITEMLOAN","ItemLoanSlice","item_name","setItemLoanName","setItemLoanDetail","selectItemLoanSlice","ItemDailyAddForm","ItemLoanAddForm","item_seq","useGetItemDetail","getItemDetailData","useGetItemList","ItemLoanMakeReservation","ItemLoanDetailForm","changeItemName","setChangeItemName","onReturnReserve","EnterOutlined","LSS_DETAIL","fetchGetDefaultInfo","args","fetchPutMode","fetchGetReturnDate","fetchPutReturnDate","codeName","fetchGetContents","fetchPutCaptionContents","fetchPostNoticeContents","fetchPostCaptionContents","fetchPutNoticeContents","fetchDeleteNoticeContents","fetchDeleteCaptionContents","fetchGetHoliday","fetchPutChangeHoliday","fetchPatchChangeHoliday","fetchDeleteHoliday","fetchPostHoliday","fetchGetHolidayInfo","lssSlice","notice","LegalHoliday","date","period1","period2","setEquipIdx","setReturnDate","setEqpName","NOTICE","휴일","공휴일","selectLssDetail","RadioMode","prevMode","setPrevMode","onConfirmPutMode","onChangeMode","onCancelMode","Inner","Title","InputNumberWrapped","InputNumber","ReturnDateComponent","onChangeDate","onChangeDateSave","codeGroup","codeID","InnerWrapped","TabsWrapped","TabWrapped","SpanWrapped","SettingIconWrapped","CalendarIconWrapped","CalendarOutlined","IconButton","RedIconButton","BaddgeWrapped","CardWrapped","Card","DeleteIcon","TextFieldsWrapped","TextArea","NoticeCards","is_used","modeState","setModeState","setIsDisabled","isUsed","setIsUsed","lssContentIdx","setLssContentIdx","lssMasterIdx","mContent","setmContent","prevContent","setPrevContent","textRef","onNoticeContentPutChange","fixedData","onChangeUsed","onChangeText","onSaveText","resizableTextArea","onDeleteIcon","onNoticeDelete","Textfields","styles","autoSize","maxRows","cols","BadgeIcon","ModifyIconBtn","EditOutlined","UsedIconBtn","CheckOutlined","DeleteIconBtn","card","cover","CardsWrapped","TextWrapped","DrawerWrapped","Drawer","SettingTwoTone","TextAreaWrapped","Notice","selectedContent","selectedContents","setSelectedContents","o","useGetUsedNotice","onClickAddIcon","twoToneColor","drawer","getContainer","maskStyle","CaptionWrapped","CaptionItems","Caption","TitleWrapped","SelectWrapped","RadioWrapped","RadioAntWrapped","Radio","RadioButtonAntWrapped","RadioTitle","h2","ExplanWrapped","MonthWrapped","WeeklyWrapped","FortnightlyWrapped","BaseDateWrapped","ChangeButton","RadioGroupWrapped","DatePickerWrapped","TitleTextWrapped","p","SelectGroupWrapped","ArticleWrapped","article","FooterWrapped","MainWrapped","main","useGenerateDayOfTheWeekKey","dayOfTheWeek","keyOfWeek","setKeyOfWeek","weekData","HolidaySettingModal","setHolidayInfo","prevHolidayInfo","setPrevHolidayInfo","dayOfWeek","setDayOfWeek","WeekCnt","OddEven","Text","onCancelHolidayInfo","getPopupContainer","parentElement","handleCancel","SelectComponent","init","options","RadioComponent","BaseDayComponent","picker","dateRender","sunday","onMouseOver","oddOrEven","oddeven","querySelectorAll","setProperty","onMouseOut","TitleComponent","strong","underline","useMotionOpacity","framterControl","opacity","transition","DateWrapped","RangePickerWrapped","InnerColumnButton","DivideWrapped","Divider","ButtonWrapped","InputWrapped","MotionDivWrapped","motion","useMotionMovingAxisY","y","HolidayAddModal","selectedDate","addForHolidayDate","setAddForHolidayDate","startMonth","startDay","endMonth","endDay","addForInputDesc","setAddForInputDesc","selectedDateInCalendar","ModalControls","useAnimation","StartTitleControls","EndTitleControls","animate","justify","h1","onCalendarChange","startday","useGenerateHolidayUuid","Holiday","Legal","holidayArray","setHolidayArray","badge","badgeType","getDatesStartToLast","regex","RegExp","curDate","toISOString","setDate","getDate","getIncludesHolidayOfDay","parentItem","ArrayStartAndEnd","period","SetupIconWrapped","HeaderWrapped","BadgeWrapped","HeaderButtonWrapped","TitileDescWrapped","HolidayDetailModal","setDesc","setStartDate","setEndDate","Footer","onChangeConfirm","onDeleteConfirm","onUsedChange","onDescChange","defaultChecked","settingModalVisible","setSettingModalVisible","addModalVisible","setAddModalVisible","detailModalVisible","setDetailModalVisible","selectedModalData","setSelectedModalData","setSelectedDate","DrawCalendarColor","$title","timerId","clearTimeout","showAddModal","showModal","onClickHoliday","HolidayBadgeItem","onMouseEnter","toggle","badgeActive","onMouseLeave","onPanelChange","PlusCircleTwoTone","calendar","fullscreen","dateCellRender","holidays","ManagementLssScreen","setTabKey","isVisibleNotice","setIsVisibleNotice","isVisibleCaption","setIsVisibleCaption","myeqid","exec","EquipIdx","ReturnDate","ManagementMagImageUpload","setParentImageList","setImageList","Dragger","draggerProps","showPreviewIcon","showDownloadIcon","showRemoveIcon","ManagementMagForm","isSpinning","setIsSpinning","getMagEquipList","getFileList","equip","duration_sec","mag_idx","orgName","modifyImages","doneInfo","uploadingInfo","registBlackList","extendBlackList","cancelBlackList","getBanList","BLACKLIST","fetchExtendBlackList","fetchCancelBlackList","fetchGetBlackList","banList","selectBlackList","BlackTableWrapped","BlackTable","blackList","black_type","_idx","search_type","extend_day","PlusOutlined","postBlackList","ActionWrapped","MemberSearchModal","setUser","setInputText","stateCode","setStateCode","setType","findUser","getUserFromLas","destroyOnClose","centered","labelStyle","BlackListContainerWrapped","TableWrapped","BlackListContainer","DvdLogModal","isDvdModal","setUserKey","setUserName","okOk","mStart","mEnd","DvdContainer","_dataSource","EventTableContaner","eventStatus","setEventStatus","keywordInput","getPrograms","clearableInput","event_applicant_total_cnt","onRow","rowIndex","onDoubleClick","onContextMenu","ItemLoanLogModal","ItemLoanContainer","pageNumber","OfficeDetailContainer","TabletDetailContainer","ManagementIs","BannerTable","Banner","RecommandTable","Recommand","postLectureExcel","getLectureByType","postLectureType","deleteType","type_seq","updateType","getLectureListByType","getLectureDetail","lecture_seq","LECTURE","fetchLectureCategory","fetchLectureList","fetchLectureDetail","lectureSlice","categoryList","lectureList","lectureDetail","lectureTypeSeq","method","instructor","recruitmentCount","roomNo","weekDay","lectureTime","materialCosts","selectedCategory","setSelectedCategory","resetLecture","resetLectureDetail","selectLectureSlice","CenterAddForm","resetFields","CenterTable","editing","setEditing","editingSeq","setEditingSeq","editingTitle","setEditingTitle","editingPwd","setEditingPwd","editingHandler","cancelBtnHandler","something","Password","visibilityToggle","isClicked","parsedPwd","CenterForLecture","LectureTable","pickedType","no","defaultPageSize","showSizeChanger","DetailHeader","LectureModalText","field","LectureModalDetail","handleDetailModal","LectureExcelAddForm","centerObj","setCenterObj","defaultFileList","setDefaultFileList","showFile","setShowFile","onProgress","centerBlob","isExcel","LectureList","Lecture","ManagementScreen","ManagementUser","whitespace","ManagementPollContentCard","onChangeQuestion","onChangeItemType","onDeleteItem","questionId","questionTitle","setQuestionTitle","addQuestions","closeIconStyle","StyledAddElementButton","AddElementButton","addProps","copiedQuestions","question_id","item_id","minHeight","question","onDeleteQuestion","borderBottom","ManagementPollTitleCard","pollTitle","setPollTitle","pollDesc","setPollDesc","useYn","setUseYn","input","borderTop","borderTopRightRadius","borderTopLeftRadius","resize","ManagementPollForm","master_id","masterId","createQuestion","getPollDetail","questions","copiedItems","isDraggingOver","question_title","offsetBottom","float","ResultTitleCard","response_cnt","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","radius","x","cos","sin","textAnchor","dominantBaseline","toFixed","ResultContentCard","questionResults","setQuestionResults","isNarrativeModal","setIsNarrativeModal","questionResultsIdx","setQuestionResultsIdx","narrativeResultList","setNarrativeResultList","cardStyle","answer","resultList","questionResultMap","dataList","formattingName","answer_cnt","labelLine","legendType","entry","randomColor","luminosity","layout","iconSize","iconType","dataKey","hide","onClickNarrative","MoreOutlined","ManagementPollResult","getQuestionResultTitle","getQuestionResults","pollIndex","requestEventStatisticPerDayForChart","subtract","StatisticEventAgedChart","agedData","strokeDasharray","domain","allowDecimals","unit","requestExportExcel","responseType","blob","blobURL","window","tempLink","createElement","setAttribute","appendChild","click","removeChild","revokeObjectURL","StatisticEventPerEventDataSheet","FileExcelOutlined","StatisticEventPeriodChart","periodData","stackId","StatisticEventContainer","chartData","setChartData","sheetData","setSheetData","setAgedData","getChartData","getSheetData","getAgedData","SITE","requestLogInfo","code_name","site","TOTAL_LOG","fetchRawTotalLog","totalLogSlice","rawChartData","setLogDate","selectTotalLog","Wrapper","StatisticEventPieChart","backClick","count","StaticsTotalLogs","drawData","setDrawData","rawData","array","dummy","StatisticDlsAgeStatisticChartComponent","setPeriodData","getDlsAgeStatisticForChart","datas","finally","StatisticDlsAgeStatisticSheetComponent","fillDateInTable","requestDlsAgeStatisticForSheet","StatisticDlsStatisticChartContainer","StatisticContainer","ManagementStatic","MainRouter","exact","path","Menu","active","Navbar","_pathname","useLocation","Navsub","HomeOutlined","clear","LogoutOutlined","Main","isAuth","interceptors","request","use","TitleCard","setPollDescription","oncontextmenu","button","pollDescription","ManagementPollDetail","setQuestions","answers","setAnswers","userId","pollMaster","radioStyle","lineHeight","onChangeAnswer","theAnswer","copiedAnswers","removeTargetIdx","shift","paddingTop","ManagementPollComplete","NotFound","App","locale","ko_KR","paramsSerializer","qs","GES_DEV","LOCALHOST","TAK","NONHYEON","SAMCHEOK_LEARNINGCENTER","SERVER_URL","PROD","DEV","rootReducer","combineReducers","router","connectRouter","LssSettingsReducer","CaptionSettingsReduecer","SmartSearchSettingsReducer","BannerReducer","TotalLogReducer","ItemLoanSliceReducer","DvdSliceReducer","userReducer","blackListReducer","createRootReducer","createHashHistory","process","createLogger","level","collapsed","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","concat","logger","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1fdb4774.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\n// Context구현 참고 사이트\r\n// https://velopert.com/3606\r\n// https://www.robinwieruch.de/react-usecontext-hook\r\n// https://upmostly.com/tutorials/how-to-use-the-usecontext-hook-in-react\r\n\r\nconst AuthContext = createContext<\r\n  [boolean, React.Dispatch<React.SetStateAction<boolean>>]\r\n>([false, () => {}]);\r\n\r\nconst AuthProvider = (props: {\r\n  children:\r\n    | boolean\r\n    | React.ReactChild\r\n    | React.ReactFragment\r\n    | React.ReactPortal\r\n    | null\r\n    | undefined;\r\n}) => {\r\n  const [state, setState] = useState(\r\n    sessionStorage.getItem('isAuth') == 'true'\r\n  );\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem('isAuth', state ? 'true' : 'false');\r\n  }, [state]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={[state, setState]}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","export default __webpack_public_path__ + \"static/media/cms_as_logo.1cc11a3b.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/01.59580efe.png\";","export default __webpack_public_path__ + \"static/media/01.fe77914d.png\";","export default __webpack_public_path__ + \"static/media/02.275ce6f2.png\";","export default __webpack_public_path__ + \"static/media/03.2981c9ec.png\";","export default __webpack_public_path__ + \"static/media/04.73dd7eba.png\";","export default __webpack_public_path__ + \"static/media/05.477008fc.png\";","export default __webpack_public_path__ + \"static/media/06.91190d18.png\";","export default __webpack_public_path__ + \"static/media/07.0829df2d.png\";","export default __webpack_public_path__ + \"static/media/08.dff77f7a.png\";","export default __webpack_public_path__ + \"static/media/09.d9402bc9.png\";","export default __webpack_public_path__ + \"static/media/1000.66447d06.png\";","export default __webpack_public_path__ + \"static/media/02.a639411d.png\";","export default __webpack_public_path__ + \"static/media/03.ea6a65d2.png\";","export default __webpack_public_path__ + \"static/media/04.79936b05.png\";","export default __webpack_public_path__ + \"static/media/05.578d0fe0.png\";","export default __webpack_public_path__ + \"static/media/06.7803ebc4.png\";","export default __webpack_public_path__ + \"static/media/07.a6ca6a54.png\";","export default __webpack_public_path__ + \"static/media/08.0b7557f4.png\";","export default __webpack_public_path__ + \"static/media/09.230c819a.png\";","export default __webpack_public_path__ + \"static/media/10.8a658a37.png\";","export default __webpack_public_path__ + \"static/media/login_background_video.34993fce.mp4\";","import { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Input } from \"antd\";\r\nimport axios from \"axios\";\r\nimport classNames from \"classnames\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport logoImg from \"../images/cms_as_logo.png\";\r\nimport { noImg } from \"../main/CommonImage\";\r\nimport backgroundVideo from \"../video/login_background_video.mp4\";\r\nimport \"./SignInSide.css\";\r\n\r\nfunction Copyright() {\r\n  useEffect(() => {\r\n    document.body.className = \"cms-login\";\r\n  }, []);\r\n\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"textSecondary\"\r\n      align=\"center\"\r\n      style={{ zIndex: 2 }}\r\n    >\r\n      {/* {'Copyright © '} */}\r\n      <span style={{ color: \"white\", margin: \"0px 5px\" }}>\r\n        {/* Intelligent Management System | */}\r\n        Contents Management System |\r\n      </span>\r\n      <span style={{ color: \"white\" }}>Copyright © </span>\r\n      <a color=\"inherit\" href=\"http://greeneffect.co.kr/\">\r\n        GreenEffect\r\n      </a>{\" \"}\r\n      <span style={{ color: \"white\" }}>{new Date().getFullYear()}</span>\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor: theme.palette.grey[50],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: \"white\",\r\n    width: \"80px\",\r\n    height: \"80px\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignInSide(props: any) {\r\n  const userInfo = {\r\n    id: \"admin\",\r\n    pw: \"1234\",\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const [isAuth, setIsAuth] = useContext(AuthContext);\r\n\r\n  const [id, setId] = useState(\"\");\r\n  const [pw, setPw] = useState(\"\");\r\n\r\n  const onChangeId = (e: any) => {\r\n    setId(e.target.value);\r\n  };\r\n\r\n  const onChangePw = (e: any) => {\r\n    setPw(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .get(`/user/login`, {\r\n        params: {\r\n          adminID: id.trim(),\r\n          password: pw.trim(),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if ((res.data as any).login === \"Y\") {\r\n          setIsAuth(true);\r\n          sessionStorage.setItem(\"userInfo\", id);\r\n          props.history.push(\"/\");\r\n        } else {\r\n          alert(\"ID와 비밀번호를 정확히 입력해주세요\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      {/* <CssBaseline /> */}\r\n      {/* <Grid item xs={false} sm={4} md={7} className={classes.image} /> */}\r\n      <div className={classNames(classes.paper, \"w-screen h-screen\")}>\r\n        <video\r\n          loop\r\n          muted\r\n          autoPlay\r\n          playsInline\r\n          style={{\r\n            objectFit: \"cover\",\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n            top: 0,\r\n            padding: \"none\",\r\n            position: \"fixed\",\r\n            filter: \"brightness(40%)\",\r\n            zIndex: 0,\r\n          }}\r\n        >\r\n          <source src={backgroundVideo} type=\"video/mp4\" />\r\n        </video>\r\n        <Avatar\r\n          className={classes.avatar}\r\n          style={{ zIndex: 2, marginTop: \"10%\", marginBottom: \"20px\" }}\r\n        >\r\n          {/* <ImportContactsIcon style={{ color: 'green', fontSize: '2.5em' }} /> */}\r\n          <img\r\n            alt=\"chungnam_logo\"\r\n            src={logoImg}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n          />\r\n        </Avatar>\r\n        <Typography\r\n          component=\"h1\"\r\n          variant=\"h5\"\r\n          style={{\r\n            zIndex: 2,\r\n            color: \"white\",\r\n            cursor: \"default\",\r\n            // fontFamily: 'bmjua',\r\n            fontFamily: \"yun350\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"2.5em\",\r\n          }}\r\n        >\r\n          CMS LOGIN\r\n        </Typography>\r\n        <Typography\r\n          component=\"h4\"\r\n          variant=\"h5\"\r\n          style={{\r\n            zIndex: 2,\r\n            color: \"white\",\r\n            cursor: \"default\",\r\n            fontFamily: \"yun350\",\r\n            fontSize: \"1.5em\",\r\n          }}\r\n        >\r\n          {/* Namdong Nonhyeon Public Library */}\r\n          {`Samcheok City Lifelong Learning Center`}\r\n        </Typography>\r\n\r\n        <div\r\n          style={{\r\n            width: \"30%\",\r\n            minWidth: \"400px\",\r\n            zIndex: 99,\r\n            marginTop: \"20px\",\r\n          }}\r\n        >\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            onSubmit={handleSubmit}\r\n            style={{\r\n              zIndex: 2,\r\n              paddingRight: \"20px\",\r\n              paddingLeft: \"20px\",\r\n              marginLeft: \"-20px\",\r\n            }}\r\n          >\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <span style={{ marginTop: \"3px\" }}>\r\n                <UserOutlined\r\n                  style={{\r\n                    fontSize: \"2.5em\",\r\n                    color: \"white\",\r\n                    marginRight: \"10px\",\r\n                    position: \"relative\",\r\n                    top: \"7px\",\r\n                  }}\r\n                />\r\n              </span>\r\n              <Input\r\n                className=\"loginInput\"\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"#ffffff22\",\r\n                  fontSize: \"1.5em\",\r\n                  height: \"60px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  border: \"3px solid white\",\r\n                  borderRadius: \"30px\",\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"bmjua\",\r\n                }}\r\n                onChange={onChangeId}\r\n                placeholder=\"아이디\"\r\n              />\r\n            </div>\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <LockOutlined\r\n                style={{\r\n                  fontSize: \"2.5em\",\r\n                  color: \"white\",\r\n                  marginRight: \"10px\",\r\n                  position: \"relative\",\r\n                  top: pw.length > 0 ? \"8px\" : \"11px\",\r\n                }}\r\n              />\r\n              <Input\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"#ffffff22\",\r\n                  fontSize: \"1.5em\",\r\n                  border: \"3px solid white\",\r\n                  height: \"60px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  borderRadius: \"30px\",\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"bmjua\",\r\n                }}\r\n                onChange={onChangePw}\r\n                placeholder=\"비밀번호\"\r\n                type=\"password\"\r\n                className=\"loginInput\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <LockOutlined\r\n                style={{\r\n                  fontSize: \"2.5em\",\r\n                  color: \"transparent\",\r\n                  marginRight: \"10px\",\r\n                }}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"default\"\r\n                style={{\r\n                  backgroundColor: \"#ffffff !important\",\r\n                  height: \"50px\",\r\n                  borderRadius: \"30px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  boxShadow: \"inset -5px -4px 3px #a8a19c\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                className={classes.submit}\r\n              >\r\n                <span\r\n                  style={{\r\n                    fontSize: \"1.5em\",\r\n                    fontWeight: \"bold\",\r\n                    fontFamily: \"bmjua\",\r\n                    cursor: \"pointer\",\r\n                    color: \"#444444\",\r\n                  }}\r\n                >\r\n                  로그인\r\n                </span>\r\n              </Button>\r\n            </div>\r\n\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n}\r\n","// export const DEV_SERVER = 'http://192.168.0.250:28080';\r\n// export const DEV_SERVER = 'http://localhost:28080'; // 영탁 자리\r\n// export const DEV_SERVER = 'http://192.168.0.202:28080'; // 영훈 자리\r\nexport const DEV_SERVER = 'http://183.102.131.99:28080'; // 개발팀\r\n// export const DEV_SERVER = 'http://183.102.131.99:52528'; // 영훈자리\r\n\r\n// export const DEV_SERVER = 'http://192.168.0.55:28080'; // 영탁 자리\r\n// export const DEV_SERVER = \"http://192.168.0.117:8080\";\r\n// export const DEV_SERVER = \"http://110.47.104.221:28080\";\r\n// export const DEV_SERVER = 'http://210.223.104.61:60014'; // 아양 외부\r\n// export const DEV_SERVER = \"http://10.10.10.15:28080\"; // 아양 내부\r\n// export const DEV_SERVER = 'http://192.168.10.21:28080'; // 임실 내부\r\n\r\n// export const DEV_SERVER = 'http://192.168.11.238:28080'; // 논현 내부\r\n// export const DEV_SERVER = 'http://211.226.147.37:28080'; // 논현 외부\r\n\r\n// export const DEV_SERVER = 'http://10.10.64.51:28080'; // 아산 내부\r\n\r\n// export const DEV_SERVER = 'http://10.40.10.21:28080'; // 원주 내부\r\n// export const DEV_SERVER = 'http://175.206.27.230:28080'; // 원주 외부\r\n\r\n// export const DEV_SERVER =\r\n//   'http://ec2-13-209-22-111.ap-northeast-2.compute.amazonaws.com:28080';\r\n\r\nexport const adminPW = 'green@2020';\r\n\r\nexport const TABLET_ITEM_MASTER_IDX = '47';\r\nexport const OFFICE_ITEM_MASTER_IDX = '48';\r\n\r\nexport const kBodyWidth = 1130;\r\n","export default __webpack_public_path__ + \"static/media/greeneffect_icon.49dfbd0e.png\";","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport GesIcon from \"../images/greeneffect_icon.png\";\r\nimport { kBodyWidth } from \"./Constants\";\r\n\r\nexport default function MainFooter() {\r\n  return (\r\n    <div\r\n      className={classNames(\"h-full\", \"flex items-center\")}\r\n      style={{ width: kBodyWidth }}\r\n    >\r\n      <a\r\n        color=\"white\"\r\n        href=\"http://greeneffect.co.kr/\"\r\n        className={classNames(\"w-28\")}\r\n      >\r\n        <img src={GesIcon} alt=\"gesicon\" />\r\n      </a>\r\n      <div className={classNames(\"text-white ml-10\")}>\r\n        CMS ©2020 Created by {/* IMS ©2020 Created by{' '} */}\r\n        <a color=\"white\" href=\"http://greeneffect.co.kr/\">\r\n          GreenEffectSolution\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { orderBanners } from '../slice/BannerSlice';\r\nimport { BannerBody } from '../types/Banner';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\nimport { BannerDtoList } from './../types/Banner';\r\n\r\nexport const getBanners = async ({ cur_page, banner_type = 'EVENT' }: { cur_page: number; banner_type: 'EVENT' | 'RECOMMEND' | 'CULTURE' | 'MULTI' }) => {\r\n  const response = await axios.get<ResponseVo<BannerBody>>(`/banners`, {\r\n    params: {\r\n      per_page: 10,\r\n      cur_page,\r\n      client_type: 'cms',\r\n      banner_type,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getBanner = async ({ banner_idx }: { banner_idx: string }) => {\r\n  const response = await axios.get<ResponseVo<BannerDtoList>>(`/banners/${banner_idx}`);\r\n  return response.data;\r\n};\r\n\r\nexport const createBanner = async ({ banner }: { banner?: BannerDtoList }) => {\r\n  if (!banner) return;\r\n  console.log('aaa');\r\n  console.log(banner);\r\n\r\n  const response = await axios.post<ResponseVo<any>>(`/banners`, banner);\r\n\r\n  return response;\r\n};\r\n\r\nexport const modifyBanner = async ({ banner }: { banner?: BannerDtoList }) => {\r\n  if (!banner) return;\r\n\r\n  const response = await axios.put<ResponseVo<any>>(`/banners/${banner.banner_idx}`, banner);\r\n\r\n  return response;\r\n};\r\n\r\nexport const deleteBanner = async ({ banner_idx }: { banner_idx: number }) => {\r\n  const response = await axios.delete<ResponseVo<any>>(`/banners/${banner_idx}`);\r\n  return response;\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { getBanner, getBanners } from '../api/banner.api';\r\nimport { BannerBody } from '../types/Banner';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\nimport { BannerDtoList, FileInfo } from './../types/Banner';\r\n\r\nexport const BANNER = 'banner' as const;\r\n\r\ntype SliceState = {\r\n  banners: BannerBody;\r\n  banner?: BannerDtoList;\r\n};\r\n\r\ntype PayloadType = {\r\n  [BANNER]: SliceState;\r\n};\r\n\r\nexport const fetchBanners = createAsyncThunk(`${BANNER}/fetchBanners`, getBanners);\r\n\r\nexport const fetchBanner = createAsyncThunk(`${BANNER}/fetchBanner`, getBanner);\r\n\r\nexport const orderBanners = (newOrder?: FileInfo[]) => {\r\n  if (!newOrder) return;\r\n  const returnOrder: FileInfo[] = [];\r\n  newOrder.forEach((order, idx) => {\r\n    returnOrder.push({ ...order, file_seq: idx } as FileInfo);\r\n  });\r\n  return returnOrder;\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: BANNER,\r\n  initialState: {\r\n    banners: {\r\n      bannerDtoList: [],\r\n\r\n      currentPage: 1,\r\n      totalPage: 1,\r\n      totalCount: 0, //\r\n    },\r\n    banner: {\r\n      banner_type: 'EVENT',\r\n      file_info: [],\r\n    },\r\n  } as SliceState,\r\n  reducers: {\r\n    editBanner: (state: SliceState, action: PayloadAction<BannerDtoList>) => {\r\n      state.banner = {\r\n        ...state.banner,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setBannerType: (state: SliceState, action: PayloadAction<{ banner_type: 'EVENT' | 'RECOMMEND' | 'CULTURE' | 'MULTI' | undefined }>) => {\r\n      state.banner = {\r\n        ...state.banner,\r\n        ...action.payload,\r\n      };\r\n      console.log(state.banner);\r\n    },\r\n    addBannerFiles: (state: SliceState, action: PayloadAction<FileInfo[]>) => {\r\n      const files = state.banner?.file_info ? [...state.banner.file_info, ...action.payload] : [...action.payload];\r\n\r\n      state.banner = { ...state.banner, file_info: files };\r\n    },\r\n    addSingleBannerFiles: (state: SliceState, action: PayloadAction<FileInfo[]>) => {\r\n      if (state.banner) {\r\n        state.banner = { ...state.banner, file_info: [...action.payload] };\r\n      }\r\n    },\r\n    emptyBanner: (state: SliceState) => {\r\n      const a = state.banner?.banner_type;\r\n      state.banner = undefined;\r\n      state.banner = {\r\n        banner_type: a,\r\n      };\r\n    },\r\n    emptyBanners: (state: SliceState) => {\r\n      state.banners = {\r\n        bannerDtoList: [],\r\n        currentPage: 1,\r\n        totalPage: 1,\r\n        totalCount: 0,\r\n      };\r\n    },\r\n    deleteFile: (state: SliceState, action: PayloadAction<FileInfo>) => {\r\n      const filtered = state.banner?.file_info?.filter((file) => {\r\n        return file.saved_file_name !== action.payload.saved_file_name;\r\n      });\r\n      state.banner = { ...state.banner, file_info: filtered };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchBanners.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<BannerBody>>) => {\r\n      if (action.payload.response_body) {\r\n        state.banners = action.payload.response_body;\r\n\r\n        if (state.banners?.bannerDtoList?.length === 0 && action.payload.response_body.currentPage > 1) {\r\n          state.banners.currentPage = action.payload.response_body.currentPage - 1;\r\n        }\r\n      }\r\n    },\r\n    [fetchBanner.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<BannerDtoList>>) => {\r\n      state.banner = action.payload.response_body;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const { editBanner, emptyBanner, addBannerFiles, setBannerType, addSingleBannerFiles, emptyBanners, deleteFile } = slice.actions;\r\n\r\nexport const selectBanner = (state: PayloadType) => state[BANNER];\r\n","import React from 'react';\r\nconst FormGuideComponent = (props) => {\r\n  const { title, guide, required } = props;\r\n  return (\r\n    <div>\r\n      <div style={{ fontFamily: 'NotoSansKR-Bold', fontSize: '1em' }}>\r\n        {required && <span style={{ color: 'red' }}>*</span>}[{title}]\r\n      </div>\r\n      <div>\r\n        {guide ? (\r\n          <pre\r\n            style={{\r\n              fontFamily: 'NotoSansKR-Medium',\r\n              fontSize: '0.8em',\r\n              padding: '0',\r\n              height: '30px',\r\n              overflow: 'hidden',\r\n              // marginTop: '-20px',\r\n              marginBottom: '0',\r\n              color: '#7f8c8d',\r\n            }}\r\n          >\r\n            {guide}\r\n          </pre>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormGuideComponent;\r\n","import { CSSProperties } from '@material-ui/core/styles/withStyles';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nconst MenuGuide = ({ title, subTitle, style }: { title: string; subTitle?: string; style?: CSSProperties }) => {\r\n  return (\r\n    <div className={classNames('text-gray-800')} style={{ ...style }}>\r\n      <div>\r\n        <span className=\"font-bold text-lg\">{title}</span>\r\n      </div>\r\n      <div>\r\n        <span>{subTitle}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MenuGuide;\r\n","import { Progress } from 'antd';\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useState } from 'react';\r\nimport { DropzoneOptions, useDropzone } from 'react-dropzone';\r\nimport { BsCloudUploadFill } from 'react-icons/bs';\r\nimport { useDispatch } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { addBannerFiles, addSingleBannerFiles } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\nexport default function BannerDropzone() {\r\n  const [progress, setProgress] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const dropzoneOptions: DropzoneOptions = {\r\n    // 행사안내 표현방식 변경에 따른 여러사진 업로드 기능을 삭제함\r\n    multiple: false,\r\n\r\n    // multiple: true,\r\n    onDrop: (acceptedFiles) => {\r\n      const config: AxiosRequestConfig = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        onUploadProgress: (progressEvent: { loaded: number; total: number }) => {\r\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setProgress(percentCompleted);\r\n        },\r\n      };\r\n      setProgress(0);\r\n      const formData = new FormData();\r\n      const fileInfo: FileInfo[] = [];\r\n      acceptedFiles.forEach((file) => {\r\n        const fileExt = file.name.split('.').pop();\r\n        const renamedFile = new File([file], `${uuid()}.${fileExt}`);\r\n        formData.append('files', renamedFile);\r\n        fileInfo.push({\r\n          original_file_name: file.name,\r\n          saved_file_name: renamedFile.name,\r\n        });\r\n      });\r\n\r\n      axios.post(`${axios.defaults.baseURL}/file/upload/banner`, formData, config).then((res) => {\r\n        console.log(fileInfo);\r\n        // dispatch(addBannerFiles([...fileInfo]));\r\n        dispatch(addSingleBannerFiles([...fileInfo]));\r\n      });\r\n    },\r\n    // accept: 'image/*,video/mp4',\r\n    accept: 'image/*',\r\n  };\r\n\r\n  const { getRootProps, getInputProps, isDragAccept } = useDropzone(dropzoneOptions);\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        {...getRootProps()}\r\n        className={classNames(\r\n          'w-full h-28',\r\n          'outline-none',\r\n          'border border-dashed p-1 rounded-md',\r\n          isDragAccept && 'border-blue-500',\r\n\r\n          'bg-gray-100',\r\n          'flex flex-col justify-center items-center',\r\n          'cursor-pointer'\r\n        )}\r\n      >\r\n        <input className=\"w-full h-full\" {...getInputProps()} />\r\n\r\n        <BsCloudUploadFill size={200} className=\"text-gray-400\" />\r\n        <p className={classNames('cursor-pointer text-center')}>\r\n          파일을 드래그앤드롭 또는 클릭 후 파일을 선택해 업로드하세요.\r\n          <br />\r\n          이미지 파일만 업로드 가능합니다.\r\n        </p>\r\n      </section>\r\n\r\n      {progress > 0 && (\r\n        <Progress\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progress}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { DeleteOutlined } from '@ant-design/icons';\r\nimport { Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { deleteFile } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\ntype OffsetSize = {\r\n  width: number;\r\n  height: number;\r\n};\r\n\r\nconst VideoWrapper = styled(ReactPlayer)`\r\n  & > video {\r\n    width: auto;\r\n    height: auto;\r\n    object-fit: fill;\r\n  }\r\n`;\r\n\r\nexport default function BannerFile({ file }: { file: FileInfo }) {\r\n  const dispatch = useDispatch();\r\n  const [getType, setGetType] = useState<string>('img');\r\n\r\n  useEffect(() => {\r\n    if (file.saved_file_name?.includes('.mp4')) {\r\n      setGetType('video');\r\n    } else {\r\n      setGetType('img');\r\n    }\r\n  }, [file.saved_file_name]);\r\n\r\n  const [offsetSize, setOffsetSize] = useState<OffsetSize>({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    console.log(offsetSize);\r\n  });\r\n\r\n  return (\r\n    <div className={classNames('relative flex items-center p-1', 'w-full')}>\r\n      {getType === 'img' ? (\r\n        <>\r\n          <img\r\n            className=\"w-12 rounded-sm cursor-pointer hover:border-yellow-500\"\r\n            alt=\"thumbnail\"\r\n            src={`${axios.defaults.baseURL}/files/banner/${file.saved_file_name}`}\r\n            onLoad={(e) => {\r\n              console.log(e);\r\n              setOffsetSize({\r\n                width: e.currentTarget.offsetWidth,\r\n                height: e.currentTarget.offsetHeight,\r\n              });\r\n            }}\r\n            onClick={() => {\r\n              Modal.info({\r\n                modalRender: (node) => {\r\n                  return node;\r\n                },\r\n\r\n                icon: null,\r\n                closeIcon: <></>,\r\n                maskClosable: true,\r\n                closable: true,\r\n                okButtonProps: { type: 'default' },\r\n                okText: '닫기',\r\n                width: offsetSize.width > offsetSize.height ? '60%' : '',\r\n                content: (\r\n                  <img\r\n                    className={classNames('w-full object-contain mx-auto')}\r\n                    alt=\"modal_img\"\r\n                    src={`${axios.defaults.baseURL}/files/banner/${file.saved_file_name}`}\r\n                  />\r\n                ),\r\n              });\r\n            }}\r\n          />\r\n          <div className=\"ml-2\">{file.original_file_name}</div>\r\n\r\n          <div className={classNames('absolute right-3')}>\r\n            <DeleteOutlined\r\n              className={classNames('cursor-pointer text-red-500 text-lg')}\r\n              onClick={() => {\r\n                dispatch(deleteFile({ saved_file_name: file.saved_file_name }));\r\n              }}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ReactPlayer\r\n            className=\"w-12 rounded-sm cursor-pointer hover:border-yellow-500\"\r\n            alt=\"thumbnail\"\r\n            config={{\r\n              file: {\r\n                attributes: {\r\n                  // preload: 'none',\r\n                  controlsList: 'nodownload',\r\n                },\r\n              },\r\n            }}\r\n            width=\"48px\"\r\n            height=\"27px\"\r\n            style={{\r\n              width: '100px',\r\n            }}\r\n            url={typeof file.saved_file_name !== 'undefined' ? `${axios.defaults.baseURL}/files/banner/stream/video/${file.saved_file_name}` : ''}\r\n            playing={file.saved_file_name ? true : false}\r\n            muted\r\n            onLoad={(e: any) => {\r\n              console.log(e);\r\n              setOffsetSize({\r\n                width: e.currentTarget.offsetWidth,\r\n                height: e.currentTarget.offsetHeight,\r\n              });\r\n            }}\r\n            onClick={() => {\r\n              Modal.info({\r\n                modalRender: (node) => {\r\n                  return node;\r\n                },\r\n\r\n                icon: null,\r\n                closeIcon: <></>,\r\n                maskClosable: true,\r\n                closable: true,\r\n                okButtonProps: { type: 'default' },\r\n                okText: '닫기',\r\n                content: (\r\n                  <VideoWrapper\r\n                    alt=\"thumbnail\"\r\n                    config={{\r\n                      file: {\r\n                        attributes: {\r\n                          // preload: 'none',\r\n                          controlsList: 'nodownload',\r\n                        },\r\n                      },\r\n                    }}\r\n                    width=\"auto\"\r\n                    heigth=\"auto\"\r\n                    muted\r\n                    url={typeof file.saved_file_name !== 'undefined' ? `${axios.defaults.baseURL}/files/banner/stream/video/${file.saved_file_name}` : ''}\r\n                    playing={file.saved_file_name ? true : false}\r\n                  />\r\n                ),\r\n              });\r\n            }}\r\n          />\r\n          <div className=\"ml-2\">{file.original_file_name}</div>\r\n\r\n          <div className={classNames('absolute right-3')}>\r\n            <DeleteOutlined\r\n              className={classNames('cursor-pointer text-red-500 text-lg')}\r\n              onClick={() => {\r\n                dispatch(deleteFile({ saved_file_name: file.saved_file_name }));\r\n              }}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport classNames from 'classnames';\r\nimport { Reorder } from 'framer-motion';\r\nimport React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { editBanner, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList, FileInfo } from '../../types/Banner';\r\nimport BannerFile from './BannerFile';\r\n\r\nexport default function BannerFilelist() {\r\n  const bannerState = useSelector(selectBanner);\r\n  const dispatch = useDispatch();\r\n\r\n  const onReorder = useCallback(\r\n    (newOrder: FileInfo[]) => {\r\n      dispatch(\r\n        editBanner({\r\n          file_info: newOrder,\r\n        } as BannerDtoList)\r\n      );\r\n    },\r\n\r\n    [bannerState.banner]\r\n  );\r\n\r\n  return (\r\n    <Reorder.Group\r\n      axis='y'\r\n      onReorder={onReorder}\r\n      values={bannerState.banner?.file_info || []}\r\n    >\r\n      {bannerState.banner?.file_info?.map((file) => {\r\n        return (\r\n          <Reorder.Item\r\n            key={file.saved_file_name}\r\n            value={file}\r\n            className={classNames('border m-1 rounded-md bg-white')}\r\n            whileDrag={{\r\n              scale: 1.02,\r\n              boxShadow: '5px 5px 5px rgba(0,0,0,0.3)',\r\n              borderColor: 'grey',\r\n              cursor: 'grab',\r\n              zIndex: 99,\r\n            }}\r\n          >\r\n            <BannerFile file={file} />\r\n          </Reorder.Item>\r\n        );\r\n      })}\r\n    </Reorder.Group>\r\n  );\r\n}\r\n","import { DatePicker } from 'antd';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { editBanner, selectBanner } from '../../slice/BannerSlice';\r\n\r\nexport default function BannerRangePicker() {\r\n  const { RangePicker } = DatePicker;\r\n  const bannerState = useSelector(selectBanner);\r\n  const dispatch = useDispatch();\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      editBanner({\r\n        banner_start_date: moment(now()).format(dateFormat),\r\n        banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n      })\r\n    );\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <RangePicker\r\n        size='small'\r\n        value={[\r\n          moment(bannerState.banner?.banner_start_date),\r\n          moment(bannerState.banner?.banner_end_date),\r\n        ]}\r\n        onChange={(values) => {\r\n          if (values)\r\n            dispatch(\r\n              editBanner({\r\n                ...bannerState.banner,\r\n                banner_start_date: values[0]?.format(dateFormat),\r\n                banner_end_date: values[1]?.format(dateFormat),\r\n              })\r\n            );\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerDropzone from './BannerDropzone';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\nexport default function BannerForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"행사 안내 등록\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <BannerDropzone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then(() => {\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerDropzone from './BannerDropzone';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\nexport default function RecommandImageForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"사서 추천 등록\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <BannerDropzone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then(() => {\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Progress } from 'antd';\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useState } from 'react';\r\nimport { DropzoneOptions, useDropzone } from 'react-dropzone';\r\nimport { BsCloudUploadFill } from 'react-icons/bs';\r\nimport { useDispatch } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { addBannerFiles, addSingleBannerFiles } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\nexport default function SimpleDcsDropZone() {\r\n  const [progress, setProgress] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const dropzoneOptions: DropzoneOptions = {\r\n    // 행사안내 표현방식 변경에 따른 여러사진 업로드 기능을 삭제함\r\n    // multiple: false,\r\n\r\n    multiple: true,\r\n    onDrop: (acceptedFiles) => {\r\n      const config: AxiosRequestConfig = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        onUploadProgress: (progressEvent: { loaded: number; total: number }) => {\r\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setProgress(percentCompleted);\r\n        },\r\n      };\r\n      setProgress(0);\r\n      const formData = new FormData();\r\n      const fileInfo: FileInfo[] = [];\r\n      acceptedFiles.forEach((file) => {\r\n        const fileExt = file.name.split('.').pop();\r\n        const renamedFile = new File([file], `${uuid()}.${fileExt}`);\r\n        formData.append('files', renamedFile);\r\n        fileInfo.push({\r\n          original_file_name: file.name,\r\n          saved_file_name: renamedFile.name,\r\n        });\r\n      });\r\n\r\n      axios.post(`${axios.defaults.baseURL}/file/upload/banner`, formData, config).then((res) => {\r\n        console.log(fileInfo);\r\n        dispatch(addBannerFiles([...fileInfo]));\r\n        // dispatch(addSingleBannerFiles([...fileInfo]));\r\n      });\r\n    },\r\n    accept: ['image/*', 'video/mp4'],\r\n    // accept: 'image/*',\r\n  };\r\n\r\n  const { getRootProps, getInputProps, isDragAccept } = useDropzone(dropzoneOptions);\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        {...getRootProps()}\r\n        className={classNames(\r\n          'w-full h-28',\r\n          'outline-none',\r\n          'border border-dashed p-1 rounded-md',\r\n          isDragAccept && 'border-blue-500',\r\n\r\n          'bg-gray-100',\r\n          'flex flex-col justify-center items-center',\r\n          'cursor-pointer'\r\n        )}\r\n      >\r\n        <input className=\"w-full h-full\" {...getInputProps()} />\r\n\r\n        <BsCloudUploadFill size={200} className=\"text-gray-400\" />\r\n        <p className={classNames('cursor-pointer text-center')}>\r\n          파일을 드래그앤드롭 또는 클릭 후 파일을 선택해 업로드하세요.\r\n          <br />\r\n          이미지 파일만 업로드 가능합니다.\r\n        </p>\r\n      </section>\r\n\r\n      {progress > 0 && (\r\n        <Progress\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progress}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\nimport SimpleDcsDropZone from './SimpleDcsDropZone';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\n/**\r\n *\r\n * @returns 글자수는 45글자로 제한된다.\r\n */\r\nexport default function SimpleDcsForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"행사 안내 등록\" subTitle=\"이미지와 영상 파일을 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  banner_type: 'MULTI',\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <SimpleDcsDropZone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then((msg) => {\r\n                console.log(msg);\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'MULTI') {\r\n                  history.replace(`/screen/moviebanner`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Checkbox, Col, Popconfirm, Row, Select, Table } from 'antd';\r\nimport Search from 'antd/lib/input/Search';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { noImg } from '../CommonImage';\r\nimport MenuGuide from '../MenuGuide';\r\n\r\nconst ManagementBook = (props) => {\r\n  const { Option } = Select;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [filter, setFilter] = useState('title');\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n  const [filterValue, setFilterValue] = useState();\r\n  const [isUse, setIsUse] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'master_no',\r\n      key: '0',\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '도서명',\r\n      dataIndex: 'title',\r\n      key: '1',\r\n      align: 'left',\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Link\r\n            to={{\r\n              pathname: '/book/form',\r\n              mode: 'modify',\r\n              record: record,\r\n            }}\r\n          >\r\n            {text ? text : '제목없음'}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '표지',\r\n      dataIndex: 'org_name',\r\n      key: '2',\r\n      align: 'center',\r\n      render: (text, record, index) => {\r\n        return (\r\n          <img\r\n            src={`${text}`}\r\n            style={{ width: '50px' }}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '위치',\r\n      dataIndex: 'shelf_loc_name',\r\n      width: 150,\r\n      key: '3',\r\n      align: 'center',\r\n    },\r\n    { title: '저자', dataIndex: 'author', key: '4', align: 'center' },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'reg_dttm',\r\n      width: 200,\r\n      key: '5',\r\n      align: 'center',\r\n    },\r\n    // {\r\n    //   title: '사용여부',\r\n    //   dataIndex: 'useYN',\r\n    //   key: '9',\r\n    //   width: 100,\r\n    //   align: 'center',\r\n    // },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={() => {\r\n              axios\r\n                .post('/book/recommend/delete', {\r\n                  master_no: record.master_no,\r\n                })\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  getBookIndex({\r\n                    value: filterValue || '',\r\n                  });\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                });\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getBookIndex();\r\n  }, []);\r\n\r\n  const getBookIndex = (value) => {\r\n    setIsLoading(true);\r\n    if (!value) {\r\n      value = {};\r\n    }\r\n    axios\r\n      .get('/bookV2/librariansRecommendBook', {\r\n        params: {\r\n          filter: filter,\r\n          value: 'value' in value ? value.value : '',\r\n          useYN: 'useYN' in value ? value.useYN : '',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setTimeout(() => {\r\n          setDataSource(res.data.response_body.books);\r\n          setIsLoading(false);\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const onChangeSelectFilter = (e) => {\r\n    setFilter(e);\r\n  };\r\n\r\n  const selectFilter = (\r\n    <Select defaultValue=\"title\" style={{ minWidth: '90px' }} onChange={onChangeSelectFilter}>\r\n      <Option key=\"title\">도서명</Option>\r\n      {/* <Option key=\"isbn13\">ISBN</Option> */}\r\n      <Option key=\"author\">저자</Option>\r\n    </Select>\r\n  );\r\n\r\n  const searchBook = (filterTitle) => {\r\n    getBookIndex({\r\n      value: filterValue,\r\n      useYN: isUse ? 'Y' : '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={12}>\r\n          <MenuGuide title=\"사서 추천 도서\" subTitle=\"도서 등록을 통해 사서 추천 도서 관리가 가능합니다.\" />\r\n        </Col>\r\n        <Col span={12}>\r\n          <Row style={{ marginTop: '10px' }}>\r\n            <Col span={24}>\r\n              <div\r\n                style={{\r\n                  width: '100%',\r\n                  textAlign: 'right',\r\n                  margin: '10px',\r\n                }}\r\n              >\r\n                <Checkbox\r\n                  checked={isUse}\r\n                  onChange={(e) => {\r\n                    setIsUse(e.target.checked);\r\n                    getBookIndex({\r\n                      useYN: e.target.checked ? 'Y' : '',\r\n                      value: filterValue,\r\n                    });\r\n                  }}\r\n                  disabled={isLoading}\r\n                >\r\n                  <span\r\n                    style={{\r\n                      cursor: 'pointer',\r\n                      fontFamily: 'NanumGothic',\r\n                    }}\r\n                  >\r\n                    사용중인 추천 도서만 보기\r\n                  </span>\r\n                </Checkbox>\r\n              </div>\r\n              <Search\r\n                addonBefore={selectFilter}\r\n                enterButton\r\n                value={filterValue}\r\n                onChange={(e) => {\r\n                  setFilterValue(e.target.value);\r\n                }}\r\n                onSearch={(value) => {\r\n                  searchBook();\r\n                }}\r\n                style={{ marginBottom: '10px' }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey={(dataSource) => dataSource.master_no}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      ></Table>\r\n      <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n        <Link\r\n          to={{\r\n            pathname: '/book/form',\r\n            state: {\r\n              mode: 'regist',\r\n            },\r\n          }}\r\n        >\r\n          <Button type=\"primary\" style={{ width: '100px', marginBottom: '100px' }}>\r\n            등 록\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementBook;\r\n","export const api = {\r\n  SmartSearch: '/bookV2/findBookAsKeyword',\r\n};\r\n\r\nexport default api;\r\n","import Axios from 'axios';\r\nimport api from './api';\r\n\r\nconst API = api.SmartSearch;\r\n\r\nexport const requestSmartSearch = async (keyword: string, curPageNo = 1, perPage = 10) => {\r\n  try {\r\n    const response = await Axios.get(`${API}`, {\r\n      params: {\r\n        keyword,\r\n        curPageNo,\r\n        perPage,\r\n      },\r\n    });\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return undefined;\r\n  }\r\n};\r\n","import { ResponseBodySmartSearch } from './../types/SmartSearch';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { requestSmartSearch } from '../api/SmartSearch';\r\nimport { ResponseVo } from '../types/Common';\r\nimport { message } from 'antd';\r\nexport const SMART_SEARCH = 'smartSearch';\r\n\r\ntype SliceState = {\r\n  totalCount: number;\r\n  isLoading: boolean;\r\n  books: Array<{\r\n    title?: string;\r\n    imageUrl?: string;\r\n    isbn?: string;\r\n    isbn13?: string;\r\n    call_no?: string;\r\n    mediaType?: 'book' | 'media';\r\n    spc_code?: string;\r\n  }>;\r\n  keyword: string;\r\n};\r\ntype PayloadType = {\r\n  [SMART_SEARCH]: SliceState;\r\n};\r\ntype SmartSearchType = {\r\n  keyword: string;\r\n  current_page: number;\r\n};\r\nexport const fetchSmartSearch = createAsyncThunk(`${SMART_SEARCH}/fetchSmartSearch`, async ({ keyword, current_page }: SmartSearchType) => {\r\n  // 무언가를 함\r\n  const response = await requestSmartSearch(keyword, current_page);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nconst smartSearchSlice = createSlice({\r\n  name: `${SMART_SEARCH}`,\r\n  initialState: {\r\n    books: [],\r\n    totalCount: 0,\r\n    keyword: '',\r\n    isLoading: false,\r\n  } as SliceState,\r\n  reducers: {\r\n    setKeyword: (\r\n      state,\r\n      action: PayloadAction<{\r\n        keyword: string;\r\n      }>\r\n    ) => {\r\n      state.keyword = action.payload.keyword;\r\n    },\r\n    resetBooks: (state) => {\r\n      state.books = [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchSmartSearch.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchSmartSearch.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodySmartSearch>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isLoading = false;\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.books = result.bookVoList;\r\n        state.totalCount = result.totalCount;\r\n      } else {\r\n        state.books = [];\r\n        state.totalCount = 0;\r\n      }\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setKeyword, resetBooks } = smartSearchSlice.actions;\r\nexport default smartSearchSlice.reducer;\r\nexport const selectSmartSearch = (state: PayloadType) => state;\r\n","export default __webpack_public_path__ + \"static/media/noimages.eed3b0e0.png\";","import Button from '@material-ui/core/Button';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport React, { CSSProperties, FC, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { createUltimatePagination, ITEM_TYPES, PaginationComponentProps, UltimatePaginationProps } from 'react-ultimate-pagination';\r\nimport styled from 'styled-components';\r\n\r\nexport const calculateTotalPages = (totalCnt: number, per: number): number => {\r\n  if (totalCnt > 0) {\r\n    const calPages = totalCnt / per;\r\n    const rest = totalCnt % per;\r\n    const returnPage = Math.floor(calPages) + (rest > 1 ? 1 : 0);\r\n    if (returnPage === 0) {\r\n      return 1;\r\n    }\r\n    return returnPage;\r\n  }\r\n  return 1;\r\n};\r\n\r\nconst PaginationWrapped = styled.div<{ bottom?: string; isLoading: boolean }>`\r\n  position: absolute;\r\n\r\n  /* bottom: ${(props) => props.bottom}; */\r\n  bottom: 10px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  animation: screenIn 0.5s linear;\r\n  background-color: transparent;\r\n  z-index: 999;\r\n  pointer-events: ${(props) => (props.isLoading ? `none` : `all`)};\r\n`;\r\n\r\ninterface PaginationProps extends UltimatePaginationProps {\r\n  bottom: string;\r\n  isLoading: boolean;\r\n}\r\ntype PaginationActiveType = {\r\n  isActive: boolean;\r\n};\r\n\r\nconst PaginationSvgButton = styled(Button)`\r\n  min-width: 1;\r\n  color: black;\r\n`;\r\nconst PaginationNumber = styled(Button)<PaginationActiveType>`\r\n  min-width: 5px !important;\r\n  font-family: bmjua !important;\r\n  font-size: 1.1rem !important;\r\n  margin: 0rem !important;\r\n  color: ${(props) => (props.isActive ? `rgba(44,62,80,1)` : `rgba(0,0,0,0.4);`)};\r\n`;\r\n\r\nconst Pagination = ({ currentPage, totalPages, onChange, bottom, isLoading }: PaginationProps) => {\r\n  const Page = ({ value, onClick, isDisabled, isActive }: PaginationComponentProps) => (\r\n    <PaginationNumber isActive={isActive} onClick={onClick} disabled={isDisabled}>\r\n      {value}\r\n    </PaginationNumber>\r\n  );\r\n\r\n  const Ellipsis = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      . . .\r\n    </PaginationSvgButton>\r\n  );\r\n  const FirstPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <FirstPageIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const PreviousPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <ChevronLeftIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const NextPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <ChevronRightIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const LastPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <LastPageIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const itemTypeToComponent = {\r\n    [ITEM_TYPES.PAGE]: Page,\r\n    [ITEM_TYPES.ELLIPSIS]: Ellipsis,\r\n    [ITEM_TYPES.FIRST_PAGE_LINK]: FirstPageLink,\r\n    [ITEM_TYPES.PREVIOUS_PAGE_LINK]: PreviousPageLink,\r\n    [ITEM_TYPES.NEXT_PAGE_LINK]: NextPageLink,\r\n    [ITEM_TYPES.LAST_PAGE_LINK]: LastPageLink,\r\n  };\r\n\r\n  const UltimatePaginationMaterialUi = createUltimatePagination({\r\n    itemTypeToComponent,\r\n  });\r\n\r\n  return (\r\n    <PaginationWrapped bottom={bottom} isLoading={isLoading}>\r\n      <UltimatePaginationMaterialUi\r\n        currentPage={currentPage}\r\n        totalPages={totalPages}\r\n        boundaryPagesRange={0}\r\n        siblingPagesRange={2}\r\n        hideFirstAndLastPageLinks={false}\r\n        hidePreviousAndNextPageLinks\r\n        hideEllipsis={false}\r\n        onChange={onChange}\r\n      />\r\n    </PaginationWrapped>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import styled from 'styled-components';\r\n\r\nexport type SmartSearchType = {\r\n  isLoading: boolean;\r\n};\r\nexport const SmartSearchWrapped = styled.div<{\r\n  visible: boolean;\r\n}>`\r\n  position: absolute;\r\n  left: -15%;\r\n  width: 130%;\r\n  height: 500px;\r\n  z-index: 10;\r\n  background-color: #f8f8f8;\r\n  border-radius: 0 0 10px 10px;\r\n  display: none;\r\n  ${(props) => (props.visible ? `display: block;` : `display: none;`)}\r\n  border-top:0.5px solid rgba(44,62,80,1);\r\n  box-shadow: 1px 12px 5px -7px rgba(0, 0, 0, 0.75);\r\n`;\r\n\r\nexport const SmartSearchLi = styled.li`\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  list-style: none;\r\n  cursor: pointer;\r\n  margin: 10px;\r\n  font-size: 1rem;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  &:hover {\r\n    color: #ff7094;\r\n    transition: all 0.3s linear;\r\n  }\r\n`;\r\n\r\nexport const SmartSearchUl = styled.ul`\r\n  padding: 0;\r\n  padding-top: 10px;\r\n`;\r\n\r\nexport const CloseButton = styled.div`\r\n  position: absolute;\r\n  bottom: 15px;\r\n  right: 25px;\r\n  cursor: pointer;\r\n  font-size: 1.5rem;\r\n  pointer-events: all;\r\n  z-index: 99999;\r\n`;\r\n\r\nexport const NotFoundResult = styled.div`\r\n  font-family: 'bmjua';\r\n  width: 100%;\r\n  height: 90%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ViewImage = styled.img<{\r\n  noImage?: boolean;\r\n}>`\r\n  width: 33px;\r\n  height: 33px;\r\n  border-radius: 2px;\r\n  margin: 0 10px;\r\n\r\n  opacity: ${(props) => (props.noImage ? '0.5' : '1')};\r\n`;\r\n\r\nexport const SmartSearchText = styled.div`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  /* width: 75%; */\r\n  width: 470px;\r\n  float: left;\r\n  display: flex;\r\n`;\r\nexport const SmartSearchCallNum = styled.span`\r\n  font-size: 0.5rem;\r\n`;\r\n\r\nexport const SmartSearchSpan = styled.span`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n","import { Spin } from 'antd';\r\nimport React, { MouseEventHandler, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport noImage from '../../images/noimages.png';\r\nimport { fetchSmartSearch, selectSmartSearch, SMART_SEARCH } from '../../slice/SmartSearchSlice';\r\nimport Pagination, { calculateTotalPages } from './Pagination';\r\nimport {\r\n  CloseButton,\r\n  NotFoundResult,\r\n  SmartSearchCallNum,\r\n  SmartSearchLi,\r\n  SmartSearchSpan,\r\n  SmartSearchText,\r\n  SmartSearchUl,\r\n  SmartSearchWrapped,\r\n  ViewImage,\r\n} from './SmartSearch.styled';\r\n\r\nconst SmartSearch = ({\r\n  totalCount,\r\n  visible,\r\n  setVisible,\r\n  onClick,\r\n}: {\r\n  totalCount: number;\r\n  visible: boolean;\r\n  onClick: MouseEventHandler<HTMLLIElement>;\r\n  setVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectSmartSearch);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  const handlePage = (e: number) => {\r\n    setPage(e);\r\n    console.log(e);\r\n    const { keyword } = state.smartSearch;\r\n    dispatch(fetchSmartSearch({ keyword, current_page: e }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    setTotalPages(calculateTotalPages(state.smartSearch.totalCount, 10));\r\n  }, [state.smartSearch.totalCount]);\r\n\r\n  return (\r\n    <SmartSearchWrapped visible={visible}>\r\n      <div\r\n        style={{\r\n          height: `100%`,\r\n        }}\r\n      >\r\n        <SmartSearchUl>\r\n          {/**/}\r\n          <Spin\r\n            spinning={state.smartSearch.isLoading}\r\n            size=\"large\"\r\n            tip={`'${state.smartSearch.keyword}' 검색중...`}\r\n            style={{\r\n              position: 'inherit',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height: '450px',\r\n              }}\r\n            >\r\n              {state.smartSearch?.books.length > 0 ? '' : <NotFoundResult>'{state.smartSearch.keyword}'로 검색한 도서가 없습니다</NotFoundResult>}\r\n              {state.smartSearch?.books.map((item, index) => {\r\n                return item.mediaType === 'media' ? (\r\n                  <SmartSearchLi onClick={onClick} key={index} data-spccode={item.spc_code} data-keyword={item.title}>\r\n                    <SmartSearchText>\r\n                      {item.mediaType === 'media' ? '[DVD]' : ''}\r\n                      {item.imageUrl && <ViewImage src={item.imageUrl} />}\r\n                      {(item.imageUrl === null || item.imageUrl === '') && <ViewImage noImage={true} src={noImage} />}\r\n                      {item.title}\r\n                    </SmartSearchText>\r\n\r\n                    <SmartSearchCallNum>({item.call_no})</SmartSearchCallNum>\r\n                  </SmartSearchLi>\r\n                ) : (\r\n                  <SmartSearchLi onClick={onClick} key={index} data-spccode={item.spc_code} data-keyword={item.title}>\r\n                    <SmartSearchText>\r\n                      [도서]{item.imageUrl && <ViewImage src={item.imageUrl} />}\r\n                      {(item.imageUrl === null || item.imageUrl === '') && <ViewImage noImage={true} src={noImage} />}\r\n                      <SmartSearchSpan>{item.title}</SmartSearchSpan>\r\n                    </SmartSearchText>\r\n\r\n                    <SmartSearchCallNum>({item.call_no})</SmartSearchCallNum>\r\n                  </SmartSearchLi>\r\n                );\r\n              })}\r\n            </div>\r\n          </Spin>\r\n        </SmartSearchUl>\r\n        <CloseButton\r\n          onClick={() => {\r\n            setVisible(false);\r\n          }}\r\n        >\r\n          X\r\n        </CloseButton>\r\n        <Pagination isLoading={state[SMART_SEARCH].isLoading} currentPage={page} totalPages={totalPages} onChange={handlePage} bottom=\"-50px\" />\r\n      </div>\r\n    </SmartSearchWrapped>\r\n  );\r\n};\r\n\r\nexport default SmartSearch;\r\n","import { Button, Form, Input, message, Radio, Select, Spin } from \"antd\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport axios from \"axios\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { Prompt } from \"react-router-dom\";\r\nimport { noImg } from \"../CommonImage\";\r\nimport FormGuideComponent from \"../FormGuideComponent\";\r\nimport MenuGuide from \"../MenuGuide\";\r\nimport _ from \"lodash\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchSmartSearch,\r\n  resetBooks,\r\n  selectSmartSearch,\r\n  setKeyword,\r\n  SMART_SEARCH,\r\n} from \"../../slice/SmartSearchSlice\";\r\n\r\n// import SmartSearch from './SmartSearch';\r\n// import SmartSearch from './SmartSearch';\r\nimport SmartSearch from \"./Smartsearch\";\r\n\r\nconst ManagementBookForm = (props: any) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectSmartSearch)[SMART_SEARCH];\r\n\r\n  const [record, setRecord] = useState(props.location.record);\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : \"regist\"\r\n  );\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [book, setBook] = useState(\r\n    props.location.record ? props.location.record : null\r\n  );\r\n  const [genre, setGenre] = useState([]);\r\n  const [spinning, setSpinning] = useState(false);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [totalCount, setTotalCount] = useState(1);\r\n  const inputKeyword = useRef(\"\");\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const validateMessages = {\r\n    required: \"필수 항목\",\r\n    types: {\r\n      email: \"Not a validate email!\",\r\n      number: \"Not a validate number!\",\r\n    },\r\n    number: {\r\n      range: \"Must be between ${min} and ${max}\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(setKeyword({ keyword: \"\" }));\r\n    dispatch(resetBooks());\r\n    document.body.className = \"form-body\";\r\n    genreSelectGenerator();\r\n    if (mode === \"modify\") {\r\n      inputKeyword.current = record.title;\r\n      form.setFieldsValue({\r\n        spcCode: record.title,\r\n        title: record.title,\r\n        genre: record.genre,\r\n        author: record.author,\r\n        publisher: record.publisher,\r\n        publication_year: record.publication_year,\r\n        description: record.description,\r\n        useYN: record.useYN,\r\n        librarian_cmt: record.librarian_cmt,\r\n        shelf_loc_name: record.shelf_loc_name,\r\n      });\r\n    } else {\r\n      form.setFieldsValue({\r\n        useYN: \"Y\",\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n  };\r\n\r\n  const onSearch = (e: any) => {\r\n    e.preventDefault();\r\n    if (mode === \"modify\" && inputKeyword.current !== state.keyword) {\r\n      delayedQuery(inputKeyword.current);\r\n    }\r\n\r\n    setVisible(true);\r\n  };\r\n\r\n  const genreSelectGenerator = () => {\r\n    axios\r\n      .get<any, any>(\"/book/genre\", {})\r\n      .then((res) => {\r\n        setGenre(res.data.genre);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onChangeTitle = (e: any) => {\r\n    const keyword = e.target.value;\r\n    // 도서 제목(input)이 변경될때마다 useref에 값을 넣음\r\n    inputKeyword.current = keyword;\r\n    if (keyword === \"\") {\r\n      // 입력된 책 제목이 없으면 값들을 초기화하고 검색창을 닫음\r\n      form.setFieldsValue({\r\n        title: \"\",\r\n        genre: \"\",\r\n        author: \"\",\r\n        publisher: \"\",\r\n        publication_year: \"\",\r\n        description: \"\",\r\n        useYN: \"Y\",\r\n        librarian_cmt: \"\",\r\n      });\r\n      setBook(null);\r\n      setVisible(false);\r\n      // 단어가없으면 보여주는것을 끔\r\n      dispatch(\r\n        setKeyword({\r\n          keyword: \"\",\r\n        })\r\n      );\r\n      dispatch(resetBooks());\r\n    }\r\n    // 디바운싱 적용\r\n    delayedQuery(keyword);\r\n  };\r\n\r\n  const onSubmit = (values: any) => {\r\n    setSpinning(true);\r\n    axios\r\n      .post(\"/book/recommend\", {\r\n        master_no: book.master_no,\r\n        genre: values.genre,\r\n        useYN: values.useYN,\r\n        description: values.description,\r\n        librarian_cmt: values.librarian_cmt,\r\n      })\r\n      .then((res) => {\r\n        setTimeout(() => {\r\n          setSpinning(false);\r\n          message.success(\"등록 완료\");\r\n          setIsBack(false);\r\n          props.history.goBack();\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        setSpinning(false);\r\n        message.error(\"등록 실패\");\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const AutoSearch = async (mKeyword: string) => {\r\n    if (mKeyword.trim() !== \"\") {\r\n      // 키워드가 있다면 검색창을 보여주며 키워드를 리덕스에 저장하고 검색을 진행함.\r\n      setVisible(true);\r\n      await dispatch(\r\n        setKeyword({\r\n          keyword: mKeyword,\r\n        })\r\n      );\r\n      await dispatch(\r\n        fetchSmartSearch({\r\n          keyword: mKeyword,\r\n          current_page: 1,\r\n        })\r\n      );\r\n    } else if (mKeyword === \"\") {\r\n      setVisible(false);\r\n    }\r\n  };\r\n\r\n  const delayedQuery = useRef(\r\n    _.debounce((q: string) => AutoSearch(q), 500)\r\n  ).current;\r\n  const onClickSearchLI = useCallback(\r\n    (\r\n      e: React.MouseEventHandler<HTMLLIElement> &\r\n        React.MouseEvent<HTMLLIElement, MouseEvent>\r\n    ) => {\r\n      const spcCode = e.currentTarget.dataset?.spccode;\r\n      // const title = e.currentTarget.dataset?.keyword;\r\n      setSpinning(true);\r\n      // if (title) {\r\n      //   inputKeyword.current = title;\r\n      //   form.setFieldsValue({\r\n      //     spcCode: title,\r\n      //   });\r\n      // }\r\n      axios\r\n        .get<any, any>(\"/bookV2/searchForSpcCode\", {\r\n          params: {\r\n            spcCode,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          var resBook = res.data.response_body;\r\n          if (res.data.description !== \"Success\") {\r\n            message.error(\"등록되지 않은 도서입니다.\");\r\n            return;\r\n          }\r\n          setBook(resBook);\r\n          form.setFieldsValue({\r\n            title: resBook.title,\r\n            genre: resBook.genre ? resBook.genre : \"\",\r\n            author: resBook.author,\r\n            publisher: resBook.publisher,\r\n            publication_year: resBook.publication_year,\r\n            description: resBook.description,\r\n            librarian_cmt: resBook.librarian_cmt,\r\n            shelf_loc_name: resBook.shelf_loc_name,\r\n          });\r\n          // title && dispatch(setKeyword({ keyword: title }));\r\n          setVisible(false);\r\n          setSpinning(false);\r\n        })\r\n        .catch((err) => {\r\n          setVisible(false);\r\n          setSpinning(false);\r\n          console.error(err);\r\n        });\r\n    },\r\n    []\r\n  );\r\n  return (\r\n    <div style={{ width: \"100%\" }} data-smartsearch={\"smartsearch\"}>\r\n      <Prompt\r\n        when={isBack}\r\n        message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\"\r\n      />\r\n      <div style={{ width: \"50%\", margin: \"auto\" }}>\r\n        <MenuGuide\r\n          title=\"사서 추천 도서\"\r\n          subTitle=\"사서 추천 도서를 등록해주세요\"\r\n        />\r\n        <Spin spinning={spinning} size=\"large\" tip=\"처리 중...\">\r\n          <Form\r\n            form={form}\r\n            validateMessages={validateMessages}\r\n            onFinish={onSubmit}\r\n            style={{\r\n              border: \"1px solid #dfe6e9\",\r\n              padding: \"50px\",\r\n            }}\r\n          >\r\n            <FormGuideComponent\r\n              title=\"검색 도서\"\r\n              guide=\"등록할 도서의 제목을 입력해주세요\"\r\n            />\r\n            <FormGuideComponent\r\n              title=\"검색 도서\"\r\n              guide=\"등록할 도서의 제목을 입력해주세요\"\r\n            />\r\n\r\n            <Form.Item\r\n              style={{\r\n                position: \"relative\",\r\n              }}\r\n            >\r\n              <Form.Item name=\"spcCode\" noStyle rules={[{ required: true }]}>\r\n                <Input\r\n                  autoComplete=\"off\"\r\n                  style={{\r\n                    minWidth: \"150px\",\r\n                    width: \"360px\",\r\n                  }}\r\n                  onChange={onChangeTitle}\r\n                />\r\n              </Form.Item>\r\n              <Button\r\n                style={{\r\n                  marginLeft: \"10px\",\r\n                  position: \"relative\",\r\n                  top: \"-2px\",\r\n                }}\r\n                onClick={onSearch}\r\n              >\r\n                찾기\r\n              </Button>\r\n              <SmartSearch\r\n                visible={visible}\r\n                setVisible={setVisible}\r\n                totalCount={totalCount}\r\n                onClick={onClickSearchLI}\r\n              />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"도서명\" />\r\n            <Form.Item name=\"title\" rules={[{ required: true }]}>\r\n              <Input\r\n                style={inputStyle}\r\n                placeholder=\"도서 검색 시 자동으로 기입됩니다\"\r\n              />\r\n              <Input\r\n                style={inputStyle}\r\n                placeholder=\"도서 검색 시 자동으로 기입됩니다\"\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"도서 위치\" />\r\n            <Form.Item name=\"shelf_loc_name\" rules={[{ required: true }]}>\r\n              <div>{book?.shelf_loc_name}</div>\r\n              {/* <Radio.Group disabled>\r\n                <Radio value='[미리내]어린이자료실'>어린이자료실</Radio>\r\n                <Radio value='[미리내]일반자료실'>일반자료실</Radio>\r\n              </Radio.Group> */}\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"표지\" />\r\n            <Form.Item name=\"cover\">\r\n              <img\r\n                alt={book ? book.imageUrl : \"empty\"}\r\n                src={book ? book.imageUrl : \"empty\"}\r\n                // src={\r\n                //   book\r\n                //     ? `/files/cover/stream/${book.org_name}`\r\n                //     : 'empty'\r\n                // }\r\n                onError={(error) => {\r\n                  error.currentTarget.src = noImg;\r\n                }}\r\n                style={{\r\n                  maxWidth: \"250px\",\r\n                  display: `${book ? \"block\" : \"none\"}`,\r\n                  borderRadius: \"5px\",\r\n                  border: \"1px solid #e8e8e8\",\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            {/* \r\n            <FormGuideComponent title='장르' />\r\n            <Form.Item name='genre'>\r\n              <Select style={inputStyle} onChange={onSelectChange}>\r\n                <Option key='no'>장르를 선택하세요</Option>\r\n                {genre.map((item) => {\r\n                  return <Option key={item.idx}>{item.genre}</Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item> */}\r\n\r\n            <FormGuideComponent title=\"저자\" />\r\n            <Form.Item name=\"author\" rules={[{ required: true }]}>\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"출판사\" />\r\n            <Form.Item name=\"publisher\">\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"출판일\" />\r\n            <Form.Item name=\"publication_year\">\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"설명\" />\r\n            <Form.Item name=\"description\">\r\n              <TextArea rows={4} style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent\r\n              title=\"추천사\"\r\n              guide=\"사서의 추천 이유를 작성해주세요\"\r\n            />\r\n            <Form.Item name=\"librarian_cmt\">\r\n              <TextArea rows={4} style={inputStyle} maxLength={348} />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"사용여부\" />\r\n            <Form.Item name=\"useYN\">\r\n              <Radio.Group>\r\n                <Radio value={\"Y\"}>Y</Radio>\r\n                <Radio value={\"N\"}>N</Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" block>\r\n                등 록\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementBookForm;\r\n","import Axios from 'axios';\r\nimport {\r\n  PutReturnDateType,\r\n  PutModeDataType,\r\n  GetReturnDateType,\r\n  EquipIdxType,\r\n  ContentsType,\r\n  PutHolidayType,\r\n  PatchHolidayType,\r\n  PostHolidayType,\r\n} from '../types/Lss';\r\nimport apiStrings from './api.server.json';\r\n\r\n//mode\r\nexport const requestLssGetForReturnDate = async () => {\r\n  try {\r\n    const data: GetReturnDateType = {\r\n      code_id: 'rental_date',\r\n    };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.returnDate}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForMode = async (modeData: PutModeDataType) => {\r\n  try {\r\n    const data = modeData;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.mode}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n//returnDate\r\nexport const requestLssPutForReturnDate = async (returnData: PutReturnDateType) => {\r\n  try {\r\n    const data = returnData;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.returnDate}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const requestLssGetForMode = async (equip_idx: EquipIdxType) => {\r\n  try {\r\n    const data = { ...equip_idx };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.mode}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n//contents\r\nexport const requestLssGetForContents = async (equip_idx: EquipIdxType) => {\r\n  try {\r\n    const data = { ...equip_idx };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.contents}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostForContents = async (NoticeContent: ContentsType) => {\r\n  try {\r\n    const data: ContentsType = NoticeContent;\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostForCaption = async (CaptionContent: ContentsType) => {\r\n  try {\r\n    const data: ContentsType = CaptionContent;\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForCaptionContents = async (CaptionContent: Array<ContentsType>) => {\r\n  try {\r\n    const data: Array<ContentsType> = CaptionContent;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForNoticeContents = async (NoticeContent: Array<ContentsType>) => {\r\n  try {\r\n    const data: Array<ContentsType> = NoticeContent;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssDeleteForNoticeContents = async (NoticeContent: ContentsType) => {\r\n  try {\r\n    const data = {\r\n      lss_content_idx: NoticeContent.lss_content_idx,\r\n      lss_master_idx: NoticeContent.lss_master_idx,\r\n    };\r\n    const response = await Axios.delete(`${apiStrings['api-uri'].lss.contents}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssDeleteForCaptionContents = async (CaptionContents: Array<ContentsType>) => {\r\n  try {\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, CaptionContents);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n//holiday\r\nexport const requestLssGetForHoliday = async () => {\r\n  try {\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.holiday}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutChangeForHolidy = async (HolidayElement: PutHolidayType) => {\r\n  try {\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.holiday}`, HolidayElement);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPatchChangeHoliday = async (HolidayElement: PatchHolidayType) => {\r\n  try {\r\n    const response = await Axios.patch(`${apiStrings['api-uri'].lss.holiday}`, HolidayElement);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const requestLssDeleteHoliday = async (idx: number) => {\r\n  try {\r\n    const response = await Axios.delete(`${apiStrings['api-uri'].lss.holiday}`, {\r\n      params: {\r\n        idx: idx,\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostHoliday = async (element: PostHolidayType) => {\r\n  try {\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.holiday}`, element);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssGetHolidayInfo = async () => {\r\n  try {\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.holidayInfo}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n","import Axios from 'axios';\r\nimport { CaptionAddDetailType, CaptionDetailType } from '../types/Caption';\r\nimport apiStrings from './api.server.json';\r\n\r\nconst API = apiStrings['api-uri'].caption;\r\nexport const requestPutCaption = async (data: Partial<CaptionDetailType>) => {\r\n  try {\r\n    const response = await Axios.put(`${API.caption}/${data.caption_idx}`, data);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nexport const requestCreateCaption = async (data: Partial<CaptionAddDetailType>) => {\r\n  try {\r\n    const response = await Axios.post(`${API.caption}`, data);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nexport const requestGetCaption = async (caption_idx: number) => {\r\n  try {\r\n    const response = await Axios.get(`${API.caption}/${caption_idx}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport const requestGetCaptionList = async () => {\r\n  try {\r\n    const response = await Axios.get(`${API.caption}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport const requestDeleteCaption = async (caption_idx: number) => {\r\n  try {\r\n    const response = await Axios.delete(`${API.caption}/${caption_idx}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n","import {\r\n  CaptionAddDetailType,\r\n  CaptionDescType,\r\n  CaptionDetailType,\r\n  CaptionEquipidxType,\r\n  CaptionIdxType,\r\n  CaptionModifyContentsType,\r\n  CaptionTitleType,\r\n  CaptionType,\r\n} from './../types/Caption';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { message } from 'antd';\r\nimport { requestCreateCaption, requestDeleteCaption, requestGetCaption, requestGetCaptionList, requestPutCaption } from '../api';\r\nimport { CaptionsListType, ResponseBodyCaption, ResponseBodyCaptionsList } from '../types/Caption';\r\nimport { ResponseVo } from '../types/Common';\r\n\r\nexport const CAPTION = 'CAPTION' as const;\r\n\r\ntype SliceState = {\r\n  /**\r\n   * 디테일관련된 상태값들\r\n   */\r\n  title: string;\r\n  desc: string;\r\n  equip_idx: Array<number>;\r\n  contents: Array<{\r\n    content: string;\r\n    caption_contents_idx: number;\r\n    caption_idx: number;\r\n    reg_date: string;\r\n    seq: number;\r\n    uuid?: string;\r\n  }>;\r\n  //Partial<Array<CaptionType>>\r\n  /**\r\n   * 자막 객체 리스트를 보관하기 위한 상태값\r\n   */\r\n  captionsList: CaptionsListType;\r\n\r\n  //\r\n  isSpin: boolean;\r\n  isProgress: boolean;\r\n  //\r\n  caption_idx: number;\r\n};\r\n\r\ntype PayloadType = {\r\n  [CAPTION]: SliceState;\r\n};\r\n\r\n/**\r\n * 자막객체의 디테일을 얻어옴.\r\n */\r\nexport const fetchGetCaptionList = createAsyncThunk(`${CAPTION}/fetchGetCaptionList`, async () => {\r\n  const response = await requestGetCaptionList();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchCreateCaption = createAsyncThunk(`${CAPTION}/fetchCreateCaption`, async (data: Partial<CaptionAddDetailType>) => {\r\n  const response = await requestCreateCaption({ ...data });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetCaption = createAsyncThunk(`${CAPTION}/fetch`, async (caption_idx: number) => {\r\n  const response = await requestGetCaption(caption_idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n/**\r\n * 자막 객체를 삭제함.\r\n */\r\nexport const fetchDeleteCaption = createAsyncThunk(`${CAPTION}/fetchGetEquipList`, async (caption_idx: number) => {\r\n  const response = await requestDeleteCaption(caption_idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\n/**\r\n * 자막 객체를 조회함.\r\n */\r\nexport const fetchGetEquipList = createAsyncThunk(`${CAPTION}/fetchGetEquipList`, async () => {});\r\n/**\r\n * 자막 객체를 수정함.\r\n */\r\nexport const fetchPutCaption = createAsyncThunk(`${CAPTION}/fetchPutCaption`, async (data: Partial<CaptionDetailType>) => {\r\n  const response = await requestPutCaption({ ...data });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\n/**\r\n * 자막 객체를 생성함.\r\n */\r\nexport const fetchPostCaption = createAsyncThunk(`${CAPTION}/fetchPo stCaption`, async () => {});\r\n\r\nconst captionSlice = createSlice({\r\n  name: CAPTION,\r\n  initialState: {\r\n    title: '자막',\r\n    desc: '자막 설명',\r\n    equip_idx: [],\r\n    contents: [],\r\n    captionsList: [],\r\n    isSpin: false,\r\n    isProgress: false,\r\n    caption_idx: 0,\r\n  } as SliceState,\r\n  reducers: {\r\n    setCaptionDesc: (state, action: PayloadAction<CaptionDescType>) => {\r\n      state.desc = action.payload.desc;\r\n    },\r\n    setCaptionTitle: (state, action: PayloadAction<CaptionTitleType>) => {\r\n      state.title = action.payload.title;\r\n    },\r\n    setCaptionEquipIdx: (state, action: PayloadAction<CaptionEquipidxType>) => {\r\n      state.equip_idx = action.payload.equip_idx;\r\n    },\r\n    setCaptionContents: (state, action: PayloadAction<any>) => {\r\n      state.contents = action.payload;\r\n    },\r\n    setCaptionSelectedIdx: (state, action: PayloadAction<CaptionIdxType>) => {\r\n      state.caption_idx = action.payload.caption_idx;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    // 자막을 수정하고, 추가하고, 삭제한다.\r\n    // 자막객체의 인덱스로 조회한다. 이 때 조회하는 정보는 자막객체의 제목,설명,적용된장치들,자막목록이다. (디테일)\r\n    // 자막 객체가 어떠한것이 있는지 조회하는 api가 필요하다. (리스트 조회)\r\n    //\r\n\r\n    [fetchGetCaptionList.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetCaptionList.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.captionsList = result;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetCaptionList.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        message.success('성공적으로 삭제되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    // 자막의 디테일정보를 받아온다.\r\n    [fetchGetCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        console.log(result);\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchCreateCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchCreateCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        message.success('성공하였습니다');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchCreateCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCaptionDesc, setCaptionTitle, setCaptionEquipIdx, setCaptionContents, setCaptionSelectedIdx } = captionSlice.actions;\r\nexport default captionSlice.reducer;\r\nexport const selectCaption = (state: PayloadType) => state;\r\n","import styled from 'styled-components';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\ntype TypeNotice = {\r\n  isEdit?: boolean;\r\n};\r\n\r\nexport const CaptionListWrapped = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* margin-top: 10%; */\r\n  overflow: auto;\r\n  padding: 0 30px;\r\n  font-family: 'bmjua';\r\n`;\r\nexport const NoticeBox = styled.div<TypeNotice>`\r\n  display: flex;\r\n  height: 0;\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 100%;\r\n  padding: 0 3rem;\r\n  top: 0;\r\n  z-index: 99;\r\n  background-color: white;\r\n  transition: all 0.1s;\r\n  width: 100%;\r\n  ${(props) =>\r\n    props.isEdit &&\r\n    `\r\n      visibility: visible;\r\n      height: 11%;\r\n    `};\r\n`;\r\n\r\ntype TypeCaptionItemWrapped = {\r\n  isSelected?: boolean;\r\n};\r\nexport const CaptionItemWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  color: black;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\n      cursor:pointer;\r\n      color:blue;\r\n      `}\r\n`;\r\nexport const ItemsWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n  transition: filter 0.25s;\r\n  font-size: 1.3rem;\r\n  margin: 0.2rem;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\nfilter : blur(2px)\r\n`}\r\n`;\r\n\r\nexport const DragIndicatorIconWrapped = styled(DragIndicatorIcon)`\r\n  color: #dfe6e9;\r\n  vertical-align: middle;\r\n`;\r\n\r\nexport const SpanIconWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\nexport const CaptionSpan = styled.span`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n`;\r\n\r\nexport const DeleteOutlinedWrapped = styled(DeleteOutlined)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0 3rem;\r\n  color: #ce1b1b;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-top: 1px solid black;\r\n  border-bottom: 1px solid black;\r\n  padding: 20px 0;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC, memo } from 'react';\r\nimport { IconWrapped, Wrapped } from './CaptionListHeader.styled';\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = memo(({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>자막을 등록하거나 관리하세요(최대 100글자)</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default DrawerTitle;\r\n","import { Input, Popconfirm } from 'antd';\r\nimport React, { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable, DroppableProvided, DroppableStateSnapshot, DropResult } from 'react-beautiful-dnd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { CAPTION, fetchGetCaption, fetchPutCaption, selectCaption, setCaptionContents } from '../../../slice/CaptionSlice';\r\nimport { CaptionDetailType, CaptionModifyContentsType } from '../../../types/Caption';\r\nimport {\r\n  CaptionItemWrapped,\r\n  CaptionListWrapped,\r\n  CaptionSpan,\r\n  DeleteOutlinedWrapped,\r\n  DragIndicatorIconWrapped,\r\n  ItemsWrapped,\r\n  NoticeBox,\r\n  SpanIconWrapped,\r\n} from './CaptionList.styled';\r\nimport DrawerTitle from './CaptionListHeader';\r\n\r\nconst grid: number = 2;\r\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\r\n  userSelect: 'none',\r\n  padding: grid * 2,\r\n  margin: `0 0 ${grid}px 0`,\r\n  background: isDragging ? '#ecf0f188' : 'white',\r\n  borderRadius: '8px',\r\n  width: '100%',\r\n  ...draggableStyle,\r\n});\r\nconst reorder = (list: Array<any>, startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n};\r\n\r\n//드래그끝나면 재정렬해야함\r\ntype CaptionType = Partial<{\r\n  content: string;\r\n  seq: number;\r\n  uuid: string;\r\n}>;\r\n\r\n//가공된 자막의 타입\r\ntype CaptionComponentType = {\r\n  captionList?: Array<CaptionType>;\r\n  innerText?: string;\r\n  uuid?: string;\r\n  content?: string | undefined;\r\n};\r\n\r\nconst CaptionList: FC<{\r\n  title: string;\r\n  desc: string;\r\n  equip_idx: Array<number>;\r\n  captionIdx: number;\r\n}> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const storeContents = useSelector(selectCaption)[CAPTION].contents;\r\n  const { title, desc, equip_idx, captionIdx } = props;\r\n  const [contents, setContents] = useState<Array<CaptionType>>(); //원본 자막데이터\r\n  //가공된데이터\r\n  const [captionList, setCaptionList] = useState<any[]>([\r\n    {\r\n      captionList: [{ content: '', seq: 0, uuid: '' }],\r\n      innerText: '',\r\n      uuid: uuid(),\r\n      content: '',\r\n    },\r\n  ]); //uuid가 생성된 자막목록\r\n  const [selectedItemUUID, setSelectedItemUUID] = useState('');\r\n  const [selectedCaption, setSelectedCaption] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const InputTextRef = useRef<Input>(null);\r\n\r\n  useEffect(() => {\r\n    if (!!captionIdx) {\r\n      dispatch(fetchGetCaption(captionIdx));\r\n    } else {\r\n      const initData = [\r\n        {\r\n          content: '자막을 입력해주세요',\r\n          seq: 0,\r\n        },\r\n      ];\r\n      setContents(initData);\r\n      //기본 자막으로 설정한다\r\n      dispatch(setCaptionContents(initData));\r\n    }\r\n  }, [captionIdx]);\r\n\r\n  useEffect(() => {\r\n    if (captionIdx) {\r\n      storeContents && setContents(storeContents);\r\n    }\r\n  }, [storeContents]);\r\n\r\n  /**\r\n   * 현재 인풋이 아니라 drawer화면의 아무곳이나 클릭하면 수정을 취소하는 훅스함수\r\n   */\r\n  useEffect(() => {\r\n    const $el = document.querySelector('[data-caption=\"caption\"]');\r\n    $el &&\r\n      $el.addEventListener('click', (e) => {\r\n        const target = e.target as HTMLInputElement;\r\n        //input요소를 클릭하면 그냥 함수종료\r\n        if (target.classList.contains('ant-input')) {\r\n          return;\r\n        }\r\n        resetDefaultState();\r\n      });\r\n  }, []);\r\n\r\n  /**\r\n   * 자막의 내용, 삭제아이콘을 반환합니다\r\n   */\r\n  const CatpionContent: FC<CaptionComponentType> = ({ uuid, innerText }: CaptionComponentType) => {\r\n    const onConfirm = useCallback(\r\n      (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n        e && e.stopPropagation();\r\n        if (!!!captionList) {\r\n          return;\r\n        }\r\n        if (!!captionIdx) {\r\n          const data = JSON.parse(JSON.stringify(captionList));\r\n          //선택된 요소를 삭제후 put을 전송합니다.\r\n          const result = data.filter((caption: CaptionType) => caption.uuid !== uuid);\r\n          const sendData: CaptionDetailType = {\r\n            title: title,\r\n            desc: desc,\r\n            equip_idx: equip_idx,\r\n            contents: result,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchPutCaption(sendData));\r\n        } else {\r\n          const data = JSON.parse(JSON.stringify(captionList));\r\n          const result = data.filter((caption: CaptionType) => caption.uuid !== uuid);\r\n\r\n          setContents(result);\r\n          setCaptionList(result);\r\n          dispatch(setCaptionContents(result));\r\n        }\r\n      },\r\n      [captionList]\r\n    );\r\n    const onCancel = useCallback((e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      e && e.stopPropagation();\r\n      resetDefaultState();\r\n    }, []);\r\n    return (\r\n      <SpanIconWrapped>\r\n        <CaptionSpan data-set={'caption'}>{innerText}</CaptionSpan>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onConfirm} onCancel={onCancel} okType=\"primary\">\r\n          <DeleteOutlinedWrapped />\r\n        </Popconfirm>\r\n      </SpanIconWrapped>\r\n    );\r\n  };\r\n  /**\r\n   * 내용을 수정할때 input박스가 나오는 기능\r\n   */\r\n  const ChangeModeComponent: FC = () => {\r\n    const onKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.code === 'Escape') {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        resetDefaultState();\r\n      }\r\n    }, []);\r\n    /**\r\n     * input 생성시 포커스맞춤\r\n     */\r\n    useEffect(() => {\r\n      const target = InputTextRef.current as Input;\r\n      target.setValue(selectedCaption);\r\n      target.focus({ preventScroll: true }); //preventscroll설정을 false로 할 경우 drawer 관련 랜더링 깨짐 증상이 있음\r\n    }, []);\r\n    return <Input ref={InputTextRef} maxLength={100} onPressEnter={onPressEnter} onKeyDown={onKeyDown}></Input>;\r\n  };\r\n  /**\r\n   * 선택아이템,아이템,editmode 값들을 초기화합니다.\r\n   */\r\n  const resetDefaultState = useCallback(() => {\r\n    setSelectedItemUUID('');\r\n    setSelectedCaption('');\r\n    setEditMode(false);\r\n  }, []);\r\n\r\n  /**\r\n   * uuid 생성하는 훅스\r\n   */\r\n  useEffect(() => {\r\n    if (!!!contents) {\r\n      return;\r\n    }\r\n    const data = JSON.parse(JSON.stringify(contents));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n  }, [contents]);\r\n\r\n  /**\r\n   * 자막을 클릭하면 입력상태를 변경함\r\n   */\r\n  const onCaptionClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, item: CaptionType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    //선택된 아이템이 다르면 편집모드를 끄고, 현재 편집모드일 경우 다른곳을 클릭하면 편집모드를 취소시킨다.\r\n    const target = e.target as HTMLElement;\r\n    //자막이 들어있는 span이 아니라면 모두 취소\r\n    if (target.dataset.set !== 'caption') {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    // 다른 아이템을 클릭하면 입력상태를 초기화시킴\r\n    if (selectedItemUUID !== item.uuid && editMode) {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    //선택된아이템을 설정하고 편집모드로 설정함\r\n    if (item.uuid) {\r\n      setSelectedItemUUID(item.uuid);\r\n      setSelectedCaption(item.content as string);\r\n      setEditMode(true);\r\n    }\r\n  };\r\n  /**\r\n   * 엔터 클릭시 수정된 내용으로 서버로 전송\r\n   */\r\n  const onPressEnter = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    //빈값이면 그냥 리턴\r\n    const target = e.target as HTMLTextAreaElement;\r\n    const inputText = target.value;\r\n    if (inputText.trim() === '') {\r\n      return;\r\n    }\r\n    if (!!!captionList) {\r\n      return;\r\n    }\r\n    if (captionIdx) {\r\n      const data: CaptionModifyContentsType = JSON.parse(JSON.stringify(captionList));\r\n      data.forEach((caption: CaptionType) => {\r\n        if (selectedItemUUID === caption.uuid) {\r\n          caption.content = inputText;\r\n        }\r\n      });\r\n      const sendData: CaptionDetailType = {\r\n        title: title,\r\n        desc: desc,\r\n        equip_idx: equip_idx,\r\n        contents: data,\r\n        caption_idx: captionIdx,\r\n      };\r\n      dispatch(fetchPutCaption(sendData));\r\n      resetDefaultState();\r\n    } else {\r\n      const data: CaptionModifyContentsType = JSON.parse(JSON.stringify(captionList));\r\n      data.forEach((caption: CaptionType) => {\r\n        if (selectedItemUUID === caption.uuid) {\r\n          caption.content = inputText;\r\n        }\r\n      });\r\n      setCaptionList(data);\r\n      dispatch(setCaptionContents(data));\r\n      resetDefaultState();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 드래그앤드랍 정렬후 uuid 재생성하고 서버로 전송함\r\n   */\r\n  const onDragEnd = (result: DropResult): void => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    if (!!!captionList) {\r\n      return;\r\n    }\r\n    if (captionIdx) {\r\n      const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n      const data = JSON.parse(JSON.stringify(fixedItems));\r\n      data.forEach((caption: CaptionType) => {\r\n        caption['uuid'] = uuid();\r\n      });\r\n      setCaptionList(data);\r\n      resetDefaultState();\r\n      const sendData: CaptionDetailType = {\r\n        title: title,\r\n        desc: desc,\r\n        equip_idx: equip_idx,\r\n        contents: data,\r\n        caption_idx: captionIdx,\r\n      };\r\n      dispatch(fetchPutCaption(sendData));\r\n    } else {\r\n      const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n      const data = JSON.parse(JSON.stringify(fixedItems));\r\n      data.forEach((caption: CaptionType) => {\r\n        caption['uuid'] = uuid();\r\n      });\r\n      setCaptionList(data);\r\n      resetDefaultState();\r\n    }\r\n\r\n    // dispatch(fetchPutCaptionContents(data));\r\n  };\r\n\r\n  return (\r\n    <CaptionListWrapped>\r\n      <DrawerTitle\r\n        onClick={() => {\r\n          // 자막을 하나 더한다.\r\n          if (!!!captionList) {\r\n            return;\r\n          }\r\n          if (captionIdx) {\r\n            const data = JSON.parse(JSON.stringify(captionList));\r\n            data.push({\r\n              content: '자막을 입력해주세요',\r\n              seq: 0,\r\n            });\r\n            const sendData: CaptionDetailType = {\r\n              title: title,\r\n              desc: desc,\r\n              equip_idx: equip_idx,\r\n              contents: data,\r\n              caption_idx: captionIdx,\r\n            };\r\n            setContents(data);\r\n            setCaptionList(data);\r\n            dispatch(fetchPutCaption(sendData));\r\n          } else {\r\n            const data = JSON.parse(JSON.stringify(contents));\r\n            data.push({\r\n              content: '자막을 입력해주세요',\r\n              seq: 0,\r\n            });\r\n            setContents(data);\r\n            setCaptionList(data);\r\n            dispatch(setCaptionContents(data));\r\n          }\r\n        }}\r\n      />\r\n      <NoticeBox isEdit={editMode}>enter키를 누르면 내용을 수정합니다, esc키를 누르면 수정을 취소합니다</NoticeBox>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={'droppable'} key={`droppable`}>\r\n          {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              {captionList.map((caption, index) => {\r\n                return (\r\n                  <CaptionItemWrapped\r\n                    key={`caption_${index}_${uuid()}`}\r\n                    onClick={(e) => {\r\n                      onCaptionClick(e, caption);\r\n                    }}\r\n                  >\r\n                    <Draggable key={`key-${caption.uuid}`} draggableId={`id-${index}`} index={index}>\r\n                      {(provided, snapshot) => (\r\n                        <div ref={provided.innerRef} {...provided.draggableProps} style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}>\r\n                          <ItemsWrapped isSelected={editMode && selectedItemUUID !== caption.uuid ? true : false}>\r\n                            <span {...provided.dragHandleProps}>\r\n                              <DragIndicatorIconWrapped />\r\n                            </span>\r\n                            {selectedItemUUID === caption.uuid ? <ChangeModeComponent /> : <CatpionContent innerText={caption.content} uuid={caption.uuid} />}\r\n                          </ItemsWrapped>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  </CaptionItemWrapped>\r\n                );\r\n              })}\r\n              <div>{provided.placeholder}</div>\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </CaptionListWrapped>\r\n  );\r\n};\r\n\r\nexport default CaptionList;\r\n","import { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Modal } from 'antd';\r\nimport React from 'react';\r\n\r\nexport const confirm = (props) => {\r\n  const {\r\n    title = 'title',\r\n    content = 'content',\r\n    onOk = () => {},\r\n    onCancle = () => {},\r\n  } = props;\r\n\r\n  Modal.confirm({\r\n    width: 500,\r\n    title: title,\r\n    icon: <ExclamationCircleOutlined />,\r\n    content: content,\r\n    okText: '확인',\r\n    cancelText: '취소',\r\n    onOk: onOk,\r\n    onCancel: onCancle,\r\n  });\r\n};\r\n\r\nconst ConfirmModal = (props) => {};\r\n\r\nexport default ConfirmModal;\r\n","import { Button, Col, Input, message, Row, Select } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport axios from 'axios';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport CaptionList from './components/CaptionList';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { confirm } from '../ConfirmModal';\r\nimport {\r\n  CAPTION,\r\n  fetchCreateCaption,\r\n  fetchPutCaption,\r\n  selectCaption,\r\n  setCaptionContents,\r\n  setCaptionDesc,\r\n  setCaptionEquipIdx,\r\n  setCaptionSelectedIdx,\r\n  setCaptionTitle,\r\n} from '../../slice/CaptionSlice';\r\nimport { CaptionAddDetailType, CaptionDetailType } from '../../types/Caption';\r\nconst ManagementCaptionForm = (props: any) => {\r\n  const history = useHistory();\r\n  const equipIdx = props.match.params?.equip_idx;\r\n\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectCaption)[CAPTION];\r\n  const [isBack, setIsBack] = useState(true);\r\n  const [equipList, setEquipList] = useState([]);\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [applyEquip, setApplyEquip] = useState<Array<number>>([]);\r\n  const [captionIdx, setCaptionidx] = useState(equipIdx);\r\n\r\n  const mode = props.location.state?.mode;\r\n  useEffect(() => {\r\n    if (mode === 'modify' && props.location.state?.record) {\r\n      const title = props.location.state.record?.title;\r\n      const desc = props.location.state.record?.desc;\r\n      const equipIdxList = props.location.state.record?.equipsIdxList;\r\n      console.log(equipIdxList);\r\n      setTitle(title);\r\n      dispatch(\r\n        setCaptionTitle({\r\n          title: title,\r\n        })\r\n      );\r\n      setDescription(desc);\r\n      dispatch(\r\n        setCaptionDesc({\r\n          desc: desc,\r\n        })\r\n      );\r\n      setApplyEquip(equipIdxList);\r\n      dispatch(\r\n        setCaptionEquipIdx({\r\n          equip_idx: equipIdxList,\r\n        })\r\n      );\r\n    }\r\n    getEquipList();\r\n  }, [props.location.state?.record, dispatch]);\r\n\r\n  const getEquipList = () => {\r\n    axios\r\n      .get<any, any>(`/equip/index`, {\r\n        params: {\r\n          eqpType: '',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    // 수정된 제목, 설명, 장비들을 전송한다.\r\n    if (mode === 'modify') {\r\n      confirm({\r\n        title: `자막을 수정하시겠습니까?`,\r\n        content: '',\r\n        onOk: () => {\r\n          if (!title) {\r\n            message.error('제목이 없습니다');\r\n            return;\r\n          }\r\n          const sendData: CaptionDetailType = {\r\n            title: title,\r\n            desc: description,\r\n            equip_idx: applyEquip,\r\n            contents: state.contents,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchPutCaption(sendData));\r\n          setIsBack(false);\r\n          setTimeout(() => history.push('/screen'), 1000);\r\n        },\r\n      });\r\n    } else {\r\n      confirm({\r\n        title: `자막을 등록하시겠습니까?`,\r\n        content: '',\r\n        onOk: () => {\r\n          if (!title) {\r\n            message.error('제목이 없습니다');\r\n            return;\r\n          }\r\n          const sendData: CaptionAddDetailType = {\r\n            title: title,\r\n            desc: description,\r\n            equip_idx: applyEquip,\r\n            contents: state.contents,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchCreateCaption(sendData));\r\n          setIsBack(false);\r\n          setTimeout(() => history.push('/screen'), 200);\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const formBlockStyle = {\r\n    marginTop: '25px',\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title='자막 등록/수정'\r\n        subTitle='화면별 자막 출력 목록을 편집할 수 있습니다.'\r\n      />\r\n      <Row\r\n        style={{\r\n          border: '1px solid #dfe6e9',\r\n          padding: '50px',\r\n        }}\r\n      >\r\n        <Col\r\n          span={12}\r\n          style={{\r\n            height: '600px',\r\n          }}\r\n        >\r\n          <div>\r\n            <FormGuideComponent title='제목' />\r\n            <Input\r\n              value={title}\r\n              onChange={(e) => {\r\n                setTitle(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='설명' />\r\n            <Input\r\n              value={description}\r\n              onChange={(e) => {\r\n                setDescription(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='기기 선택' />\r\n            <Select\r\n              showArrow\r\n              mode='multiple'\r\n              value={applyEquip}\r\n              placeholder='자막을 사용할 기기를 선택해주세요'\r\n              style={{ width: '100%' }}\r\n              onChange={(e) => {\r\n                setApplyEquip(e);\r\n              }}\r\n            >\r\n              {equipList.map((item: any, idx) => {\r\n                return (\r\n                  <Select.Option key={uuid()} value={item.idx}>\r\n                    {item.eqpName} ({item.idx})\r\n                  </Select.Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='등록된 장치 수' />\r\n            <Text\r\n              keyboard\r\n              style={{\r\n                marginTop: '20px',\r\n              }}\r\n            >\r\n              {applyEquip.length}개\r\n            </Text>\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='등록된 자막 수' />\r\n            <Text\r\n              keyboard\r\n              style={{\r\n                marginTop: '20px',\r\n              }}\r\n            >\r\n              {state.contents.length}개\r\n            </Text>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              position: 'absolute',\r\n              bottom: 0,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n            <Button type='primary' block onClick={onSubmit}>\r\n              업 로 드\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          span={12}\r\n          style={{\r\n            height: '600px',\r\n          }}\r\n        >\r\n          <CaptionList\r\n            title={title}\r\n            desc={description}\r\n            equip_idx={applyEquip}\r\n            captionIdx={captionIdx}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {/* <UploadingProgressIndicator isProgress={isProgress} progressPercentage={progressPercentage} /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementCaptionForm;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport './ManagementDcsFileUploadComponent.css';\r\n\r\nconst ContentsBtn = styled.div`\r\n  user-select: none;\r\n  cursor: pointer;\r\n  margin-top: 5px;\r\n  font-family: NotoSansKR-Bold;\r\n  font-style: italic;\r\n  color: #0984e3;\r\n`;\r\n\r\nconst UploadWrapped = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\ntype ManagementDcsFileUploadComponentProps = {\r\n  id: string;\r\n  fileInfoForScreen: any;\r\n  onChangeFileInfo: (fileInfo: any) => void;\r\n  onSelectScreen: (screen: any) => void;\r\n};\r\n\r\nconst ManagementDcsFileUploadComponent = ({ id, fileInfoForScreen, onChangeFileInfo, onSelectScreen }: ManagementDcsFileUploadComponentProps) => {\r\n  const dummyRequest = ({ onSuccess }: any) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const beforeUpload = (file: any) => {\r\n    console.log(file);\r\n    console.log(file.type.includes('image'));\r\n    let isVideo;\r\n    let isImage;\r\n    if (file.type.includes('video')) {\r\n      isVideo = file.type === 'video/mp4' || file.type === 'video/webm';\r\n      if (!isVideo) {\r\n        message.error(`${file.name} 올바른 파일 확장자가 아닙니다.`);\r\n        return Upload.LIST_IGNORE;\r\n      }\r\n      const fileMBSize = file.size / 1024 / 1024;\r\n      const GIGABYTE_10 = 10240;\r\n      if (fileMBSize > GIGABYTE_10) {\r\n        message.error(`${file.name} 용량을 초과하였습니다.`);\r\n        return Upload.LIST_IGNORE;\r\n      }\r\n    }\r\n    if (file.type.includes('image')) {\r\n      // isImage = true;\r\n      isImage = file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg';\r\n      if (!isImage) {\r\n        message.error(`${file.name} 올바른 파일 확장자가 아닙니다.`);\r\n        return Upload.LIST_IGNORE;\r\n      }\r\n    }\r\n\r\n    return isImage || isVideo || Upload.LIST_IGNORE;\r\n  };\r\n\r\n  return (\r\n    <UploadWrapped>\r\n      <Upload\r\n        showUploadList={false}\r\n        beforeUpload={beforeUpload}\r\n        customRequest={dummyRequest}\r\n        multiple={true}\r\n        fileList={fileInfoForScreen?.fileList}\r\n        onChange={(info) => {\r\n          if (!info) return;\r\n          if (!(info?.file?.type?.includes('image') || info?.file?.type?.includes('video'))) {\r\n            message.error(`이미지 또는 비디오 파일만 업로드 가능합니다 : ${info.file.name}`);\r\n            return;\r\n          }\r\n          let copiedFileList = Array.from(info.fileList.filter((item) => item?.type?.includes('image') || item?.type?.includes('video')));\r\n          copiedFileList.forEach((file: any, idx) => {\r\n            file.seq = idx;\r\n\r\n            if (!('file_status' in file && file.file_status !== 'done') && file.type.includes('img')) file.duration = 10;\r\n          });\r\n          console.log(copiedFileList);\r\n          onChangeFileInfo({\r\n            id: id,\r\n            // 이미지와 비디오만 필터링\r\n            fileList: copiedFileList,\r\n          });\r\n          onSelectScreen(id);\r\n        }}\r\n      >\r\n        <PlusCircleOutlined\r\n          style={{\r\n            fontSize: '2em',\r\n            cursor: 'pointer',\r\n          }}\r\n        />\r\n      </Upload>\r\n\r\n      <ContentsBtn\r\n        onClick={(e) => {\r\n          onSelectScreen(id);\r\n        }}\r\n      >\r\n        <Button>{`콘텐츠 (${fileInfoForScreen?.fileList?.length | 0} 개)`}</Button>\r\n      </ContentsBtn>\r\n    </UploadWrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsFileUploadComponent;\r\n","import styled from 'styled-components';\r\n\r\nexport const LayoutWrapped = styled.div`\r\n  width: 100%;\r\n  height: 250px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #d9d9d9;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nconst Screen = styled.div<{ flexGrow?: number }>`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex: ${(props) => (props.flexGrow ? props.flexGrow : 1)};\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #d9d9d9;\r\n`;\r\n\r\nexport const Row = styled(Screen)`\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const Col = styled(Screen)`\r\n  flex-direction: column;\r\n`;\r\n","import React from \"react\";\r\nimport ManagementDcsFileUploadComponent from \"../dcs/ManagementDcsFileUploadComponent\";\r\nimport { Col, LayoutWrapped, Row } from \"./Layout.styled\";\r\nimport { LayoutProps } from \"./LayoutType\";\r\n\r\nconst Layout1000 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id=\"screen1\"\r\n          fileInfoForScreen={\r\n            fileInfo && \"screen1\" in fileInfo && fileInfo[\"screen1\"]\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <Col>\r\n          <Col>\r\n            <ManagementDcsFileUploadComponent\r\n              id=\"screen2\"\r\n              fileInfoForScreen={\r\n                fileInfo && \"screen2\" in fileInfo && fileInfo[\"screen2\"]\r\n              }\r\n              onChangeFileInfo={onChangeFileInfo}\r\n              onSelectScreen={onSelectScreen}\r\n            />\r\n          </Col>\r\n          <Col></Col>\r\n        </Col>\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout1000;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout101 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout101;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout102 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout102;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout103 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout103;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout104 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen3'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen3' in fileInfo && fileInfo['screen3']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout104;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout105 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout105;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout106 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout106;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout107 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen3'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen3' in fileInfo && fileInfo['screen3']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout107;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout108 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout108;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout109 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout109;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout110 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout110;\r\n","import Layout1000 from '../dcs-layout/Layout1000';\r\nimport Layout101 from '../dcs-layout/Layout101';\r\nimport Layout102 from '../dcs-layout/Layout102';\r\nimport Layout103 from '../dcs-layout/Layout103';\r\nimport Layout104 from '../dcs-layout/Layout104';\r\nimport Layout105 from '../dcs-layout/Layout105';\r\nimport Layout106 from '../dcs-layout/Layout106';\r\nimport Layout107 from '../dcs-layout/Layout107';\r\nimport Layout108 from '../dcs-layout/Layout108';\r\nimport Layout109 from '../dcs-layout/Layout109';\r\nimport Layout110 from '../dcs-layout/Layout110';\r\n\r\ntype ApplyLaoutType = {\r\n  layoutType: string;\r\n  fileInfo: any;\r\n  onChangeFileInfo: (fileInfo: { id: string; fileList: any[] }) => void;\r\n  onSelectScreen: (screen: any) => void;\r\n};\r\n\r\nexport const ApplyLayout = ({ fileInfo, layoutType, onChangeFileInfo, onSelectScreen }: ApplyLaoutType) => {\r\n  switch (layoutType) {\r\n    case 'layout101':\r\n      return <Layout101 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout102':\r\n      return <Layout102 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout103':\r\n      return <Layout103 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout104':\r\n      return <Layout104 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout105':\r\n      return <Layout105 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout106':\r\n      return <Layout106 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout107':\r\n      return <Layout107 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout108':\r\n      return <Layout108 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout109':\r\n      return <Layout109 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout110':\r\n      return <Layout110 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout1000':\r\n      return <Layout1000 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\nexport default ApplyLayout;\r\n","import React, { useEffect } from 'react';\r\nimport { Modal } from 'antd';\r\n\r\nimport ReactPlayer from 'react-player';\r\nimport { DEV_SERVER } from '../Constants';\r\nimport Axios from 'axios';\r\n\r\nexport const modalDcsPreview = (props) => {\r\n  const { item } = props;\r\n  console.log(props);\r\n  let sourceUrl = '';\r\n  if (item && item.file_status && item.file_status === 'done') {\r\n    if (item.type.includes('image')) {\r\n      sourceUrl = `${Axios.defaults.baseURL}/files/dcs/stream/${item.saveName}`;\r\n    } else {\r\n      sourceUrl = `${Axios.defaults.baseURL}/files/dcs/stream/video/${item.saveName}`;\r\n    }\r\n  } else {\r\n    console.log('usrlcreateobjecturl');\r\n    sourceUrl = URL.createObjectURL(item.originFileObj);\r\n  }\r\n  Modal.confirm({\r\n    title: ``,\r\n    width: 600,\r\n    className: 'modal-preview',\r\n    maskClosable: true,\r\n    content: <div style={{ display: 'flex', justifyContent: 'center' }}>{item.type.includes('image') ? imagePlayer(sourceUrl) : videoPlayer(sourceUrl)}</div>,\r\n    okText: '확인',\r\n  });\r\n};\r\n\r\nconst imagePlayer = (url) => {\r\n  return <img style={{ maxWidth: '400px' }} src={url} alt={`imagePreview`} />;\r\n};\r\nconst videoPlayer = (url) => {\r\n  return (\r\n    <ReactPlayer\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      style={{ maxWidth: '500px' }}\r\n      config={{\r\n        file: {\r\n          attributes: {\r\n            // preload: 'none',\r\n            controlsList: 'nodownload',\r\n          },\r\n        },\r\n      }}\r\n      url={url}\r\n      playing={url ? true : false}\r\n      // url={'http://192.168.0.54:28080/files/banner/b3b5ba7e-adcc-4b39-819f-d71b1696549b.mp4'}\r\n      // playing={true}\r\n      muted\r\n    />\r\n  );\r\n};\r\n\r\nconst ManagementDcsFilePreviewComponent = (props) => {\r\n  return <div></div>;\r\n};\r\n\r\nexport default ManagementDcsFilePreviewComponent;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { Col, Input, Row, Tooltip } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport uuid from 'react-uuid';\r\nimport { modalDcsPreview } from './ManagementDcsFilePreviewComponent';\r\n\r\nconst ManagementDcsContentsListComponent = (props) => {\r\n  const [fileList, setFileList] = useState([]);\r\n  const [selectedScreen, setSelectedScreen] = useState('');\r\n  const { onChangeFileList } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(fileList);\r\n    setFileList(props.fileList ? createSeqFileList() : []);\r\n    setSelectedScreen(props.selectedScreen ? props.selectedScreen : '');\r\n  }, [props]);\r\n\r\n  // required :: props.fileList\r\n  // props.fileList가 비어있을 때 예외처리를 안함\r\n  // 반드시 props.fileList가 있을 때 사용해야함\r\n  const createSeqFileList = () => {\r\n    var copiedFileList = Array.from(props.fileList);\r\n    copiedFileList.forEach((item, idx) => {\r\n      if (!('seq' in item)) {\r\n        item['seq'] = idx;\r\n      }\r\n      if (!('duration' in item)) {\r\n        item['duration'] = 10;\r\n      }\r\n    });\r\n\r\n    setFileList(copiedFileList);\r\n    return copiedFileList;\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(\r\n      fileList,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n    setFileList(fixedItems);\r\n    onChangeFileList(selectedScreen, fixedItems);\r\n  };\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  const grid = 2;\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n    width: '100%',\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  const onDeleteFile = (targetIdx) => {\r\n    if (typeof targetIdx === 'number') {\r\n      let copiedFileList = Array.from(fileList);\r\n      copiedFileList.splice(targetIdx, 1);\r\n      copiedFileList.forEach((copiedFile, idx) => {\r\n        copiedFile.seq = idx;\r\n      });\r\n      onChangeFileList(selectedScreen, copiedFileList);\r\n    }\r\n  };\r\n\r\n  const onChangeDuration = (targetIdx, duration) => {\r\n    const copiedFileList = Array.from(fileList);\r\n    copiedFileList[targetIdx]['duration'] = duration;\r\n    onChangeFileList(selectedScreen, copiedFileList);\r\n  };\r\n  return (\r\n    <div style={{ marginTop: '15px' }}>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={uuid()}>\r\n          {(provided, snapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              <div style={{ marginTop: '15px' }}>\r\n                {fileList.map((item, index) => {\r\n                  return (\r\n                    <Draggable\r\n                      key={`key-${index}`}\r\n                      draggableId={`id-${index}`}\r\n                      index={index}\r\n                    >\r\n                      {(provided, snapshot) => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          style={getItemStyle(\r\n                            snapshot.isDragging,\r\n                            provided.draggableProps.style\r\n                          )}\r\n                        >\r\n                          <Row>\r\n                            <Col span={11}>\r\n                              <div style={{ display: 'flex' }}>\r\n                                <span {...provided.dragHandleProps}>\r\n                                  <DragIndicatorIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                </span>\r\n                                <div\r\n                                  className={`content-title`}\r\n                                  title={item.name}\r\n                                  onClick={() => {\r\n                                    console.log(item);\r\n\r\n                                    modalDcsPreview({ item });\r\n                                  }}\r\n                                >\r\n                                  {item.name.length > 20\r\n                                    ? `${item.name.substring(0, 21)}...`\r\n                                    : item.name}\r\n                                </div>\r\n                              </div>\r\n                            </Col>\r\n                            <Col\r\n                              span={6}\r\n                              offset={1}\r\n                              style={{ textAlign: 'center' }}\r\n                            >\r\n                              <Input\r\n                                style={{ width: '70%', borderColor: '#ecf0f1' }}\r\n                                size='small'\r\n                                value={item.duration}\r\n                                disabled={\r\n                                  item.type.includes('video') ? true : false\r\n                                }\r\n                                onChange={(e) => {\r\n                                  const { value } = e.target;\r\n                                  const reg = /^-?[0-9]*(\\.[0-9]*)?$/;\r\n                                  if (\r\n                                    (!isNaN(value) && reg.test(value)) ||\r\n                                    value === '' ||\r\n                                    value === '-'\r\n                                  ) {\r\n                                    onChangeDuration(index, value);\r\n                                  }\r\n                                }}\r\n                              />{' '}\r\n                              초\r\n                            </Col>\r\n                            <Col\r\n                              span={4}\r\n                              offset={1}\r\n                              style={{ textAlign: 'center' }}\r\n                            >\r\n                              <Tooltip title='미리보기'>\r\n                                <EyeOutlined\r\n                                  style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '1.3em',\r\n                                    marginRight: '10px',\r\n                                  }}\r\n                                  onClick={() => {\r\n                                    modalDcsPreview({ item });\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                              <Tooltip title='삭제'>\r\n                                <DeleteOutlined\r\n                                  style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '1.3em',\r\n                                  }}\r\n                                  onClick={(e) => {\r\n                                    onDeleteFile(index);\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                            </Col>\r\n                          </Row>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  );\r\n                })}\r\n              </div>\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      {fileList.length === 0 ? (\r\n        <div style={{ textAlign: 'center', marginTop: '100px' }}>\r\n          <span style={{ fontStyle: 'italic' }}>등록된 컨텐츠가 없습니다.</span>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsContentsListComponent;\r\n","import { Col, Row, Tabs } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { layout1000, layout101, layout102, layout103, layout104, layout105, layout106, layout107, layout108, layout109, layout110 } from '../CommonImage';\r\nimport Layout108 from '../dcs-layout/Layout108';\r\n\r\nconst ManagementDcslayout = (props: any) => {\r\n  const { onChangeLayout } = props;\r\n\r\n  const [dcsType, setDcsType] = useState(props.dcsType);\r\n\r\n  useEffect(() => {\r\n    setDcsType(props.dcsType);\r\n  }, [props]);\r\n\r\n  const HorizontalLayoutComponent = styled.img`\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    box-shadow: 2px 2px 2px 2px lightgrey;\r\n    :hover {\r\n      box-shadow: 2px 2px 2px 2px #2980b9;\r\n      filter: opacity(0.5) drop-shadow(0 0 0 #2980b9);\r\n    }\r\n  `; // HorizontalLayoutComponent -- end\r\n\r\n  const colStyle = {\r\n    padding: '20px',\r\n    cursor: 'pointer',\r\n  };\r\n\r\n  const callback = (key: any) => {};\r\n\r\n  return (\r\n    <>\r\n      <Tabs defaultActiveKey=\"H\" onChange={callback}>\r\n        <Tabs.TabPane tab=\"가로형\" key=\"H\">\r\n          <Row>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout101}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout101', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            {/* <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout102}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout102', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout103}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout103', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout104}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout104', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout105}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout105', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout106}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout106', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout107}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout107', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout108}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout108', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout109}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout109', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              6:4\r\n              <HorizontalLayoutComponent\r\n                src={layout110}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout110', 'H');\r\n                }}\r\n              />\r\n            </Col> */}\r\n            <Col span={6} style={colStyle}>\r\n              부산시청\r\n              <HorizontalLayoutComponent\r\n                src={layout1000}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout1000', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              부산시청\r\n              <HorizontalLayoutComponent\r\n                src={layout1000}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout1000', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Tabs.TabPane>\r\n        {/* <Tabs.TabPane\r\n          tab='세로형'\r\n          key='V'\r\n          disabled={dcsType === 'single' ? false : true}\r\n        ></Tabs.TabPane> */}\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementDcslayout;\r\n","import { Button, Input, Popconfirm } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst NumberInput = styled(Input)`\r\n  width: 6em;\r\n`;\r\nconst ManagementDcsPlaylistTimeControlPanelWrapped = styled.div`\r\n  width: 130px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\ntype ManagementDcsPlaylistTimeControlPanelProps = {\r\n  setPlayDuration: React.Dispatch<React.SetStateAction<number>>;\r\n};\r\nconst ManagementDcsPlaylistTimeControlPanel = ({\r\n  setPlayDuration,\r\n}: ManagementDcsPlaylistTimeControlPanelProps) => {\r\n  const [inputValue, setInputValue] = useState<number>(10);\r\n  return (\r\n    <ManagementDcsPlaylistTimeControlPanelWrapped>\r\n      <NumberInput\r\n        type='number'\r\n        size='small'\r\n        suffix={'초'}\r\n        min={1}\r\n        value={inputValue}\r\n        onChange={(e) => {\r\n          setInputValue(Number(e.target.value));\r\n        }}\r\n      />\r\n      <Popconfirm\r\n        title='적용하시겠습니까?'\r\n        onConfirm={() => {\r\n          setPlayDuration(inputValue);\r\n        }}\r\n      >\r\n        <Button type='default' size='small'>\r\n          적용\r\n        </Button>\r\n      </Popconfirm>\r\n    </ManagementDcsPlaylistTimeControlPanelWrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsPlaylistTimeControlPanel;\r\n","import zIndex from '@material-ui/core/styles/zIndex';\r\nimport { Progress, Spin } from 'antd';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\ntype UploadingProgressIndicatorProps = {\r\n  isProgress: boolean;\r\n  progressPercentage: number;\r\n};\r\n\r\nconst Overray = styled.div<{ isProgress: boolean }>`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  display: ${(props) => (props.isProgress ? 'inherit' : 'none')};\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.5;\r\n  background-color: black;\r\n  z-index: 998;\r\n`;\r\n\r\nconst ProgressWrapped = styled.div<{ isProgress: boolean }>`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 999;\r\n  display: ${(props) => (props.isProgress ? 'flex' : 'none')};\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  color: white;\r\n\r\n  & .ant-progress-text {\r\n    color: white;\r\n  }\r\n`;\r\nconst UploadingProgressIndicator = ({\r\n  isProgress,\r\n  progressPercentage,\r\n}: UploadingProgressIndicatorProps) => {\r\n  return (\r\n    <>\r\n      <ProgressWrapped isProgress={isProgress}>\r\n        <Progress\r\n          width={250}\r\n          type='circle'\r\n          style={{ color: 'white' }}\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progressPercentage}\r\n        />\r\n        <div style={{ marginTop: '15px' }}>\r\n          <span\r\n            style={{\r\n              fontFamily: 'NotoSansKR-Bold',\r\n              fontSize: '2em',\r\n              fontStyle: 'italic',\r\n            }}\r\n          >\r\n            {progressPercentage === 100\r\n              ? '파일 전송을 완료하는 중...'\r\n              : '파일 업로드 중...'}\r\n          </span>\r\n        </div>\r\n      </ProgressWrapped>\r\n      <Overray isProgress={isProgress} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadingProgressIndicator;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable react/jsx-pascal-case */\r\nimport usePreventLeave from \"@nooks/use-prevent-leave\";\r\nimport { Button, Col, Input, message, Modal, Row, Select } from \"antd\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, Prompt } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { confirm } from \"../ConfirmModal\";\r\nimport FormGuideComponent from \"../FormGuideComponent\";\r\nimport MenuGuide from \"../MenuGuide\";\r\nimport ApplyLayout from \"./ApplyLayout\";\r\nimport ManagementDcsContentsListComponent from \"./ManagementDcsContentsList\";\r\nimport \"./ManagementDcsForm.css\";\r\nimport ManagementDcsLayout from \"./ManagementDcsLayout\";\r\nimport ManagementDcsPlaylistTimeControlPanel from \"./ManagementDcsPlaylistTimeControlPanel\";\r\nimport UploadingProgressIndicator from \"./UploadingProgressIndicator\";\r\n\r\nconst ContentsListHeader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst ManagementDcsFormV2 = (props: any) => {\r\n  const CancelToken = axios.CancelToken;\r\n  const cancel = useRef<any>();\r\n  // let cancel: any;\r\n\r\n  const [isLayoutModal, setIsLayoutModal] = useState(false);\r\n  const [dcsType, setDcsType] = useState(\"\");\r\n  const [layoutType, setLayoutType] = useState(\"\");\r\n  const [dcsEquipList, setDcsEquipList] = useState([]);\r\n  const [immutableDcsEquipList, setImmutableDcsEquipList] = useState([]);\r\n  const [dcsSelectedEquip, setDcsSelectedEquip] = useState([]);\r\n  const [fileInfo, setFileInfo] = useState<any>();\r\n  const [selectedScreen, setSelectedScreen] = useState(\"\");\r\n  const [selectedFileList, setSelectedFileList] = useState<any[]>([]);\r\n  const [isProgress, setIsProgress] = useState(false);\r\n  const [progressPercentage, setProgressPercentage] = useState(0);\r\n  const [dspType, setDspType] = useState(\"H\");\r\n  const [dcsTitle, setDcsTitle] = useState(\"\");\r\n  const [mode, setMode] = useState(\r\n    props.location.state?.mode ? props.location.state.mode : \"regist\"\r\n  );\r\n  const [cmsMasterIdx, setCmsMasterIdx] = useState();\r\n  const [playDuration, setPlayDuration] = useState<number>(10);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  // mode : modify\r\n  const [record, setRecord] = useState<any>();\r\n\r\n  useEffect(() => {\r\n    if (props.location.state?.mode) {\r\n      setMode(props.location.state.mode);\r\n    }\r\n\r\n    document.body.className = \"form-body\";\r\n    getDcsEquipList();\r\n    setDcsType(\"single\");\r\n    enablePrevent();\r\n    setDcsEquipList(immutableDcsEquipList);\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (fileInfo) {\r\n      const screens: string[] = Object.keys(fileInfo);\r\n      screens\r\n        .sort((a, b) => {\r\n          return a < b ? -1 : 1;\r\n        })\r\n        .forEach((screenId) => {\r\n          if (\"fileList\" in fileInfo[screenId]) {\r\n            const fileList = fileInfo[screenId].fileList as any[];\r\n            if (fileList && fileList.length > 0) {\r\n              fileList.forEach((file) => {\r\n                const fileType = file.type as string;\r\n                if (file.fileType === \"image\" || fileType.startsWith(\"ima\")) {\r\n                  file.duration = playDuration;\r\n                  file.rotationTime = playDuration;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n      setFileInfo({ ...fileInfo });\r\n    }\r\n  }, [playDuration]);\r\n\r\n  useEffect(() => {\r\n    setDcsEquipList(\r\n      immutableDcsEquipList.filter((item: any) => item.eqpType === \"DCS-S\")\r\n    );\r\n  }, [immutableDcsEquipList]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.state && \"record\" in props.location.state) {\r\n      setLayoutType(props.location.state.record?.layout_type);\r\n      setRecord(props.location.state.record);\r\n      setDcsTitle(props.location.state.record.cSubject);\r\n      setCmsMasterIdx(props.location.state.record.master_idx);\r\n\r\n      setDcsType(\"single\");\r\n      setDspType(\"H\");\r\n\r\n      getAppliedEquipList(props.location.state.record.master_idx);\r\n      getFileInfo();\r\n    }\r\n  }, [props]);\r\n\r\n  const getFileInfo = () => {\r\n    axios\r\n      .get(`/dcs/fileinfo`, {\r\n        params: {\r\n          cms_master_idx: props.location.state.record.master_idx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setFileInfo((res.data as any).fileInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getAppliedEquipList = (cmsMasterIdx: any) => {\r\n    axios\r\n      .get(`/equip/playing`, {\r\n        params: {\r\n          cms_master_idx: cmsMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setDcsSelectedEquip(\r\n          (res.data as any).appliedEquipList.map((item: any) => item.equip_idx)\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getDcsEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: \"DCS\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setImmutableDcsEquipList(res.data as any);\r\n        if (mode === \"regist\") {\r\n          setDcsType(\"single\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onChangeEquip = (e: any) => {\r\n    setDcsSelectedEquip(e);\r\n  };\r\n\r\n  const onSelectScreen = (screen: any) => {\r\n    // fileInfo가 없는데 fileList에 넣으려는 증상이 있어 filInfo가 생성되었을 때 동작되게 수정함\r\n    if (screen !== undefined) {\r\n      if (fileInfo) {\r\n        setSelectedScreen(screen);\r\n        setSelectedFileList(fileInfo[screen] ? fileInfo[screen].fileList : []);\r\n      }\r\n    }\r\n\r\n    // setSelectedScreen(screen);\r\n    // setSelectedFileList(fileInfo[screen] ? fileInfo[screen].fileList : []);\r\n  };\r\n\r\n  const onChangeLayout = (e: any, layoutTypeParam = \"\", dspTypeParam = \"\") => {\r\n    e.preventDefault();\r\n    if (layoutType) {\r\n      confirm({\r\n        title: \"레이아웃 변경\",\r\n        content:\r\n          \"레이아웃 변경시 레이아웃 및 컨텐츠 목록이 초기화 됩니다. 변경하시겠습니까?\",\r\n        onOk: () => {\r\n          setLayoutType(layoutTypeParam);\r\n          setFileInfo({});\r\n          setSelectedScreen(\"\");\r\n          setSelectedFileList([]);\r\n          setDspType(dspType);\r\n        },\r\n      });\r\n    } else {\r\n      setLayoutType(layoutTypeParam);\r\n      setDspType(dspTypeParam);\r\n    }\r\n    console.log(layoutTypeParam);\r\n    console.log(fileInfo);\r\n    // setFileInfo({});\r\n    if (layoutTypeParam.includes(\"101\")) {\r\n      setFileInfo({\r\n        screen1: { id: \"screen1\", fileList: [] },\r\n      });\r\n    }\r\n    if (layoutTypeParam.includes(\"104\") || layoutTypeParam.includes(\"107\")) {\r\n      setFileInfo({\r\n        screen1: { id: \"screen1\", fileList: [] },\r\n        screen2: { id: \"screen2\", fileList: [] },\r\n        screen3: { id: \"screen3\", fileList: [] },\r\n      });\r\n    }\r\n    // 부산시청은 레이아웃 1000\r\n    if (\r\n      layoutTypeParam.includes(\"102\") ||\r\n      layoutTypeParam.includes(\"103\") ||\r\n      layoutTypeParam.includes(\"105\") ||\r\n      layoutTypeParam.includes(\"106\") ||\r\n      layoutTypeParam.includes(\"108\") ||\r\n      layoutTypeParam.includes(\"109\") ||\r\n      layoutTypeParam.includes(\"110\") ||\r\n      layoutTypeParam.includes(\"1000\")\r\n    ) {\r\n      setFileInfo({\r\n        screen1: { id: \"screen1\", fileList: [] },\r\n        screen2: { id: \"screen2\", fileList: [] },\r\n      });\r\n    }\r\n\r\n    setIsLayoutModal(false);\r\n  };\r\n\r\n  const onChangeFileInfo = (fileInfoParam: { id: string; fileList: any[] }) => {\r\n    let tempFileInfo: any = { ...fileInfo };\r\n    tempFileInfo[fileInfoParam.id] = {\r\n      id: fileInfoParam.id,\r\n      fileList: fileInfoParam.fileList,\r\n    };\r\n    setFileInfo(tempFileInfo);\r\n    setSelectedFileList(fileInfoParam.fileList);\r\n  };\r\n\r\n  const onChangeFileList = (screenId: any, fileList: any) => {\r\n    let copiedFileInfo: any = fileInfo;\r\n\r\n    copiedFileInfo[screenId].fileList = Array.from(fileList);\r\n    setFileInfo(Object.assign(copiedFileInfo));\r\n    setSelectedFileList(Array.from(fileList));\r\n  };\r\n\r\n  const onCalcleDcsLayoutModal = () => {\r\n    setIsLayoutModal(false);\r\n  };\r\n\r\n  const formBlockStyle = {\r\n    marginTop: \"25px\",\r\n  };\r\n\r\n  const sendDcsInfo = () => {\r\n    if (!!!fileInfo) {\r\n      message.error(\"컨텐츠가 등록되지 않았습니다\");\r\n      return;\r\n    }\r\n    let fileInfoKeys: any = Object.keys(fileInfo).filter(\r\n      (item) => !item.includes(\"select\")\r\n    );\r\n    if (dcsTitle.trim().length === 0) {\r\n      message.error(\"제목을 입력해주세요\");\r\n      return;\r\n    }\r\n\r\n    if (fileInfoKeys.length === 0) {\r\n      message.error(\"컨텐츠가 등록되지 않았습니다\");\r\n      return;\r\n    }\r\n\r\n    for (var i = 0; i < fileInfoKeys.length; i++) {\r\n      if (\r\n        Object.entries(fileInfo[fileInfoKeys[i]]).length === 0 &&\r\n        fileInfo[fileInfoKeys[i]][\"fileList\"].length === 0\r\n      ) {\r\n        message.error(`${fileInfoKeys[i]}에 컨텐츠가 등록되지 않았습니다`);\r\n        return;\r\n      } else if (fileInfo[fileInfoKeys[i]].fileList.length === 0) {\r\n        message.error(`${fileInfoKeys[i]}에 컨텐츠가 등록되지 않았습니다`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const postDcs = () => {\r\n      if (mode === \"regist\") {\r\n        axios\r\n          .post(`/dcs`, {\r\n            cSubject: dcsTitle,\r\n            cContents: dcsTitle,\r\n            cType: \"DCS\",\r\n            equip_idx: dcsSelectedEquip,\r\n            dcsType: dcsType,\r\n            dspType: dspType,\r\n            layoutType: layoutType, // db와 대조하기 위한 layouttype\r\n            layout_type: layoutType, // tbl_ges_dcs 테이블에 layout_type:: 저장된 레이아웃을 불러오기 위한 선택..\r\n          })\r\n          .then((res) => {\r\n            sendData(fileInfoKeys, (res.data as any).dcsList);\r\n            // props.history.goBack();\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      } else if (mode === \"modify\") {\r\n        const dcsObj = {\r\n          idx: record.master_idx,\r\n          cSubject: dcsTitle,\r\n          cContents: dcsTitle,\r\n          cType: \"DCS\",\r\n          equip_idx: dcsSelectedEquip,\r\n          dcsType: dcsType,\r\n          dspType: dspType,\r\n          layoutType: layoutType,\r\n          layout_type: layoutType,\r\n        };\r\n        sendDataModify(fileInfoKeys, dcsObj);\r\n      }\r\n    };\r\n\r\n    confirm({\r\n      title: `컨텐츠를 등록하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        postDcs();\r\n      },\r\n    });\r\n  };\r\n\r\n  const sendData = (fileInfoKeys = [], dcsList: any[]) => {\r\n    var formData = new FormData();\r\n    var info: any = [];\r\n    // const mDcsList = dcsList.sort();\r\n\r\n    const config = {\r\n      onUploadProgress: function (progressEvent: {\r\n        loaded: number;\r\n        total: number;\r\n      }) {\r\n        var percentCompleted = Math.round(\r\n          (progressEvent.loaded * 100) / progressEvent.total\r\n        );\r\n        setProgressPercentage(percentCompleted);\r\n      },\r\n    };\r\n\r\n    // data 전송 start\r\n    setProgressPercentage(0);\r\n    setIsProgress(true);\r\n    console.log(\"fileinfokeys\");\r\n    console.log(fileInfoKeys);\r\n    // console.log(mDcsList);\r\n    fileInfoKeys\r\n      .filter((key) => \"fileList\" in fileInfo[key])\r\n      .sort()\r\n      .forEach((screenId, fikIdx) => {\r\n        // console.log(screenId);\r\n        // console.log(dcsList[fikIdx]);\r\n        // console.log(fikIdx);\r\n\r\n        // screenId = 'screen1 , 0\r\n        fileInfo[screenId].fileList.forEach((item: any, idx: number) => {\r\n          var file_type = String(item.type);\r\n          if (\"originFileObj\" in item) {\r\n            formData.append(\"files\", item.originFileObj);\r\n          } else {\r\n            formData.append(\"files\", \"\");\r\n          }\r\n          info.push({\r\n            uid: item.uid,\r\n            org_name: item.name,\r\n            file_type: file_type.includes(\"video\") ? \"video\" : \"image\",\r\n            item: item,\r\n            type: \"DCS\",\r\n            idx: item.seq,\r\n            duration: item.duration,\r\n            layoutType: layoutType,\r\n            screenId: screenId,\r\n            ref_idx: dcsList[fikIdx],\r\n            equip_idx: dcsSelectedEquip,\r\n            file_status: \"file_status\" in item ? item.file_status : \"uploading\",\r\n          });\r\n        });\r\n      });\r\n\r\n    formData.append(\"info\", JSON.stringify(info));\r\n\r\n    axios\r\n      .post(\"/file\", formData, config)\r\n      .then((res) => {\r\n        setTimeout(() => {\r\n          setProgressPercentage(0);\r\n          setIsBack(false);\r\n          setIsProgress(false);\r\n          props.history.goBack();\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setProgressPercentage(0);\r\n        setIsProgress(false);\r\n      });\r\n  };\r\n\r\n  const sendDataModify = (fileInfoKeys = [], dcsObj: any) => {\r\n    var formData = new FormData();\r\n\r\n    var info: any = [];\r\n    // const mDcsList = dcsList.sort();\r\n\r\n    const config = {\r\n      cancelToken: new CancelToken(function executor(c) {\r\n        // excutor 함수는 cancel 함수를 매개 변수로 받습니다.\r\n        cancel.current = c;\r\n      }),\r\n      onUploadProgress: function (progressEvent: {\r\n        loaded: number;\r\n        total: number;\r\n      }) {\r\n        var percentCompleted = Math.round(\r\n          (progressEvent.loaded * 100) / progressEvent.total\r\n        );\r\n        setProgressPercentage(percentCompleted);\r\n      },\r\n    };\r\n\r\n    console.log(config);\r\n\r\n    // data 전송 start\r\n    setProgressPercentage(0);\r\n    setIsProgress(true);\r\n    console.log(\"fileinfokeys\");\r\n    console.log(fileInfoKeys);\r\n    // console.log(mDcsList);\r\n    fileInfoKeys\r\n      .filter((key) => \"fileList\" in fileInfo[key])\r\n      .sort()\r\n      .forEach((screenId, fikIdx) => {\r\n        // console.log(screenId);\r\n        // console.log(dcsList[fikIdx]);\r\n        // console.log(fikIdx);\r\n\r\n        // screenId = 'screen1 , 0\r\n        fileInfo[screenId].fileList.forEach((item: any, idx: number) => {\r\n          var file_type = String(item.type);\r\n          if (\"originFileObj\" in item) {\r\n            formData.append(\"files\", item.originFileObj);\r\n          } else {\r\n            formData.append(\"files\", \"\");\r\n          }\r\n          info.push({\r\n            uid: item.uid,\r\n            org_name: item.name,\r\n            file_type: file_type.includes(\"video\") ? \"video\" : \"image\",\r\n            item: item,\r\n            type: \"DCS\",\r\n            idx: item.seq,\r\n            duration: item.duration,\r\n            layoutType: layoutType,\r\n            screenId: screenId,\r\n            equip_idx: dcsSelectedEquip,\r\n            file_status: \"file_status\" in item ? item.file_status : \"uploading\",\r\n          });\r\n        });\r\n      });\r\n\r\n    formData.append(\"info\", JSON.stringify(info));\r\n\r\n    const json = JSON.stringify(dcsObj);\r\n    const dcsBlob = new Blob([json], {\r\n      type: \"application/json\",\r\n    });\r\n    formData.append(\"dcs\", dcsBlob);\r\n\r\n    axios\r\n      .post(\"/file\", formData, config)\r\n      .then((res) => {\r\n        setTimeout(() => {\r\n          setProgressPercentage(0);\r\n          setIsBack(false);\r\n          setIsProgress(false);\r\n          props.history.goBack();\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        if (axios.isCancel(err)) {\r\n          console.log(\"취소됨 \");\r\n        }\r\n        console.error(err);\r\n        setProgressPercentage(0);\r\n        setIsProgress(false);\r\n      });\r\n  };\r\n\r\n  /**\r\n   * 페이지를 벗어나면 axios 요청을 끊어야함.\r\n   */\r\n  useEffect(() => {\r\n    return () => {\r\n      if (cancel.current) {\r\n        cancel.current();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\"\r\n      />\r\n      <UploadingProgressIndicator\r\n        isProgress={isProgress}\r\n        progressPercentage={progressPercentage}\r\n      />\r\n      <MenuGuide\r\n        title=\"DCS 등록/수정\"\r\n        subTitle=\"화면별 DCS 출력 목록을 편집할 수 있습니다.\"\r\n      />\r\n\r\n      <MenuGuide\r\n        title=\"\"\r\n        subTitle=\"❤ 동영상은 webm(vp9)를 기본으로 사용합니다. mp4(h264) 코덱은 4K까지 지원합니다.\"\r\n      />\r\n      <MenuGuide title=\"\" subTitle=\"❤ 용량은 단일파일 10GB까지 지원합니다.\" />\r\n      <Row\r\n        style={{\r\n          border: \"1px solid #dfe6e9\",\r\n          padding: \"50px\",\r\n        }}\r\n      >\r\n        <Col span={13}>\r\n          <div>\r\n            <FormGuideComponent title=\"제목\" />\r\n            <Input\r\n              value={dcsTitle}\r\n              onChange={(e) => {\r\n                setDcsTitle(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title=\"기기 선택\" />\r\n            <Select\r\n              value={dcsSelectedEquip}\r\n              showArrow\r\n              mode=\"multiple\"\r\n              placeholder=\"DCS 기기를 선택해주세요\"\r\n              style={{ width: \"100%\" }}\r\n              onChange={(e) => {\r\n                onChangeEquip(e);\r\n              }}\r\n            >\r\n              {dcsEquipList.map((item: any, idx) => {\r\n                return (\r\n                  <Select.Option key={uuid()} value={item.idx}>\r\n                    {item.eqpType === \"DCS-S\" ? \"DCS\" : \"DCS\"} : {item.eqpName}\r\n                  </Select.Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent\r\n              title={`레이아웃 ${\r\n                layoutType ? `(${layoutType})` : \"(선택된 레이아웃 없음)\"\r\n              }`}\r\n            />\r\n            <Link\r\n              to=\"\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                if (!dspType) {\r\n                  message.error(\"화면 타입을 선택해주세요\");\r\n                  return;\r\n                }\r\n                setIsLayoutModal(true);\r\n              }}\r\n              style={{\r\n                fontFamily: \"NotoSansKR-Bold\",\r\n                marginTop: \"15px\",\r\n              }}\r\n            >\r\n              <Button\r\n                style={{\r\n                  marginTop: \"10px\",\r\n                  marginBottom: \"10px\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                레이아웃 선택하기\r\n              </Button>\r\n            </Link>\r\n            <ApplyLayout\r\n              layoutType={layoutType}\r\n              fileInfo={fileInfo}\r\n              onChangeFileInfo={onChangeFileInfo}\r\n              onSelectScreen={onSelectScreen}\r\n            />\r\n            <div style={formBlockStyle}>\r\n              <FormGuideComponent title=\"이미지 전체 시간 설정\" />\r\n              <ManagementDcsPlaylistTimeControlPanel\r\n                setPlayDuration={setPlayDuration}\r\n              />\r\n            </div>\r\n            <Modal\r\n              title={\"레이아웃 선택을 선택해주세요\"}\r\n              visible={isLayoutModal}\r\n              footer={null}\r\n              onCancel={onCalcleDcsLayoutModal}\r\n              width={1000}\r\n            >\r\n              <ManagementDcsLayout\r\n                dcsType={dcsType}\r\n                onChangeLayout={onChangeLayout}\r\n              />\r\n            </Modal>\r\n          </div>\r\n          <div style={{ marginTop: \"20px\" }}>\r\n            <Button type=\"primary\" block onClick={sendDcsInfo}>\r\n              업 로 드\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col span={10} offset={1}>\r\n          <div>\r\n            <FormGuideComponent\r\n              title={`컨텐츠 목록 ${\r\n                selectedScreen ? `(${selectedScreen})` : \"\"\r\n              }`}\r\n            />\r\n\r\n            <ManagementDcsContentsListComponent\r\n              fileList={\r\n                selectedScreen !== \"\" ? fileInfo[selectedScreen]?.fileList : []\r\n              }\r\n              selectedScreen={selectedScreen}\r\n              onChangeFileList={onChangeFileList}\r\n            />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsFormV2;\r\n","import axios, { AxiosResponse } from 'axios';\r\n\r\nexport const getAll = async () => {\r\n  return await axios.get('/equip/index');\r\n};\r\n\r\n/////////////////////////////////////////////////////\r\n//전체 시스템 사용 설정\r\n//GET\r\nexport const settingAllPower = async (mode: string | undefined) => {\r\n  return await axios.get(`/power/all`, {\r\n    params: {\r\n      mode,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getAllSync = async () => {\r\n  return await axios.get('/power/syncAll');\r\n};\r\n\r\n//POST\r\nexport const settingAllUse = async (e: string) => {\r\n  return await axios.post(`/equip/modifyIsPowerModule`, {\r\n    eqpIsPowerBatch: e,\r\n  });\r\n};\r\n\r\nexport const settingAllPowerTime = async (\r\n  eqpPowerStartTime: string,\r\n  eqpPowerEndTime: string\r\n) => {\r\n  return await axios.post(`/equip/modifyPowerTimeForAll`, {\r\n    eqpPowerStartTime,\r\n    eqpPowerEndTime,\r\n  });\r\n};\r\n\r\nexport const settingAllDays = async (eqpPowerWeekday: string) => {\r\n  return await axios.post(`/power/setWeekDay`, {\r\n    eqpPowerWeekday,\r\n  });\r\n};\r\n\r\n/////////////////////////////////////////////////////\r\n//선택된 시스템 사용 설정\r\nexport const getCurrSync = async (\r\n  idx: number,\r\n  eqpOS: string,\r\n  pwrMgtAddress: string\r\n) => {\r\n  return await axios.get('/power/sync', {\r\n    params: {\r\n      idx,\r\n      eqpOS,\r\n      pwrMgtAddress,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getReset = async (\r\n  idx: number,\r\n  eqpOS: string,\r\n  pwrMgtAddress: string\r\n) => {\r\n  return await axios.get('/windows/reset', {\r\n    params: {\r\n      idx,\r\n      eqpOS,\r\n      pwrMgtAddress,\r\n    },\r\n  });\r\n};\r\n\r\n///// post\r\nexport const settingSysReservation = async (\r\n  idx: number,\r\n  eqpIsPowerBatch: 'Y' | 'N'\r\n) => {\r\n  return await axios.post(`/equip/modifyIsPowerModule`, {\r\n    idx,\r\n    eqpIsPowerBatch,\r\n  });\r\n};\r\n\r\nexport const currStartTime = async (eqpPowerStartTime: string, idx: number) => {\r\n  return await axios.post<AxiosResponse>(`/equip/modifyEqpPowerTimeForIdx`, {\r\n    eqpPowerStartTime,\r\n    idx,\r\n  });\r\n};\r\n\r\nexport const currEndTime = async (eqpPowerEndTime: string, idx: number) => {\r\n  return await axios.post<AxiosResponse>(`/equip/modifyEqpPowerTimeForIdx`, {\r\n    eqpPowerEndTime,\r\n    idx,\r\n  });\r\n};\r\n\r\nexport const controlCurrPower = async (idx: number, status: number) => {\r\n  return await axios.post('/power/control', {\r\n    idx,\r\n    status,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport * as Constants from '../../../Constants';\r\n\r\nimport { Equipment } from '../../../../types/Equipments';\r\n\r\n//csss\r\nimport { AndroidFilled, WindowsFilled } from '@ant-design/icons';\r\n\r\nconst EquipItem = ({ sys }: { sys: Equipment }) => {\r\n  const history = useHistory();\r\n\r\n  const ict =\r\n    (sys.eqpType === 'DCS-S' && 'DCS') ||\r\n    (sys.eqpType === 'DCS-M' && 'DCS-멀티') ||\r\n    sys.eqpType;\r\n\r\n  const os = (sys.eqpOS === 'WINDOWS' && (\r\n    <WindowsFilled style={{ fontSize: '1.6em', color: '#00bcf2' }} />\r\n  )) || <AndroidFilled style={{ fontSize: '1.6em', color: '#a4c639' }} />;\r\n\r\n  const editEquip = () => {\r\n    const inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      history.push({\r\n        pathname: '/equip/form',\r\n        state: {\r\n          record: sys,\r\n          mode: 'read',\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <li\r\n      className=\"grid grid-cols-13 border-b h-10 cursor-pointer hover:bg-gray-50 \"\r\n      onClick={editEquip}\r\n    >\r\n      <div className=\"border-r py-2.5\">{sys.idx}</div>\r\n      <div className=\"col-span-3 border-r  py-2.5\">{sys.eqpName}</div>\r\n      <div className=\"border-r  py-2.5\">{ict}</div>\r\n      <div className=\"border-r py-2.5\">{sys.eqpCPU}</div>\r\n      <div className=\"border-r py-2.5\">{sys.eqpMEM}GB</div>\r\n      <div className=\"border-r py-2.5\">{os}</div>\r\n      <div className=\"col-span-2 border-r py-2.5\">{sys.eqpIP}</div>\r\n      <div className=\"col-span-2 border-r py-2.5\">{sys.pwrMgtAddress}</div>\r\n      <div className=\"py-2.5\">{sys.useYN}</div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default EquipItem;\r\n","import React from 'react';\r\n\r\n//component\r\nimport EquipItem from './EquipItem';\r\nimport { Equipment } from '../../../../types/Equipments';\r\n\r\nconst EquipList = ({ dataSource }: { dataSource: Equipment[] }) => {\r\n  return (\r\n    <div className='rounded-lg w-full mt-2 text-center '>\r\n      <ul\r\n        className='relative content-center grid grid-cols-13 h-10 text-white rounded-t-lg opacity-90  px-2'\r\n        style={{ background: '#2f97eb' }}\r\n      >\r\n        <li>고유번호</li>\r\n        <li className='col-span-3'>시스템명</li>\r\n        <li>ICT</li>\r\n        <li>CPU</li>\r\n        <li>MEM</li>\r\n        <li>OS</li>\r\n        <li className='col-span-2 '>시스템 IP</li>\r\n        <li className='col-span-2 '>전원관리 IP</li>\r\n        <li>사용여부</li>\r\n      </ul>\r\n      <ul className=' max-h-196 overflow-auto text-xs border rounded-b-lg border-t-0'>\r\n        {dataSource.length === 0 ? (\r\n          <div className='flex text-md justify-center items-center h-full'>\r\n            현재 등록된 시스템이 없습니다.\r\n          </div>\r\n        ) : (\r\n          dataSource.map((sys) => <EquipItem key={sys.idx} sys={sys} />)\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EquipList;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport * as Constants from '../../Constants.js';\r\n\r\n//css\r\nimport { Button } from 'antd';\r\n\r\n//components\r\nimport EquipList from './components/EquipList';\r\n\r\nimport { Equipment } from '../../../types/Equipments.js';\r\n\r\nconst EquipListTab = ({ dataSource }: { dataSource: Equipment[] }) => {\r\n  const history = useHistory();\r\n\r\n  const addEquip = () => {\r\n    const inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      history.push({\r\n        pathname: '/equip/form',\r\n        state: {\r\n          mode: 'regist',\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <h2 className='mb-1'>ICT 시스템 등록이 가능합니다.</h2>\r\n      <EquipList dataSource={dataSource} />\r\n      <div className='flex justify-center mt-5'>\r\n        <Button onClick={addEquip}>등 록</Button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default EquipListTab;\r\n","import React from 'react';\r\nimport {\r\n  PowerSettingsNewOutlined,\r\n  AccessTimeOutlined,\r\n} from '@material-ui/icons';\r\n//EditAttributes\r\n\r\ninterface Props {\r\n  name: string;\r\n  onClick: () => void;\r\n  power: 'Y' | 'N';\r\n  usage: 'Y' | 'N';\r\n  selected: boolean;\r\n}\r\n\r\nconst DisplaySysName = ({ name, onClick, power, selected, usage }: Props) => {\r\n  return (\r\n    <li className='grid grid-cols-10 mb-1.5 gap-1 ' onClick={onClick}>\r\n      <p\r\n        className={`truncate col-span-8 cursor-pointer pl-2 border-l-2 border-transparent hover:border-pink-200 ${\r\n          selected && 'border-l-2 border-pink-400'\r\n        } ${power === 'N' && 'text-gray-400'}`}\r\n      >\r\n        {name}\r\n      </p>\r\n      <div className='bg-gray-50 w-6 h-6  mr-1 flex items-center justify-center  rounded '>\r\n        <PowerSettingsNewOutlined\r\n          style={{ fontSize: '1.1em' }}\r\n          className={` ${power === 'Y' ? 'text-blue-500' : 'text-gray-400'}`}\r\n        />\r\n      </div>\r\n      <div className='bg-gray-50 w-6 h-6  rounded mr-1 flex items-center justify-center'>\r\n        <AccessTimeOutlined\r\n          style={{ fontSize: '1.1em' }}\r\n          className={`${usage === 'Y' ? 'text-blue-500' : 'text-gray-400'}`}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DisplaySysName;\r\n","import React, { useState } from 'react';\r\n\r\nimport { AccessTimeOutlined } from '@material-ui/icons';\r\nimport { Switch, TimePicker, Progress, Result } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { currStartTime, currEndTime, settingSysReservation } from '../../../../api/equipments.api';\r\n\r\ninterface Props {\r\n  eqpIsPowerBatch: boolean;\r\n  idx: number;\r\n  getEquipIndex: () => void;\r\n  startTime: string;\r\n  endTime: string;\r\n  setDataSource: any;\r\n}\r\n\r\nconst SettingUsageAndTime = ({ eqpIsPowerBatch, idx, getEquipIndex, startTime, endTime, setDataSource }: Props) => {\r\n  const [complete, setComplete] = useState<boolean>(false);\r\n  //총 사용 시간 계산\r\n  const start = moment(startTime, 'HH:mm');\r\n  const end = moment(endTime, 'HH:mm');\r\n  const totalTime = end.diff(start);\r\n\r\n  const formatedTime = moment.utc(totalTime).format('H:mm');\r\n  const h = parseInt(moment.utc(totalTime).format('H'));\r\n  const hour = Math.floor(((h * 100) / 2400) * 100);\r\n\r\n  const showMsg = () => {\r\n    setComplete(true);\r\n    setTimeout(() => {\r\n      setComplete(false);\r\n    }, 1500);\r\n  };\r\n\r\n  const toggleChange = async () => {\r\n    const usingReservation = eqpIsPowerBatch ? 'N' : 'Y';\r\n    try {\r\n      const res = await settingSysReservation(idx, usingReservation);\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const sendTime = async (time: string, timeType: string) => {\r\n    try {\r\n      let res;\r\n      if (timeType === 'start') res = await currStartTime(time, idx);\r\n      else if (timeType === 'end') res = await currEndTime(time, idx);\r\n      if (res) showMsg();\r\n\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white grid grid-rows-6 h-96 border rounded-lg p-5 py-3 shadow-sm\">\r\n      <div className=\"flex justify-between  \">\r\n        <h3 className=\"font-semibold   \">\r\n          <div className=\"flex items-center \">\r\n            <AccessTimeOutlined style={{ fontSize: '1.4em' }} />\r\n            <h3 className=\" ml-1.5 h-full\">시스템 전원 예약 설정</h3>\r\n          </div>\r\n        </h3>\r\n        <Switch className=\"mb-1 \" onChange={toggleChange} checked={eqpIsPowerBatch} checkedChildren=\"ON\" unCheckedChildren=\"OFF\" />\r\n      </div>\r\n      <div className=\"rows-span-5\">\r\n        <div className=\"text-center mb-5 \">\r\n          {complete ? (\r\n            <Result status=\"success\" subTitle=\"설정되었습니다\" />\r\n          ) : (\r\n            <>\r\n              <p className=\"text-xs mb-4 text-gray-700\">총 사용 시간</p>\r\n              <Progress\r\n                type=\"dashboard\"\r\n                format={() => ` ${formatedTime} `}\r\n                width={180}\r\n                percent={hour}\r\n                strokeWidth={9}\r\n                strokeColor={{\r\n                  '0%': '#FC5C7D',\r\n                  '100%': '#6A82FB',\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex-col text-center  \">\r\n          <div className=\"flex justify-center text-xs \">\r\n            <div className=\"rounded-lg text-center mr-5 border w-32\">\r\n              <p className={`leading-loose border-b bg-gray-50 rounded-t-lg ${!eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '}`}>시작 시간</p>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                disabled={!eqpIsPowerBatch}\r\n                onChange={(e) => {\r\n                  // if (e) sendTime(e.format('HH:mm'), 'start');\r\n                }}\r\n                onSelect={(e) => {\r\n                  setDataSource((prevData: any) => {\r\n                    const copyData = JSON.parse(JSON.stringify(prevData));\r\n                    const result = copyData.map((item: any) => {\r\n                      if (item.idx === idx) {\r\n                        item.eqpPowerStartTime = e.format('HH:mm');\r\n                      }\r\n                      return item;\r\n                    });\r\n                    return result;\r\n                  });\r\n                  if (e) sendTime(e.format('HH:mm'), 'start');\r\n                }}\r\n                value={moment(startTime, 'HH:mm')}\r\n                bordered={false}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"rounded-lg  text-center border w-32\">\r\n              <p className={`leading-loose border-b bg-gray-50 rounded-t-lg ${!eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '}`}>종료 시간</p>\r\n              <TimePicker\r\n                placeholder=\"종료\"\r\n                format={'HH:mm'}\r\n                disabled={!eqpIsPowerBatch}\r\n                onChange={(e) => {\r\n                  // if (e) sendTime(e.format('HH:mm'), 'end');\r\n                }}\r\n                onSelect={(e) => {\r\n                  setDataSource((prevData: any) => {\r\n                    const copyData = JSON.parse(JSON.stringify(prevData));\r\n                    const result = copyData.map((item: any) => {\r\n                      if (item.idx === idx) {\r\n                        item.eqpPowerEndTime = e.format('HH:mm');\r\n                      }\r\n                      return item;\r\n                    });\r\n                    return result;\r\n                  });\r\n                  if (e) sendTime(e.format('HH:mm'), 'end');\r\n                }}\r\n                value={moment(endTime, 'HH:mm')}\r\n                bordered={false}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingUsageAndTime;\r\n\r\n// <div className='bg-gray-50 rounded-tl-lg rounded-bl-lg p-2  text-center  border-r-2 border-white '>\r\n\r\n//jshine\r\n// strokeColor={{\r\n//   '0%': '#12c2e9',\r\n//   '50%': '#c471ed',\r\n//   '100%': '#f64f59',\r\n// }}\r\n// strokeColor={{\r\n//   '100%': '#FC466B',\r\n//   '0%': '#3F5EFB',\r\n// }}\r\n\r\n/*\r\n/// new version\r\n<div className='bg-white shadow-md rounded-xl px-8 py-4 flex-col'>\r\n<div className='flex justify-between mb-5 '>\r\n  <h3 className='font-semibold '>시스템 전원 예약 설정</h3>\r\n  <Switch\r\n    className='mb-1 '\r\n    onChange={toggleChange}\r\n    checked={eqpIsPowerBatch === 'Y'}\r\n    checkedChildren='ON'\r\n    unCheckedChildren='OFF'\r\n  />\r\n</div>\r\n<div className='flex items-center h-fit mx-14'>\r\n  <div className='h-full w-3/6 flex-col text-center '>\r\n    <TimePicker\r\n      format={'HH:mm'}\r\n      className='rounded-xl mb-2 p-3 border '\r\n      disabled={eqpIsPowerBatch === 'N'}\r\n      onChange={(e) => {\r\n        if (e) sendTime(e.format('HH:mm'), 'start');\r\n      }}\r\n      value={moment(startTime, 'HH:mm')}\r\n      style={{\r\n        cursor: 'pointer',\r\n      }}\r\n    />\r\n    <div className='font-semibold mb-2'>TO</div>\r\n    <TimePicker\r\n      placeholder='종료'\r\n      format={'HH:mm'}\r\n      className='rounded-xl '\r\n      disabled={eqpIsPowerBatch === 'N'}\r\n      onChange={(e) => {\r\n        if (e) sendTime(e.format('HH:mm'), 'end');\r\n      }}\r\n      value={moment(endTime, 'HH:mm')}\r\n    />\r\n  </div>\r\n  <div className='flex-col text-center justify-center items-center w-3/6  '>\r\n    <Tooltip\r\n      placement='bottom'\r\n      title='총 사용 시간'\r\n      mouseLeaveDelay={0.3}\r\n    >\r\n      <Progress\r\n        type='dashboard'\r\n        className='items-center '\r\n        format={() => ` ${formatedTime} `}\r\n        width={150}\r\n        percent={hour}\r\n        strokeWidth={9}\r\n        strokeColor={{\r\n          '0%': '#FC5C7D',\r\n          '100%': '#6A82FB',\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  </div>\r\n</div>\r\n</div>\r\n*/\r\n\r\n/*\r\n////////////////// old version  \r\n<div className='mt-12 grid grid-rows-5 h-96 shadow-md rounded-xl p-5 py-3  bg-gray-50'>\r\n<div className='flex justify-between'>\r\n  <h3 className='font-semibold '>시스템 전원 예약 설정</h3>\r\n  <Switch\r\n    className='mb-1 '\r\n    onChange={toggleChange}\r\n    checked={eqpIsPowerBatch === 'Y'}\r\n    checkedChildren='ON'\r\n    unCheckedChildren='OFF'\r\n  />\r\n</div>\r\n<div className='rows-span-4 '>\r\n  <div className='text-center mb-10'>\r\n    <Tooltip title='총 사용 시간' mouseLeaveDelay={0.3}>\r\n      <Progress\r\n        type='dashboard'\r\n        format={() => ` ${formatedTime} `}\r\n        width={180}\r\n        percent={hour}\r\n        strokeWidth={9}\r\n        strokeColor={{\r\n          '0%': '#FC5C7D',\r\n          '100%': '#6A82FB',\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  </div>\r\n  <div className='flex justify-center text-xs'>\r\n    <div className='bg-white rounded-tl-lg rounded-bl-lg p-2  text-center  border-r-2 border-gray-100 '>\r\n      <p>시작 시간</p>\r\n      <TimePicker\r\n        format={'HH:mm'}\r\n        disabled={eqpIsPowerBatch === 'N'}\r\n        onChange={(e) => {\r\n          if (e) sendTime(e.format('HH:mm'), 'start');\r\n        }}\r\n        value={moment(startTime, 'HH:mm')}\r\n        bordered={false}\r\n      />\r\n    </div>\r\n\r\n    <div className=' bg-white rounded-tr-lg rounded-br-lg p-2 text-center'>\r\n      <p>종료 시간</p>\r\n      <TimePicker\r\n        placeholder='종료'\r\n        format={'HH:mm'}\r\n        disabled={eqpIsPowerBatch === 'N'}\r\n        onChange={(e) => {\r\n          if (e) sendTime(e.format('HH:mm'), 'end');\r\n        }}\r\n        value={moment(endTime, 'HH:mm')}\r\n        bordered={false}\r\n      />\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>  */\r\n\r\n{\r\n  /* <div className=' bg-gray-50 rounded-tr-lg rounded-br-lg p-2 text-center'>\r\n<p\r\n  className={`${\r\n    !eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '\r\n  }`}\r\n>\r\n  종료 시간\r\n</p>\r\n<TimePicker\r\n  placeholder='종료'\r\n  format={'HH:mm'}\r\n  disabled={!eqpIsPowerBatch}\r\n  onChange={(e) => {\r\n    if (e) sendTime(e.format('HH:mm'), 'end');\r\n  }}\r\n  value={moment(endTime, 'HH:mm')}\r\n  bordered={false}\r\n/>\r\n</div> */\r\n}\r\n","import React, { useState } from 'react';\r\n//components\r\nimport { confirm } from '../../../ConfirmModal';\r\nimport {\r\n  settingAllUse,\r\n  settingAllPower,\r\n  getAllSync,\r\n} from '../../../../api/equipments.api';\r\n\r\n//css\r\nimport { Button, Tooltip } from 'antd';\r\nimport {\r\n  PowerOutlined,\r\n  PowerOffOutlined,\r\n  SyncOutlined,\r\n  AccessTimeOutlined,\r\n} from '@material-ui/icons';\r\n\r\nconst SettingOperation = ({\r\n  getEquipIndex,\r\n  LoadingSpin,\r\n  powerBatch,\r\n}: {\r\n  getEquipIndex: VoidFunction;\r\n  LoadingSpin: VoidFunction;\r\n  powerBatch: boolean | undefined;\r\n}) => {\r\n  const BTN_STYLE = 'w-12 h-12 rounded-md';\r\n\r\n  const useAllHandler = () => {\r\n    confirm({\r\n      title: `전체 장비의 예약설정을 조정합니다.`,\r\n      content: `${powerBatch ? '사용' : '미사용'}으로 설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        const e = powerBatch ? 'Y' : 'N';\r\n        try {\r\n          const res = await settingAllUse(e);\r\n          if (res) {\r\n            LoadingSpin();\r\n            console.log(res);\r\n          }\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const powerOnOffHandler = (mode: string) => {\r\n    confirm({\r\n      title: `모든 장비 전원을 ${mode === '0' ? '끄' : '켜'}시겠습니까?`,\r\n      content: ``,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await settingAllPower(mode);\r\n          if (res) {\r\n            LoadingSpin();\r\n            console.log(res);\r\n          }\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const syncAllHandler = () => {\r\n    confirm({\r\n      title: `전체 장비 동기화를 진행하시겠습니까?`,\r\n      content: ``,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await getAllSync();\r\n          await getEquipIndex();\r\n          console.log(res);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='flex-col border rounded-md p-3 h-36 shadow-sm\t'>\r\n      <h3 className='font-semibold mb-6'>전체 시스템 관리</h3>\r\n      <ul className='flex justify-between self-end  '>\r\n        <li>\r\n          <Tooltip placement='bottom' title='전체 예약 사용'>\r\n            <Button\r\n              onClick={useAllHandler}\r\n              className={BTN_STYLE}\r\n              icon={<AccessTimeOutlined style={{ fontSize: '1.6em' }} />}\r\n              type={powerBatch ? 'default' : 'primary'}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 전원 ON' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<PowerOutlined style={{ fontSize: '1.6em' }} />}\r\n              type='default'\r\n              onClick={() => powerOnOffHandler('1')}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 전원 OFF' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<PowerOffOutlined style={{ fontSize: '1.6em' }} />}\r\n              type='default'\r\n              onClick={() => powerOnOffHandler('0')}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 동기화' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<SyncOutlined style={{ fontSize: '1.6em' }} />}\r\n              onClick={syncAllHandler}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingOperation;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, TimePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { confirm } from '../../../ConfirmModal';\r\nimport { settingAllPowerTime } from '../../../../api/equipments.api';\r\n\r\nconst SettingTime = ({ getEquipIndex }: { getEquipIndex: VoidFunction }) => {\r\n  const [allPowerTime, setAllPowerTime] = useState({\r\n    eqpPowerStartTime: '00:00',\r\n    eqpPowerEndTime: '00:00',\r\n  });\r\n  console.log(allPowerTime);\r\n\r\n  // const setTime = async () => {\r\n  //   const res = await settingAllPowerTime(allPowerTime.eqpPowerStartTime, allPowerTime.eqpPowerEndTime);\r\n  //   console.log(res);\r\n  //   await getEquipIndex();\r\n  // };\r\n  // useEffect(() => {\r\n  //   try {\r\n  //     setTime();\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // }, [allPowerTime.eqpPowerEndTime, allPowerTime.eqpPowerStartTime]);\r\n\r\n  const allTimeSettingHandler = () => {\r\n    confirm({\r\n      title: `전체 장비의 시간을 조정합니다.`,\r\n      content: `설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await settingAllPowerTime(allPowerTime.eqpPowerStartTime, allPowerTime.eqpPowerEndTime);\r\n          console.log(res);\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"flex-col border rounded-md p-3 h-36 shadow-sm\">\r\n      <div className=\"flex justify-between items-center mb-5\">\r\n        <h3 className=\"font-semibold\">전체 사용 시간 설정</h3>\r\n        <Button type=\"primary\" size=\"small\" shape=\"round\" onClick={allTimeSettingHandler}>\r\n          적용\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-3 relative\">\r\n        <div className=\"text-center rounded-lg border\">\r\n          <p className=\"leading-loose text-xs border-b rounded-t-lg bg-gray-50 \">시작 시간</p>\r\n          <TimePicker\r\n            bordered={false}\r\n            placeholder=\"시작\"\r\n            format={'HH:mm'}\r\n            value={moment(allPowerTime.eqpPowerStartTime, 'HH:mm')}\r\n            onClick={(e) => {\r\n              console.log(e);\r\n            }}\r\n            onSelect={(e) => {\r\n              setAllPowerTime((prevData) => {\r\n                return {\r\n                  ...prevData,\r\n                  eqpPowerStartTime: e.format('HH:mm'),\r\n                };\r\n              });\r\n            }}\r\n            onChange={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerStartTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-lg border\">\r\n          <p className=\"leading-loose text-xs  border-b rounded-t-lg bg-gray-50\">종료 시간</p>\r\n          <TimePicker\r\n            bordered={false}\r\n            placeholder=\"종료\"\r\n            format={'HH:mm'}\r\n            value={moment(allPowerTime.eqpPowerEndTime, 'HH:mm')}\r\n            onSelect={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerEndTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n            onChange={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerEndTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingTime;\r\n","import React from 'react';\r\n\r\nconst DaysItem = ({\r\n  day,\r\n  value,\r\n  isSelected,\r\n  onClick,\r\n}: {\r\n  day: string;\r\n  value: string;\r\n  isSelected: boolean;\r\n  onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\r\n}) => {\r\n  const DAYS_BTN =\r\n    ' ease-out w-8 h-8 border rounded-full flex items-center justify-center shadow-sm --tw-shadow-color: inherit  ';\r\n  const ACTIVE_BTN = ' bg-blue-400 text-white\t\t';\r\n\r\n  return (\r\n    <li>\r\n      <button\r\n        onClick={onClick}\r\n        className={` ${DAYS_BTN}  ${\r\n          isSelected && ACTIVE_BTN\r\n        } hover:bg-blue-400 hover:text-white ease-in-out  duration-100 \t`}\r\n        value={value}\r\n      >\r\n        {day}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DaysItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DaysItem from './DaysItem';\r\nimport { settingAllDays } from '../../../../api/equipments.api';\r\n\r\nimport { Button } from 'antd';\r\n\r\ninterface Props {\r\n  pickedDays: string[];\r\n  getEquipIndex: () => void;\r\n  LoadingSpin: () => void;\r\n}\r\n\r\nconst SettingDays = ({ pickedDays, getEquipIndex, LoadingSpin }: Props) => {\r\n  const [picked, setPicked] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const days = ['일', '월', '화', '수', '목', '금', '토'];\r\n\r\n  const getDays = () => {\r\n    if (pickedDays) {\r\n      setPicked([...pickedDays]);\r\n      setLoading(false);\r\n    } else {\r\n      setLoading(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loading) getDays();\r\n  });\r\n\r\n  const daysSettingHandler = async () => {\r\n    const sortedArr = picked\r\n      .sort((a: string, b: string) => parseInt(a) - parseInt(b))\r\n      .toString();\r\n\r\n    try {\r\n      const res = await settingAllDays(sortedArr);\r\n      LoadingSpin();\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='grid grid-rows-3 border rounded-md py-3 h-36 shadow-sm'>\r\n      <div className='h-5 flex justify-between items-center px-3'>\r\n        <h3 className='font-semibold'>전체 요일 설정</h3>\r\n        <Button\r\n          type='primary'\r\n          shape='round'\r\n          size='small'\r\n          onClick={daysSettingHandler}\r\n        >\r\n          적용\r\n        </Button>\r\n      </div>\r\n\r\n      <ul className='px-2 row-span-2 gap-1\titems-center grid grid-cols-7 '>\r\n        {days.map((day, idx) => {\r\n          const selected = picked.find((el) => el === idx.toString());\r\n          return (\r\n            <DaysItem\r\n              day={day}\r\n              key={idx}\r\n              value={idx.toString()}\r\n              isSelected={Boolean(selected)}\r\n              onClick={(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n                const { value } = e.target as HTMLButtonElement;\r\n\r\n                if (!selected) {\r\n                  setPicked((prev) => [...prev, value]);\r\n                } else {\r\n                  const filtered = picked.filter((d) => d !== value);\r\n                  filtered.length === 0\r\n                    ? setPicked(['0', '1', '2', '3', '4', '5', '6'])\r\n                    : setPicked([...filtered]);\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingDays;\r\n","import React from 'react';\r\nimport { Progress } from 'antd';\r\n\r\nimport { SmileOutlined, MehOutlined } from '@ant-design/icons';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\n\r\ninterface Props {\r\n  mem: number;\r\n  cpu: number;\r\n  powerOn: boolean;\r\n}\r\n\r\nconst OperationManagement = ({ mem, cpu, powerOn }: Props) => {\r\n  const OPERATION_DIV =\r\n    'border grid grid-rows-3 gap-1 text-center bg-white rounded-lg  h-36 items-center';\r\n\r\n  let statusIcon;\r\n\r\n  if (powerOn) {\r\n    if (mem < 50 && cpu < 50) {\r\n      statusIcon = (\r\n        <SmileOutlined style={{ fontSize: '2.5em', color: '#52c41a' }} />\r\n      );\r\n    } else if (mem < 80 && cpu < 80) {\r\n      statusIcon = (\r\n        <MehOutlined style={{ fontSize: '2.5em', color: '#fcba03' }} />\r\n      );\r\n    } else if (mem < 100 && cpu < 100) {\r\n      statusIcon = (\r\n        <SentimentVeryDissatisfiedIcon\r\n          style={{ fontSize: '2.5em', color: '#ff141d' }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=' mt-6'>\r\n      <h3 className='mb-3 font-semibold'>운영 관리</h3>\r\n      <div className='grid grid-cols-3 gap-3 h-36 items-center'>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>메모리</p>\r\n\r\n          <Progress\r\n            type='circle'\r\n            strokeColor={{\r\n              '0%': '#108ee9',\r\n              '100%': '#87d068',\r\n            }}\r\n            width={60}\r\n            className='row-span-2'\r\n            percent={powerOn ? mem : 0}\r\n            format={(percent) => (powerOn ? `${percent}%` : '-')}\r\n          />\r\n        </div>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>CPU</p>\r\n          <Progress\r\n            type='circle'\r\n            strokeColor={{\r\n              '0%': '#108ee9',\r\n              '100%': '#87d068',\r\n            }}\r\n            width={60}\r\n            className='row-span-2'\r\n            percent={powerOn ? cpu : 0}\r\n            format={(percent) => (powerOn ? `${percent}%` : '-')}\r\n          />\r\n        </div>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>현황</p>\r\n          <div className='row-span-2 mb-4'>{powerOn ? statusIcon : '-'}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OperationManagement;\r\n","import React, { useState } from 'react';\r\n\r\nimport { confirm } from '../../../ConfirmModal';\r\n\r\nimport { getReset, getCurrSync, controlCurrPower } from '../../../../api/equipments.api';\r\n\r\nimport { Switch, Spin } from 'antd';\r\nimport { RedoOutlined, CloudSyncOutlined, PoweroffOutlined, LoadingOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n  power: boolean;\r\n  os: string;\r\n  pwrMgtAddress: string;\r\n  idx: number;\r\n  getEquipIndex: () => void;\r\n  sysName: string;\r\n}\r\n\r\nconst SelectedSysControl = ({ power, os, pwrMgtAddress, idx, getEquipIndex, sysName }: Props) => {\r\n  const [syncSpinning, setSyncSpinning] = useState<boolean>(false);\r\n  const [resetSpinning, setResetSpinning] = useState<boolean>(false);\r\n  const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\n  const SYS_BTN = 'px-3 flex items-center bg-white rounded-lg  justify-between border border-transparent';\r\n\r\n  const resetHandler = async () => {\r\n    setResetSpinning(true);\r\n    if (os === 'ANDROID') {\r\n      confirm({\r\n        title: `OS가 WINDOWS 인 경우만 동작합니다.`,\r\n        content: ``,\r\n        onOk: () => {\r\n          setResetSpinning(false);\r\n        },\r\n        onCancle: () => {\r\n          setResetSpinning(false);\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    if (os === 'WINDOWS') {\r\n      try {\r\n        const res = await getReset(idx, os, pwrMgtAddress);\r\n        await getEquipIndex();\r\n        console.log(res);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setResetSpinning(false);\r\n    }\r\n  };\r\n\r\n  const syncHandler = async () => {\r\n    setSyncSpinning(true);\r\n\r\n    try {\r\n      const res = await getCurrSync(idx, os, pwrMgtAddress);\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setSyncSpinning(false);\r\n  };\r\n\r\n  const powerHandler = async () => {\r\n    // try {\r\n    //   const status = power ? 0 : 1;\r\n    //   controlCurrPower(idx, status);\r\n    //   // const res = await\r\n    //   const res = await controlCurrPower(idx, status);\r\n    //   await getEquipIndex();\r\n    //   console.log(res);\r\n    // } catch (err) {\r\n    //   console.log(err);\r\n    // }\r\n    confirm({\r\n      title: `${sysName}의 전원 설정을 조정합니다.`,\r\n      content: `${power ? '미사용' : '사용'}으로 설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        const status = power ? 0 : 1;\r\n        try {\r\n          const res = await controlCurrPower(idx, status);\r\n          await getEquipIndex();\r\n          console.log(res);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\" mb-3 \">\r\n      <h3 className=\"mb-3 font-semibold\">시스템 관리</h3>\r\n      <div className=\"grid grid-rows-2 grid-cols-2 gap-3 h-36\">\r\n        <div className=\"grid grid-rows-3 row-span-2 px-3 pt-1 pb-3 rounded-lg border  bg-white  \">\r\n          <div className=\"flex items-center justify-between \">\r\n            <h3 className=\"font-semibold ml-1.5\">전원</h3>\r\n            <Switch\r\n              checked={power}\r\n              className={`${power && 'bg-gradient-to-r from-indigo-500 to-pink-500'}`}\r\n              onChange={powerHandler}\r\n              // disabled={os === 'WINDOWS'}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-center row-span-2 \">\r\n            <div\r\n              onClick={powerHandler}\r\n              className=\"transition duration-100 cursor-pointer flex rounded-full h-16 w-16 items-center justify-center bg-gray-50 border border-gray-100 hover:opacity-80\"\r\n            >\r\n              <PoweroffOutlined style={{ fontSize: '1.7em' }} className={`${power ? 'text-blue-500' : 'text-gray-400'} cursor-pointer`} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-rows-2 gap-3 h-36\">\r\n          <button className={`${SYS_BTN} bg-red-50 hover:border-pink-100`} onClick={resetHandler}>\r\n            <div className=\"grid grid-cols-5 font-semibold items-center \">\r\n              <RedoOutlined className=\"border border-pink-100 bg-white w-9 h-9 rounded-full text-lg\" />\r\n              <span className=\"text-gray-700 col-span-3 \">리셋</span>\r\n              <div className=\"flex justify-self-end\">{resetSpinning ? <Spin indicator={antIcon} /> : <RightOutlined />}</div>\r\n            </div>\r\n          </button>\r\n\r\n          <button className={`${SYS_BTN} bg-indigo-50 hover:border-indigo-100`} onClick={syncHandler}>\r\n            <div className=\"grid grid-cols-5 font-semibold items-center \">\r\n              <CloudSyncOutlined className=\"border border-indigo-100 text-lg w-9 h-9 rounded-full bg-white\" />\r\n              <span className=\"text-gray-700 col-span-3 \">동기화</span>\r\n              <div className=\"flex justify-self-end\">{syncSpinning ? <Spin indicator={antIcon} /> : <RightOutlined />}</div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedSysControl;\r\n////////////////////////////////////////////////\r\n// 전원 버튼..\r\n// <div className='grid grid-rows-3 gap-2 row-span-2 py-1 px-3 rounded-lg border border-pink-500 bg-white'>\r\n// <div className='flex items-center justify-between '>\r\n//   <div className='flex items-center'>\r\n//     {/* <div className='flex items-center justify-center bg-gray-50 w-6 h-6 rounded-md'>\r\n//       <PoweroffOutlined style={{ fontSize: '.8em' }} />\r\n//     </div> */}\r\n//     <PoweroffOutlined />\r\n//     <h3 className='font-semibold ml-1.5'>전원</h3>\r\n//   </div>\r\n\r\n//   <Switch\r\n//     checked={power}\r\n//     className={`${\r\n//       power && 'bg-gradient-to-r from-indigo-500 to-pink-500'\r\n//     }`}\r\n//     onChange={powerHandler}\r\n//     // disabled={os === 'WINDOWS'}\r\n//   />\r\n// </div>\r\n// <div className=' flex items-center justify-center  '>\r\n//   <div className=' flex rounded-full h-12 w-12  items-center justify-center bg-gray-50 border border-gray-100  shadow-sm'>\r\n//     {power ? <PowerOutlined /> : <PowerOffOutlined />}\r\n//   </div>\r\n// </div>\r\n// <p className='flex items-center justify-center '>\r\n//   {power ? 'On' : 'Off'}\r\n// </p>\r\n// </div>\r\n","import React from 'react';\r\n\r\n//component\r\nimport DisplaySysName from './shared/DisplaySysName';\r\nimport SettingUsageAndTime from './selected/SettingUsageAndTime';\r\nimport SettingOperation from './all/SettingOperation';\r\nimport SettingTime from './all/SettingTime';\r\nimport SettingDays from './all/SettingDays';\r\nimport OperationManagement from './selected/OperationManagement';\r\nimport SelectedSysControl from './selected/SelectedSysControl';\r\n\r\n//type\r\nimport { Equipment } from '../../../types/Equipments';\r\n\r\n//css\r\nimport { Layout } from 'antd';\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nconst EquipManageTab = ({\r\n  getEquipIndex,\r\n  LoadingSpin,\r\n  dataSource,\r\n  setDataSource,\r\n  index,\r\n  setIndex,\r\n  powerBatch,\r\n}: {\r\n  getEquipIndex: VoidFunction;\r\n  LoadingSpin: VoidFunction;\r\n  dataSource: Equipment[];\r\n  setDataSource: any;\r\n  index: number;\r\n  setIndex: any;\r\n  powerBatch: boolean | undefined;\r\n}) => {\r\n  return (\r\n    <>\r\n      <Layout className=\"bg-white\">\r\n        <Layout className=\"bg-white\">\r\n          <Header className=\"leading-normal grid grid-cols-3 gap-y-9 gap-x-3 h-48 pt-0 p-4 bg-white  mb-1\">\r\n            <div className=\"col-span-3 \">\r\n              <h2 className=\"absolute left-0\">스마트 전원[ON/OFF] 관리가 가능합니다.</h2>\r\n            </div>\r\n            <SettingOperation getEquipIndex={getEquipIndex} LoadingSpin={LoadingSpin} powerBatch={powerBatch} />\r\n            <SettingTime getEquipIndex={getEquipIndex} />\r\n            <SettingDays pickedDays={dataSource[0]?.eqpPowerWeekday.split(',')} getEquipIndex={getEquipIndex} LoadingSpin={LoadingSpin} />\r\n          </Header>\r\n\r\n          <Content className=\"grid grid-cols-2 gap-x-8 gap-y-5 p-5 pt-4 bg-white \">\r\n            <h1 className=\"text-2xl text-center col-span-2  w-full mb-4 font-bmjua\">{dataSource[index]?.eqpName}</h1>\r\n\r\n            <SettingUsageAndTime\r\n              setDataSource={setDataSource}\r\n              eqpIsPowerBatch={Boolean(dataSource[index]?.eqpIsPowerBatch === 'Y')}\r\n              idx={dataSource[index]?.idx}\r\n              startTime={dataSource[index]?.eqpPowerStartTime}\r\n              endTime={dataSource[index]?.eqpPowerEndTime}\r\n              getEquipIndex={getEquipIndex}\r\n            />\r\n\r\n            <div className=\"h-96 flex-col rounded-xl \">\r\n              <SelectedSysControl\r\n                power={Boolean(dataSource[index]?.powerYN === 'Y')}\r\n                os={dataSource[index]?.eqpOS}\r\n                pwrMgtAddress={dataSource[index]?.pwrMgtAddress}\r\n                sysName={dataSource[index]?.eqpName}\r\n                idx={dataSource[index]?.idx}\r\n                getEquipIndex={getEquipIndex}\r\n              />\r\n              <OperationManagement\r\n                mem={dataSource[index]?.memNumber}\r\n                cpu={dataSource[index]?.cpuNumber}\r\n                powerOn={Boolean(dataSource[index]?.powerYN === 'Y')}\r\n              />\r\n            </div>\r\n          </Content>\r\n        </Layout>\r\n        <Sider width={315} className=\"bg-white h-200 overflow-auto border-l \">\r\n          <div className=\"px-2\">\r\n            <h3 className=\"mb-2 font-semibold\">시스템명</h3>\r\n            <ul>\r\n              {dataSource?.map((sys, idx) => (\r\n                <DisplaySysName\r\n                  key={sys.idx}\r\n                  name={sys.eqpName}\r\n                  power={sys.powerYN}\r\n                  usage={sys.eqpIsPowerBatch}\r\n                  onClick={() => {\r\n                    setIndex(idx);\r\n                  }}\r\n                  selected={Boolean(dataSource[index]?.idx === sys.idx)}\r\n                />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Sider>\r\n      </Layout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EquipManageTab;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { MatchParams } from '../../types/Common';\r\n\r\n//api\r\nimport { getAll } from '../../api/equipments.api';\r\n\r\n//type\r\nimport { Equipment } from '../../types/Equipments';\r\n\r\n//components\r\nimport EquipListTab from './equipmentList/EquipListTab';\r\nimport EquipManageTab from './powerManagement/EquipManageTab';\r\n\r\n//css\r\nimport { Tabs, Spin } from 'antd';\r\n\r\nconst ManagementEquip = () => {\r\n  const history = useHistory();\r\n  const match = useRouteMatch<MatchParams>();\r\n\r\n  const TabPane = Tabs.TabPane;\r\n\r\n  const [dataSource, setDataSource] = useState<Equipment[]>([]);\r\n  const [index, setIndex] = useState<number>(0);\r\n  const [powerBatch, setPowerBatch] = useState<boolean | undefined>(undefined);\r\n  const [spinning, setSpinning] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    getEquipIndex();\r\n  }, []);\r\n\r\n  const getEquipIndex = async () => {\r\n    try {\r\n      const res = await getAll();\r\n      const allUse = res.data.some((d: Equipment) => d.eqpIsPowerBatch === 'N');\r\n      console.log(res.data as any);\r\n      setPowerBatch(allUse);\r\n      setDataSource(res.data as any);\r\n      console.log(dataSource);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const callback = (key: string) => {\r\n    getEquipIndex();\r\n    history.push(`/equip/${key}`);\r\n  };\r\n\r\n  const LoadingSpin = () => {\r\n    setSpinning(true);\r\n\r\n    setTimeout(() => {\r\n      setSpinning(false);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Tabs onChange={callback} activeKey={match.params.key} animated>\r\n      <TabPane tab=\"전원 관리\" key=\"power\">\r\n        <Spin spinning={spinning} size=\"large\">\r\n          <EquipManageTab\r\n            getEquipIndex={getEquipIndex}\r\n            LoadingSpin={LoadingSpin}\r\n            dataSource={dataSource}\r\n            setDataSource={setDataSource}\r\n            index={index}\r\n            setIndex={setIndex}\r\n            powerBatch={powerBatch}\r\n          />\r\n        </Spin>\r\n      </TabPane>\r\n      <TabPane tab=\"장비 현황\" key=\"equipment\">\r\n        <EquipListTab dataSource={dataSource} />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementEquip;\r\n\r\n///////////////////////////////////////////\r\n// axios\r\n//   .get('/equip/index')\r\n//   .then(function (response) {\r\n//     setDataSource(response.data as any);\r\n//     // console.log(response.data);\r\n//     console.log(dataSource);\r\n//     console.log(response.data.use);\r\n\r\n//     return response.data;\r\n//   })\r\n//   .catch(function (error) {\r\n//     // handle error\r\n//     console.log(error);\r\n//   })\r\n//   .finally(function () {\r\n//     // always executed\r\n//   });\r\n//\r\n///////////////////////////////////////////\r\n//import PowerTable from './PowerTable';\r\n//import SysTable from './SysTable';\r\n// <PowerTable dataSource={dataSource} getEquipIndex={getEquipIndex} />\r\n// <SysTable dataSource={dataSource} />\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Button, Form, Input, InputNumber, message, Radio, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Prompt } from 'react-router-dom';\r\nimport { confirm } from '../ConfirmModal';\r\nimport * as Constants from '../Constants';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport './ManagementEquipForm.css';\r\n\r\nconst ManagementEquipForm = (props) => {\r\n  const [mode, setMode] = useState(props.location.state.mode);\r\n  const [record, setRecord] = useState(\r\n    props.location.state.record ? props.location.state.record : ''\r\n  );\r\n  const [os, setOs] = useState(record.eqpOS ? record.eqpOS : '');\r\n  const [useYN, setUseYN] = useState(record.useYN ? record.useYN : '');\r\n\r\n  const [isDuplication, setIsDuplication] = useState(true);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  useEffect(() => {\r\n    document.body.className = 'form-body';\r\n    enablePrevent();\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    var inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      if (mode === 'read') {\r\n        // 읽기 모드일 때 수정 상태로 바꿔주면서 모든 input 상태가 writeable로 변경됨\r\n        setMode('modify');\r\n        return false;\r\n      }\r\n\r\n      if (typeof values.eqpCpuCore == 'string') {\r\n        values.eqpCpuCore = values.eqpCpuCore.replace('Core', '');\r\n      }\r\n      if (typeof values.eqpCpuHz == 'string') {\r\n        values.eqpCpuHz = values.eqpCpuHz.replace('GHz', '');\r\n      }\r\n\r\n      values.eqpCPU = values.eqpCpuCore + ' ' + values.eqpCpuHz;\r\n      values.eqpID = values.SN;\r\n\r\n      if (mode === 'regist') {\r\n        axios\r\n          .post('/equip/regist', values)\r\n          .then(function (response) {\r\n            setIsBack(false);\r\n            message.success({\r\n              content: '장비 등록 완료',\r\n              duration: 3,\r\n              onClose: props.history.push('/equip'),\r\n            });\r\n          })\r\n          .catch(function (error) {\r\n            message.error({\r\n              content: '장비 등록 실패',\r\n              duration: 3,\r\n            });\r\n            console.log(error);\r\n          });\r\n      } else if (mode === 'modify') {\r\n        values.idx = record.idx; // 해당 idx로 수정하기 위해\r\n        axios\r\n          .put('/equip/modify', values)\r\n\r\n          .then((res) => {\r\n            setIsBack(false);\r\n            message.success({\r\n              content: '장비 수정 완료',\r\n              duration: 3,\r\n              onClose: props.history.push('/equip'),\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const onDeleteEquipment = (e) => {\r\n    var inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      confirm({\r\n        title: `해당 장비를 삭제합니다.`,\r\n        content: `장비를 삭제하시겠습니까?`,\r\n        onOk: () => {\r\n          axios\r\n            .post('/equip/delete', record)\r\n            .then((res) => {\r\n              // alert('장비가 삭제되었습니다.');\r\n              setIsBack(false);\r\n              props.history.push('/equip');\r\n            })\r\n            .catch((err) => {\r\n              console.error(err);\r\n            });\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mode !== 'regist') {\r\n      form.setFieldsValue({\r\n        SN: record.eqpID,\r\n        eqpName: record.eqpName,\r\n        eqpType: record.eqpType,\r\n        eqpOS: record.eqpOS,\r\n        eqpCpuCore: record.eqpCPU.split(' ')[0].replace('Core', ''),\r\n        eqpCpuHz: record.eqpCPU.split(' ')[1].replace('GHz', ''),\r\n        eqpMEM: record.eqpMEM,\r\n        pwrMgtAddress: record.pwrMgtAddress,\r\n        eqpUniqueID: record.eqpUniqueID,\r\n        eqpPowerModule: record.eqpPowerModule,\r\n        eqpIP: record.eqpIP,\r\n        useYN: record.useYN,\r\n      });\r\n    }\r\n\r\n    return () => {};\r\n  }, [props]);\r\n\r\n  return (\r\n    <div style={{ width: '50%', margin: 'auto' }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\"\r\n      />\r\n      <MenuGuide\r\n        title={'장비 관리 ▶ 장비 등록'}\r\n        subTitle={'장비 정보를 입력해주세요'}\r\n      />\r\n      <Form\r\n        // layout='vertical'\r\n        onFinish={handleSubmit}\r\n        validateMessages={validateMessages}\r\n        form={form}\r\n        style={{\r\n          border: '1px solid #dfe6e9',\r\n          padding: '50px',\r\n        }}\r\n      >\r\n        {/* <FormGuideComponent title=\"S/N\" guide=\"기기의 S/N을 입력해주세요\" />\r\n        <Form.Item hasFeedback validateStatus={eqpIDValidStatus}>\r\n          <Form.Item name=\"SN\" noStyle rules={[{ required: true }]}>\r\n            <Input\r\n              placeholder=\"XXXXXXX-XXXXX-XXXXXXX\"\r\n              style={mode === \"regist\" ? { width: \"75%\" } : { width: \"100%\" }}\r\n              readOnly={mode !== \"regist\" ? true : false}\r\n            />\r\n          </Form.Item>\r\n          <Button\r\n            id=\"idDuplBtn\"\r\n            style={{\r\n              marginLeft: \"5px\",\r\n              minWidth: \"84px\",\r\n              position: \"relative\",\r\n              top: \"-2px\",\r\n            }}\r\n            onClick={onEqpIdDuplCheck}\r\n            hidden={mode !== \"regist\" ? true : false}\r\n          >\r\n            중복검사\r\n          </Button>\r\n        </Form.Item> */}\r\n\r\n        <FormGuideComponent title=\"시스템명\" />\r\n        <Form.Item name=\"eqpName\" rules={[{ required: true }]}>\r\n          <Input\r\n            placeholder=\"Ex) 양방향 미디어 월\"\r\n            className=\"input_width\"\r\n            readOnly={mode === 'read' ? true : false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"시스템 타입\" />\r\n        <Form.Item name=\"eqpType\" rules={[{ required: true }]}>\r\n          <Select\r\n            style={{ width: 300 }}\r\n            placeholder=\"기기 타입을 선택해주세요\"\r\n            disabled={mode === 'read' ? true : false}\r\n          >\r\n            <Select.Option value=\"DCS-S\">DCS</Select.Option>\r\n            {/* <Select.Option value=\"DCS-M\">DCS</Select.Option> */}\r\n            <Select.Option value=\"MAG\">MAG</Select.Option>\r\n            <Select.Option value=\"DMS\">DMS</Select.Option>\r\n            <Select.Option value=\"DPS\">DPS</Select.Option>\r\n            <Select.Option value=\"DLS\">DLS</Select.Option>\r\n            <Select.Option value=\"LIS\">LIS</Select.Option>\r\n            <Select.Option value=\"LSS\">LSS</Select.Option>\r\n            <Select.Option value=\"IS\">IS</Select.Option>\r\n            <Select.Option value=\"DRS\">DRS</Select.Option>\r\n            <Select.Option value=\"LGS\">LGS</Select.Option>\r\n            <Select.Option value=\"LRS\">LRS</Select.Option>\r\n            <Select.Option value=\"ETC-A\">안드로이드 OS 기타</Select.Option>\r\n            <Select.Option value=\"ETC-W\">WINDOWS OS 기타</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"OS\" />\r\n        <Form.Item name=\"eqpOS\" rules={[{ required: true }]}>\r\n          <Radio.Group\r\n            className=\"form_radio\"\r\n            disabled={mode === 'read' ? true : false}\r\n          >\r\n            <Radio value={'WINDOWS'}>WINDOWS</Radio>\r\n            <Radio value={'ANDROID'}>ANDROID</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <FormGuideComponent title=\"CPU\" />\r\n        <div className=\"input_col_wrap epq_cpu_wrap\">\r\n          <Form.Item>\r\n            <Form.Item\r\n              name=\"eqpCpuCore\"\r\n              noStyle\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber\r\n                placeholder=\"Ex) 4\"\r\n                style={{ width: '60%' }}\r\n                readOnly={mode === 'read' ? true : false}\r\n              />\r\n            </Form.Item>\r\n            <span> Core</span>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Form.Item\r\n              name=\"eqpCpuHz\"\r\n              noStyle\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber\r\n                placeholder=\"Ex) 3.6\"\r\n                style={{ width: '60%' }}\r\n                readOnly={mode === 'read' ? true : false}\r\n              />\r\n            </Form.Item>\r\n            <span> GHz</span>\r\n          </Form.Item>\r\n        </div>\r\n        <FormGuideComponent title=\"Memory\" />\r\n        <Form.Item>\r\n          <Form.Item name=\"eqpMEM\" noStyle rules={[{ required: true }]}>\r\n            <InputNumber\r\n              placeholder=\"Ex) 16\"\r\n              style={{ width: '29.5%' }}\r\n              readOnly={mode === 'read' ? true : false}\r\n            />\r\n          </Form.Item>\r\n          <span> GB</span>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent\r\n          title=\"전원관리모듈\"\r\n          guide={'SUSPEND 모드 일 때 MAC 주소를 넣으시오.'}\r\n        />\r\n        <Form.Item\r\n          name=\"eqpPowerModule\"\r\n          rules={[{ required: true }]}\r\n          initialValue={'COSPAN'}\r\n        >\r\n          <Select disabled={mode === 'read' ? true : false}>\r\n            <Select.Option value={'NEO_1'}>네오테크 1</Select.Option>\r\n            <Select.Option value={'NEO_2'}>네오테크 2</Select.Option>\r\n            <Select.Option value={'COSPAN'}>코스팬</Select.Option>\r\n            <Select.Option value={'SUSPEND'}>절전모드</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"전원관리주소\" />\r\n        <Form.Item name=\"pwrMgtAddress\" rules={[{ required: true }]}>\r\n          <Input\r\n            placeholder=\"Ex)192.168.0.100\"\r\n            className=\"input_width\"\r\n            readOnly={mode === 'read' ? true : false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"고유식별ID\" />\r\n        <Form.Item name=\"eqpUniqueID\" rules={[{ required: true }]}>\r\n          <Input\r\n            placeholder=\"고유 ID\"\r\n            className=\"input_width\"\r\n            readOnly={mode === 'read' ? true : false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"IP\" />\r\n        <Form.Item name=\"eqpIP\" rules={[{ required: true }]}>\r\n          <Input\r\n            placeholder=\"Ex)192.168.0.100\"\r\n            className=\"input_width\"\r\n            readOnly={mode === 'read' ? true : false}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"사용여부\" />\r\n        <Form.Item name=\"useYN\" rules={[{ required: true }]}>\r\n          <Radio.Group\r\n            className=\"form_radio\"\r\n            disabled={mode === 'read' ? true : false}\r\n          >\r\n            <Radio value={'Y'}>예</Radio>\r\n            <Radio value={'N'}>아니오</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <div style={{ width: '100%', textAlign: 'center' }}>\r\n          <Form.Item>\r\n            <Button\r\n              id=\"regBtn\"\r\n              htmlType=\"submit\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              style={\r\n                mode !== 'regist'\r\n                  ? { width: '150px', marginTop: '10px' }\r\n                  : { marginTop: '10px', width: '100%' }\r\n              }\r\n            >\r\n              {mode === 'regist' ? '등 록' : '수 정'}\r\n            </Button>\r\n            <Button\r\n              id=\"delBtn\"\r\n              type=\"danger\"\r\n              size=\"large\"\r\n              style={{ width: '150px', marginTop: '10px', marginLeft: '5px' }}\r\n              onClick={onDeleteEquipment}\r\n              hidden={mode !== 'read' ? true : false}\r\n            >\r\n              삭 제\r\n            </Button>\r\n          </Form.Item>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementEquipForm;\r\n","import React, { useEffect } from 'react';\r\n\r\nconst Help = (props) => {\r\n\r\n    useEffect(() => {\r\n\r\n\r\n    }, []);\r\n    return (\r\n        <>도움말</>\r\n    );\r\n}\r\n\r\nexport default Help;","import axios from \"axios\";\r\nimport {\r\n  DvdListType,\r\n  getDvdDetailType,\r\n  logDvdType,\r\n  postDvdType,\r\n  putDvdDetailType,\r\n} from \"../types/Dvd\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const getDvdLists = async () => {\r\n  const response = await axios.get<ResponseVo<DvdListType[]>>(`/reserve/room`);\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdDetail = async (room_seq: string) => {\r\n  const response = await axios.get<ResponseVo<getDvdDetailType[]>>(\r\n    `/reserve/room/${room_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteDvdItem = async (room_seq: string) => {\r\n  const response = await axios.delete<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/${room_seq}`\r\n  );\r\n  return response.data;\r\n};\r\nexport const postDvdItem = async ({ params }: { params: any }) => {\r\n  const response = await axios.post<ResponseVo<postDvdType[]>>(\r\n    `/reserve/room`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const putDvdItem = async ({\r\n  seq,\r\n  params,\r\n}: {\r\n  seq: any;\r\n  params: any;\r\n}) => {\r\n  const response = await axios.put<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/${seq}`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const postCancelReserve = async ({\r\n  params,\r\n}: {\r\n  params: { userKey: string };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/reservation/cancel`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const postRoomReserve = async (params: {\r\n  userInfo: {\r\n    userNo: string;\r\n  };\r\n  reserveInfo: {\r\n    room_seq: number | string;\r\n    reserve_time: string[];\r\n  };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<any[]>>(\r\n    `/reserve/room/reservation`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdLogs = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    start_date?: string;\r\n    end_date?: string;\r\n    user_key?: string;\r\n    user_name?: string;\r\n    status?: string;\r\n  };\r\n}) => {\r\n  const response = await axios.get<ResponseVo<logDvdType[]>>(`/reserve/hist`, {\r\n    params,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdList = async () => {};\r\n","import { ResponseBodySmartSearch } from \"../types/SmartSearch\";\r\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { requestSmartSearch } from \"../api/SmartSearch\";\r\nimport { ResponseVo } from \"../types/Common\";\r\nimport { message } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { requestLogInfo } from \"../api/TotalLog\";\r\nimport { string } from \"prop-types\";\r\nexport const DVD = \"DVD\";\r\n\r\ntype SliceState = {\r\n  seq: string | number;\r\n  room_name: string;\r\n  use_flag: \"Y\" | \"N\";\r\n  bookable_count: number;\r\n  start_time: string;\r\n  end_time: string;\r\n  hours_of_use?: number;\r\n  select_count?: number;\r\n};\r\ntype PayloadType = {\r\n  [DVD]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nconst DvdSlice = createSlice({\r\n  name: `${DVD}`,\r\n  initialState: {\r\n    seq: 0,\r\n    room_name: \"DVD\",\r\n    use_flag: \"Y\",\r\n    bookable_count: 0,\r\n    start_time: moment().format(\"HH:00\"),\r\n    end_time: moment().add(\"8\", \"hour\").format(\"HH:00\"),\r\n    hours_of_use: 1,\r\n    select_count: 1,\r\n  } as SliceState,\r\n  reducers: {\r\n    setDvdRoomName: (state, action: PayloadAction<{ room_name: string }>) => {\r\n      state.room_name = action.payload.room_name;\r\n    },\r\n    setDvdDetail: (\r\n      state,\r\n      action: PayloadAction<{\r\n        room_name?: string;\r\n        start_time?: string;\r\n        end_time?: string;\r\n        use_flag?: \"Y\" | \"N\";\r\n        hours_of_use?: number;\r\n        select_count?: number;\r\n      }>\r\n    ) => {\r\n      if (action.payload.room_name) {\r\n        state.room_name = action.payload.room_name;\r\n      }\r\n      if (action.payload.start_time) {\r\n        state.start_time = action.payload.start_time;\r\n      }\r\n      if (action.payload.end_time) {\r\n        state.end_time = action.payload.end_time;\r\n      }\r\n      if (action.payload.use_flag) {\r\n        state.use_flag = action.payload.use_flag;\r\n      }\r\n      if (action.payload.hours_of_use) {\r\n        state.hours_of_use = action.payload.hours_of_use;\r\n      }\r\n      if (action.payload.select_count) {\r\n        state.select_count = action.payload.select_count;\r\n      }\r\n    },\r\n  },\r\n  extraReducers: {},\r\n});\r\n\r\nexport const { setDvdRoomName, setDvdDetail } = DvdSlice.actions;\r\nexport default DvdSlice.reducer;\r\nexport const selectDvdSlice = (state: PayloadType) => state[DVD];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { RangeValue } from \"rc-picker/lib/interface\";\r\n\r\n//form\r\nimport { Form, TimePicker, Switch } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nimport { available_time } from \"../../../types/Dvd\";\r\n\r\nconst DvdDailyAddForm = ({\r\n  available_time,\r\n  setAvailable_time,\r\n  tabKey,\r\n}: {\r\n  available_time: available_time[];\r\n  setAvailable_time: any;\r\n  tabKey: string;\r\n}) => {\r\n  const [daily, setDaily] = useState();\r\n\r\n  const days = [\r\n    \"월요일\",\r\n    \"화요일\",\r\n    \"수요일\",\r\n    \"목요일\",\r\n    \"금요일\",\r\n    \"토요일\",\r\n    \"일요일\",\r\n  ];\r\n\r\n  const reset = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: \"\", start_time: \"\", end_time: \"\" })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: \"\",\r\n          end_time: \"\",\r\n        };\r\n        return obj;\r\n      });\r\n\r\n    setAvailable_time([...arr]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [daily, tabKey]);\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (value) {\r\n      const [a, b] = value;\r\n      available_time[day - 1].start_time = moment(a).format(\"HH:00\");\r\n      available_time[day - 1].end_time = moment(b).format(\"HH:00\");\r\n    } else {\r\n      available_time[day - 1].start_time = \"\";\r\n      available_time[day - 1].end_time = \"\";\r\n    }\r\n  };\r\n\r\n  const settingWeekday = (\r\n    value: RangeValue<moment.Moment>,\r\n    weekend: boolean\r\n  ) => {\r\n    const endIdx = weekend ? days.length - 1 : 4;\r\n    const startIdx = weekend ? 5 : 0;\r\n\r\n    if (value) {\r\n      const [a, b] = value;\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = moment(a).format(\"HH:00\");\r\n        available_time[i].end_time = moment(b).format(\"HH:00\");\r\n      }\r\n    } else {\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = \"\";\r\n        available_time[i].end_time = \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeSettingMode = (value: any) => {\r\n    setDaily(value);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <Form.Item className=\"mt-2 \">\r\n      <div className=\" mb-3\">\r\n        <Switch onChange={changeSettingMode} className=\"mr-1\" />\r\n        <span>{!daily ? \"요일별 시간 설정\" : \"평일/주말 시간설정\"}</span>\r\n      </div>\r\n\r\n      {!daily ? (\r\n        <div>\r\n          {days.map((d, idx) => (\r\n            <div key={d} className=\"mb-1\">\r\n              {d}\r\n              {\"   \"}\r\n              <TimePicker.RangePicker\r\n                format={\"HH:mm\"}\r\n                onChange={(value) => {\r\n                  settingDailyTime(value, idx + 1);\r\n                }}\r\n                className=\"ml-3\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className=\"mb-2\">\r\n            평일{\" \"}\r\n            <TimePicker.RangePicker\r\n              format={\"HH:mm\"}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, false);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n          <div>\r\n            주말{\" \"}\r\n            <TimePicker.RangePicker\r\n              format={\"HH:mm\"}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, true);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default DvdDailyAddForm;\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Button, Form, Input, TimePicker, InputNumber, Tabs, Select } from 'antd';\r\n\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { isBoolean } from 'lodash';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport { number } from 'prop-types';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { postDvdItem } from '../../../api/Dvd.api';\r\nimport { setDvdDetail } from '../../../slice/DvdSlice';\r\nimport * as Constants from '../../Constants';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport DvdDailyAddForm from './DvdDailyAddForm';\r\n\r\nconst DvdAddForm = (props) => {\r\n  // 남부평생교육원 룸등록에만 hoursofuse, selectcount가 있음.\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const { TabPane } = Tabs;\r\n\r\n  const [startTime, setStartTime] = useState();\r\n  const [endTime, setEndTime] = useState();\r\n  const [maxHour, setMaxHour] = useState(24);\r\n  const [maxCount, setMaxCount] = useState();\r\n  const [currVal, setCurrVal] = useState();\r\n\r\n  const [available_time, setAvailable_time] = useState([]);\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [sameEveryday, setSameEveryday] = useState(true);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: '종료시간이 시작시간보다 짧습니다',\r\n    },\r\n  };\r\n\r\n  const handleChange = (value) => {\r\n    const val = value === '1' ? true : false;\r\n    setSameEveryday(val);\r\n  };\r\n\r\n  const setHoursOfUse = (startTime, endTime) => {\r\n    if (startTime && endTime) {\r\n      const start = startTime.split(':');\r\n      const end = endTime.split(':');\r\n      const total = end[0] - start[0];\r\n\r\n      setMaxHour(total);\r\n    } else {\r\n      console.log('not yet');\r\n    }\r\n  };\r\n\r\n  const onClick = async (values) => {\r\n    let data;\r\n    const { room_name } = values;\r\n\r\n    if (sameEveryday) {\r\n      if (currVal > maxCount) return;\r\n      const start_time = moment(values.start_time).format('HH:00');\r\n      const end_time = moment(values.end_time).format('HH:00');\r\n      const hours_of_use = values.hours_of_use || 1;\r\n      const select_count = values.select_count || 1;\r\n      dispatch(\r\n        setDvdDetail({\r\n          room_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n          use_flag: true,\r\n        })\r\n      );\r\n      data = await postDvdItem({\r\n        params: {\r\n          room_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n        },\r\n      });\r\n    } else {\r\n      dispatch(\r\n        setDvdDetail({\r\n          room_name,\r\n        })\r\n      );\r\n      data = await postDvdItem({ params: { room_name, available_time } });\r\n    }\r\n\r\n    if (data.status_code === 200) {\r\n      const res = data.response_body[0];\r\n      res ? history.push(`/dvd/detail/${data.response_body[0].room_seq}`) : history.push('/is/dvd');\r\n    }\r\n  };\r\n\r\n  const onChange = (value) => setMaxCount(Math.floor(maxHour / value));\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <MenuGuide title={`실 등록`} subTitle={`실을 등록 할 수 있습니다.`} />\r\n      <Form validateMessages={validateMessages} onFinish={onClick}>\r\n        <FormGuideComponent title=\"명칭\" guide=\"\" />\r\n        <Form.Item name=\"room_name\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Tabs defaultActiveKey={tabKey} onChange={handleChange} type=\"card\" className=\"mt-3\" destroyInactiveTabPane={true}>\r\n          <TabPane tab=\"동일 시간 설정\" key=\"1\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n            <Form.Item name=\"start_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                value={moment(startTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setStartTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item name=\"end_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                placeholder=\"종료시간\"\r\n                format={'HH:mm'}\r\n                value={moment(endTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setEndTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"예약 시간 단위\" guide=\"\" />\r\n            <Form.Item name=\"hours_of_use\" validateStatus={maxHour < 0 && 'error'} help={maxHour < 0 ? '종료시간이 시작시간보다 짧습니다' : ''}>\r\n              <InputNumber min={1} max={maxHour} defaultValue={1} disabled={maxHour < 0} onChange={onChange} />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"최대 연속 예약 횟수\" guide=\"\" />\r\n            <Form.Item\r\n              name=\"select_count\"\r\n              validateStatus={currVal > maxCount && 'error'}\r\n              help={currVal > maxCount ? '연속 예약할 수 있는 횟수가 총 예약 시간보다 많습니다.' : ''}\r\n            >\r\n              <InputNumber\r\n                // name=\"select_count\"\r\n                min={1}\r\n                max={maxCount ? maxCount : maxHour}\r\n                defaultValue={1}\r\n                onChange={(e) => {\r\n                  setCurrVal(e);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n          </TabPane>\r\n          <TabPane tab=\"요일별 시간 설정\" key=\"2\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n\r\n            <DvdDailyAddForm available_time={available_time} setAvailable_time={setAvailable_time} tabKey={tabKey} />\r\n          </TabPane>\r\n        </Tabs>\r\n\r\n        <Form.Item>\r\n          <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DvdAddForm;\r\n","import axios, { Axios, AxiosResponse } from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getDvdDetail, getDvdLists } from \"../../../api/Dvd.api\";\r\nimport { DvdListType } from \"../../../types/Dvd\";\r\n\r\nconst useGetDvdDetail = (room_seq: string) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getDvdDetailData = async (e: string) => {\r\n    const result = await getDvdDetail(e);\r\n    console.log(result);\r\n    setState(result.response_body);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDvdDetailData(room_seq);\r\n  }, [room_seq]);\r\n\r\n  return [state, setState] as const;\r\n};\r\n\r\nexport default useGetDvdDetail;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getDvdLists } from '../../../api/Dvd.api';\r\nimport { DvdListType } from '../../../types/Dvd';\r\n\r\nconst useGetDvdList = () => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getReserverDate = async () => {\r\n    const result = await getDvdLists();\r\n    setState(result.response_body);\r\n  };\r\n  useEffect(() => {\r\n    getReserverDate();\r\n  }, []);\r\n  return state;\r\n};\r\n\r\nexport default useGetDvdList;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\nimport { UserType } from \"../types/User\";\r\n\r\nexport const getUser = async ({\r\n  user_key,\r\n  card_password,\r\n}: {\r\n  user_key: string;\r\n  card_password?: string;\r\n}) => {\r\n  console.log(\"**************\");\r\n\r\n  console.log(user_key);\r\n\r\n  const response = await axios.get<ResponseVo<UserType>>(\r\n    \"/gesUser/getUserInfo\",\r\n    // { params: { user_key, password: card_password } }\r\n    { params: { user_key } }\r\n  );\r\n\r\n  return response.data;\r\n};\r\nexport default getUser;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n// import { getUser } from 'renderer/network/user.api';\r\nimport getUser from \"../api/user.api\";\r\n// import { ResponseVo } from \"../types/ResponseVo\";\r\n// import { UserType } from \"../types/User\";\r\n\r\n// import { ResponseVo, UserType } from 'renderer/types/Type';\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\nimport { UserType } from \"../types/User\";\r\nexport const USER = \"user\" as const;\r\n\r\ntype SliceState = {\r\n  user: UserType;\r\n  userDvdReserveTimes?: Array<string>;\r\n  userDvdEndTimes?: Array<string>;\r\n  userRoomSeq: number;\r\n  userRoomName: string;\r\n};\r\n\r\ntype PayloadType = {\r\n  [USER]: SliceState;\r\n};\r\n\r\nexport const fetchUser = createAsyncThunk(`${USER}/fetchUser`, getUser);\r\n\r\nconst slice = createSlice({\r\n  name: USER,\r\n  initialState: {\r\n    user: {\r\n      birthDay: 0,\r\n      is_user_id: \"NO_USER\",\r\n      is_user_nm: \"NO_USER\",\r\n      is_user_phone: \"NO_USER\",\r\n      is_user_no: -1,\r\n      is_user_birth: 0,\r\n      reg_date: \"NO_USER\",\r\n      user_key: \"NO_USER\",\r\n      is_user_pwd: \"NO_USER\",\r\n    },\r\n    userDvdReserveTimes: [],\r\n    userRoomSeq: -1,\r\n    userRoomName: \"\",\r\n  } as SliceState,\r\n  reducers: {\r\n    resetUser: (state) => {\r\n      console.log(\"resetUser\");\r\n      state.user = {\r\n        birthDay: 0,\r\n        is_user_id: \"NO_USER\",\r\n        is_user_nm: \"NO_USER\",\r\n        is_user_phone: \"NO_USER\",\r\n        is_user_no: -1,\r\n        is_user_birth: 0,\r\n        reg_date: \"NO_USER\",\r\n        user_key: \"NO_USER\",\r\n        is_user_pwd: \"NO_USER\",\r\n      };\r\n      state.userDvdReserveTimes = [];\r\n      state.userRoomSeq = -1;\r\n      state.userRoomName = \"\";\r\n      // state.userDvdReserveTimes = [];\r\n    },\r\n    setUserPassword: (\r\n      state,\r\n      action: PayloadAction<{\r\n        pwd: string;\r\n      }>\r\n    ) => {\r\n      state.user.is_user_pwd = action.payload.pwd;\r\n    },\r\n    setUserDvdReserveTimes: (state, action: PayloadAction<Array<string>>) => {\r\n      state.userDvdReserveTimes = action.payload;\r\n    },\r\n    setUserDvdEndTimes: (state, action: PayloadAction<Array<string>>) => {\r\n      state.userDvdEndTimes = action.payload;\r\n    },\r\n    setUserRoomSeq: (state, action: PayloadAction<number>) => {\r\n      state.userRoomSeq = action.payload;\r\n    },\r\n    setUserRoomName: (\r\n      state,\r\n      action: PayloadAction<{\r\n        roomName: string;\r\n      }>\r\n    ) => {\r\n      state.userRoomName = action.payload.roomName;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchUser.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<UserType>>\r\n    ) => {\r\n      if (action.payload.status_code === 9404) {\r\n        state.user = {\r\n          birthDay: 0,\r\n          is_user_id: \"NO_USER\",\r\n          is_user_nm: \"NO_USER\",\r\n          is_user_phone: \"NO_USER\",\r\n          is_user_no: -1,\r\n          is_user_birth: 0,\r\n          reg_date: \"NO_USER\",\r\n          user_key: \"NO_USER\",\r\n          is_user_pwd: \"NO_USER\",\r\n        };\r\n      } else {\r\n        state.user = action.payload.response_body;\r\n      }\r\n    },\r\n    [fetchUser.rejected.type]: (state) => {\r\n      state.user = {\r\n        birthDay: 0,\r\n        is_user_id: \"NO_USER\",\r\n        is_user_nm: \"NO_USER\",\r\n        is_user_phone: \"NO_USER\",\r\n        is_user_no: -1,\r\n        is_user_birth: 0,\r\n        reg_date: \"NO_USER\",\r\n        user_key: \"NO_USER\",\r\n        is_user_pwd: \"NO_USER\",\r\n\r\n        // is_user_pwd: 'NO_USER',\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  resetUser,\r\n  setUserDvdReserveTimes,\r\n  setUserDvdEndTimes,\r\n  setUserRoomSeq,\r\n  setUserPassword,\r\n  setUserRoomName,\r\n} = slice.actions;\r\nexport default slice.reducer;\r\nexport const selectUser = (state: PayloadType) => state[USER];\r\n","import React from \"react\";\r\nimport { Modal, Table, message } from \"antd\";\r\nimport { DvdListType } from \"../../../types/Dvd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\n\r\nimport { UserType } from \"../../../types/User\";\r\n\r\nconst DvdMakeReservation = ({\r\n  openModal,\r\n  setIsModal,\r\n  selectedTimes,\r\n  onReserveRoom,\r\n  changeRoomName,\r\n  user,\r\n}: {\r\n  openModal: boolean;\r\n  setIsModal: any;\r\n  selectedTimes: DvdListType[];\r\n  onReserveRoom: (userKey: any) => void;\r\n  changeRoomName: string;\r\n  user: UserType;\r\n}) => {\r\n  const sortedData = selectedTimes.sort((a, b) => a.seq - b.seq);\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: \"NO\",\r\n      dataIndex: \"no\",\r\n      key: \"no\",\r\n      align: \"center\",\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(\r\n          sessionStorage.getItem(\"currentP1age\")!\r\n        );\r\n        return <>{idx + 1}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"DVD Room Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: () => {\r\n        return <>{changeRoomName}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"예약자\",\r\n      dataIndex: \"user_name\",\r\n      key: \"age\",\r\n      render: () => {\r\n        return <>{user.is_user_nm}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"시작시간\",\r\n      dataIndex: \"start_time\",\r\n      key: \"start_time\",\r\n    },\r\n    {\r\n      title: \"종료시간\",\r\n      dataIndex: \"end_time\",\r\n      key: \"end_time\",\r\n    },\r\n  ];\r\n\r\n  const closeModal = () => setIsModal(false);\r\n\r\n  return (\r\n    <>\r\n      {user.user_key === \"NO_USER\" && user.user_key === \"NO_USER\" ? (\r\n        <Modal visible={openModal} onCancel={closeModal} onOk={closeModal}>\r\n          <p>일치하는 사용자가 없습니다.</p>\r\n        </Modal>\r\n      ) : (\r\n        <Modal\r\n          visible={openModal}\r\n          onCancel={closeModal}\r\n          onOk={() => {\r\n            onReserveRoom(user.user_key);\r\n          }}\r\n        >\r\n          <div className=\" ml-0 m-3\">아래와 같이 예약을 진행하시겠습니까?</div>\r\n          <Table\r\n            rowKey={(record) => record.seq}\r\n            columns={columns}\r\n            dataSource={sortedData}\r\n            bordered\r\n            pagination={false}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DvdMakeReservation;\r\n","//library\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport moment from 'moment';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//css\r\nimport { CaretDownOutlined, DeleteOutlined, QuestionCircleOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport { Button, Divider, Space, Descriptions, Badge, Collapse, Input, TimePicker, Switch, Table, Popconfirm, InputNumber, Modal, message, Alert } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n//api\r\nimport useGetDvdDetail from './useGetDvdDetail';\r\nimport useGetDvdList from './useGetDvdList';\r\nimport { deleteDvdItem, getDvdDetail, postCancelReserve, putDvdItem } from '../../../api/Dvd.api';\r\nimport { postRoomReserve } from '../../../api/Dvd.api';\r\n//types\r\nimport { available_time } from '../../../types/Dvd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { postDvdType } from '../../../types/Dvd';\r\n\r\n//slices\r\nimport { fetchUser, selectUser, resetUser } from '../../../slice/userSlice';\r\nimport { selectDvdSlice, setDvdDetail } from '../../../slice/DvdSlice';\r\n//components\r\nimport DvdMakeReservation from './DvdMakeReservation';\r\n\r\nconst DvdDetailForm = () => {\r\n  /////////variables\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch<{ room_seq: string }>();\r\n  //room\r\n  const room_seq = match.params.room_seq;\r\n  const rooms = useGetDvdList();\r\n  const { room_name, start_time, end_time, use_flag, select_count, hours_of_use } = useSelector(selectDvdSlice);\r\n\r\n  // user\r\n  const { user } = useSelector(selectUser);\r\n\r\n  ///////// states\r\n  //room\r\n  const [dataSource, setDataSource] = useGetDvdDetail(room_seq);\r\n  const [changeRoomName, setChangeRoomName] = useState('');\r\n  const [mStartTime, setmStartTime] = useState('');\r\n  const [mEndTime, setmEndTime] = useState('');\r\n  const [mUseFlag, setmUseFlag] = useState<boolean>();\r\n  const [mHours, setmHours] = useState(0);\r\n  const [mCount, setmCount] = useState(0);\r\n  const [availableTime, setAvailableTime] = useState<available_time[]>();\r\n  // control\r\n  const [maxCount, setMaxCount] = useState(0);\r\n  const [totalHour, setTotalHour] = useState(0);\r\n  const [sameEveryday, setSameEveryday] = useState<boolean>();\r\n  const [selectedRowkeys, setSelectedRowkeys] = useState<string[]>([]);\r\n  const [selectedTimes, setSelectedTimes] = useState<DvdListType[]>([]);\r\n  // ui\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [err, setErr] = useState(false);\r\n\r\n  const days = ['월', '화', '수', '목', '금', '토', '일'];\r\n  let parsedUserNo = '';\r\n  /////////functions\r\n  //room management\r\n  const extractHour = (time: string, separator: string) => {\r\n    const arr = time.split(separator);\r\n    return Number(arr[0]);\r\n  };\r\n\r\n  const resetAvailableTime = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n    return arr;\r\n  };\r\n\r\n  const bookedUser = () => {\r\n    const data = dataSource.filter((item: postDvdType) => item.bookable === 'N');\r\n    if (data.length >= 1) {\r\n      message.warning('예약자가 존재합니다. 확인해주세요');\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const onFix = async () => {\r\n    let putData;\r\n\r\n    if (sameEveryday) {\r\n      const data = dataSource.filter((item) => {\r\n        if (item.bookable === 'N') {\r\n          const end = moment(item.end_time, 'HH:mm');\r\n          const newEnd = moment(mEndTime, 'HH:mm');\r\n          const diff = newEnd.diff(end, 'm');\r\n          if (diff < 1) {\r\n            return item;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (data.length >= 1) {\r\n        message.success('예약자가 존재합니다. 확인해주세요');\r\n        return;\r\n      } else {\r\n        if (mCount > maxCount) {\r\n          message.error('연속 예약 횟수를 확인해주세요. ');\r\n          return;\r\n        }\r\n      }\r\n\r\n      putData = {\r\n        seq: room_seq,\r\n        params: {\r\n          room_name: changeRoomName,\r\n          start_time: mStartTime,\r\n          end_time: mEndTime,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          hours_of_use: mHours,\r\n          select_count: mCount,\r\n        },\r\n      };\r\n    } else {\r\n      if (dataSource) {\r\n        const res = bookedUser();\r\n        if (res) return;\r\n      }\r\n\r\n      putData = {\r\n        seq: room_seq,\r\n        params: {\r\n          room_name: changeRoomName,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          available_time: availableTime,\r\n        },\r\n      };\r\n    }\r\n    const response = await putDvdItem(putData);\r\n\r\n    // 수정할때 예약자있음 수정못하게해야함.\r\n    if (response.status_code === 200) {\r\n      const result = await getDvdDetail(room_seq);\r\n      dispatch(\r\n        setDvdDetail({\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          room_name: changeRoomName,\r\n        })\r\n      );\r\n\r\n      setDataSource(result.response_body);\r\n\r\n      message.success('변경이 완료되었습니다');\r\n    }\r\n  };\r\n\r\n  const onDeleteClick = async () => {\r\n    if (dataSource) {\r\n      const res = bookedUser();\r\n      if (res) return;\r\n    }\r\n\r\n    const result = await deleteDvdItem(room_seq);\r\n    if (result.status_code === 200) {\r\n      history.push('/is/dvd');\r\n    }\r\n  };\r\n\r\n  const onChangeInput = (e: any) => {\r\n    parsedUserNo = e.target.value;\r\n  };\r\n\r\n  //reservation\r\n  const rowSelection = {\r\n    selectedRowkeys,\r\n    onChange: (selected: any, selectedObj: any) => {\r\n      if (selected.length > 3) {\r\n        setErr(true);\r\n        message.error('최대 3시간까지 예약이 가능합니다.');\r\n      } else {\r\n        setSelectedTimes([...selectedObj]);\r\n        setSelectedRowkeys(selected);\r\n      }\r\n    },\r\n\r\n    getCheckboxProps: (record: any) => ({\r\n      disabled: record.bookable === 'N',\r\n      bookable: record.bookable,\r\n    }),\r\n\r\n    onSelect: (obj: any, selected: any, selectedRows: DvdListType[]) => {\r\n      if (selectedRows.length > 1) {\r\n        const seq = selectedRows.map((el: any) => el.seq);\r\n        const maxSeq = Math.max(...seq);\r\n        const minSeq = Math.min(...seq);\r\n        const acceptableSeq = minSeq + selectedRows.length - 1;\r\n\r\n        if (acceptableSeq < maxSeq) {\r\n          message.error('최대 3시간까지 연속 예약이 가능합니다.');\r\n          setErr(true);\r\n          return;\r\n        } else {\r\n          setErr(false);\r\n        }\r\n      }\r\n      setErr(false);\r\n    },\r\n    hideSelectAll: true,\r\n  };\r\n\r\n  const findUser = () => {\r\n    Modal.info({\r\n      closable: true,\r\n      title: '회원증을 인식해주세요.',\r\n      content: (\r\n        <div className=\"mt-5\">\r\n          <Input onChange={onChangeInput} autoFocus={true} />\r\n        </div>\r\n      ),\r\n\r\n      onOk() {\r\n        const params = {\r\n          user_key: parsedUserNo,\r\n          card_password: '',\r\n        };\r\n        console.log(params);\r\n        dispatch(fetchUser(params));\r\n        setIsModal(true);\r\n      },\r\n    });\r\n  };\r\n  const onReserveRoom = async (userKey: any) => {\r\n    console.log(selectedTimes);\r\n\r\n    const reserve_time = selectedTimes.map((el) => el.start_time);\r\n\r\n    const params = {\r\n      userInfo: {\r\n        userNo: userKey,\r\n      },\r\n      reserveInfo: {\r\n        room_seq,\r\n        reserve_time,\r\n      },\r\n    };\r\n\r\n    const res = await postRoomReserve(params);\r\n    if (res.status_code === 200) {\r\n      const details = await getDvdDetail(room_seq);\r\n\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n        message.success({\r\n          content: '예약이 완료되었습니다.',\r\n          style: { marginTop: '20vh' },\r\n        });\r\n      }\r\n    } else if (res.status_code === 4401) {\r\n      message.warning({\r\n        content: '이미 예약하신 정보가 존재합니다. 예약은 한 번만 가능합니다',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    }\r\n    setIsModal(false);\r\n    dispatch(resetUser());\r\n\r\n    setTimeout(() => {\r\n      history.push(`/is/dvd`);\r\n    }, 2000);\r\n  };\r\n  const onCancelReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postCancelReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getDvdDetail(room_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (availableTime && value) {\r\n      const [a, b] = value;\r\n      availableTime[day - 1].start_time = moment(a).format('HH:00:00');\r\n      availableTime[day - 1].end_time = moment(b).format('HH:00:00');\r\n    } else if (availableTime && !value) {\r\n      availableTime[day - 1].start_time = '';\r\n      availableTime[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  /////////useEffect\r\n  useEffect(() => {\r\n    setSelectedTimes([]);\r\n    const el = rooms.filter((el) => el.seq === Number(room_seq));\r\n\r\n    if (el) {\r\n      const isY = el[0]?.use_flag === 'Y';\r\n      setChangeRoomName(el[0]?.room_name);\r\n      setmStartTime(el[0]?.start_time);\r\n      setmEndTime(el[0]?.end_time);\r\n      setmUseFlag(isY);\r\n      setmHours(el[0]?.hours_of_use);\r\n      setmCount(el[0]?.select_count);\r\n      if (el[0]?.available_time) {\r\n        const arr = el[0]?.available_time;\r\n        setAvailableTime([...arr]);\r\n      }\r\n      setSameEveryday(Boolean(el[0]?.hours_of_use && el[0]?.select_count));\r\n    }\r\n  }, [rooms]);\r\n\r\n  useEffect(() => {\r\n    if (mStartTime && mEndTime) {\r\n      const start = extractHour(mStartTime, ':');\r\n      const end = extractHour(mEndTime, ':');\r\n      setTotalHour(end - start);\r\n    }\r\n  }, [mStartTime, mEndTime]);\r\n\r\n  useEffect(() => {\r\n    setMaxCount(Math.floor(totalHour / mHours));\r\n  }, [totalHour]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!mUseFlag) {\r\n  //     const zeroAvailableTime = resetAvailableTime();\r\n  //     setAvailableTime([...zeroAvailableTime]);\r\n  //   }\r\n  // }, [mUseFlag]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: uuid(),\r\n      width: 60,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else if (_record.bookable === 'N') {\r\n          return <Badge status=\"default\" text=\"예약 중\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      // las상에서 유저를 조회할 때 사용하는 키\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청시간',\r\n      dataIndex: 'reserved_time',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item ? moment(_item).format('MM-DD HH:mm') : ''}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 취소',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"예약을 취소하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <DvdMakeReservation\r\n        openModal={isModal}\r\n        setIsModal={setIsModal}\r\n        selectedTimes={selectedTimes}\r\n        onReserveRoom={onReserveRoom}\r\n        changeRoomName={changeRoomName}\r\n        user={user}\r\n      />\r\n\r\n      <MenuGuide title={`DVD 예약 상세`} subTitle={`DVD 예약 상태를 관리할 수 있습니다.`} />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`DVD실(${room_name}) 정보`}</Text>\r\n      </Divider>\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"실 명\" span={1}>\r\n          <Text>{`${room_name}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"실 상태\" span={3}>\r\n          {/* {use_flag === \"Y\" && start_time && (\r\n            <Badge status=\"processing\" text=\"정상 운영\" />\r\n          )}\r\n          {use_flag === \"N\" && !start_time && (\r\n            <Badge status=\"default\" text=\"이용 불가\" />\r\n          )} */}\r\n          {use_flag === 'Y' && <Badge status=\"processing\" text=\"정상 운영\" />}\r\n          {use_flag === 'N' && <Badge status=\"default\" text=\"이용 불가\" />}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"대여실 이름\" span={3}>\r\n              <Input\r\n                value={changeRoomName}\r\n                onChange={(e) => {\r\n                  setChangeRoomName(e.target.value);\r\n                }}\r\n              />\r\n            </Descriptions.Item>\r\n\r\n            {!sameEveryday &&\r\n              availableTime?.map((el, idx) => {\r\n                const isNull = !el.start_time && !el.end_time;\r\n\r\n                return (\r\n                  <Descriptions.Item label={`대여 운영 시간 설정 - ${days[idx]}`} span={3} key={el.day}>\r\n                    {isNull ? (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    ) : (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        defaultValue={[moment(el.start_time, 'HH:mm'), moment(el.end_time, 'HH:mm')]}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    )}\r\n                  </Descriptions.Item>\r\n                );\r\n              })}\r\n\r\n            {sameEveryday && (\r\n              <>\r\n                <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n                  <TimePicker.RangePicker\r\n                    placeholder={[`시작시간`, `종료시간`]}\r\n                    format={`HH:mm`}\r\n                    value={[moment(mStartTime, 'HH:mm'), moment(mEndTime, 'HH:mm')]}\r\n                    onChange={(e) => {\r\n                      if (e) {\r\n                        const [start, end] = e;\r\n                        if (start && end) {\r\n                          setmStartTime(start?.format('HH:00'));\r\n                          setmEndTime(end?.format('HH:00'));\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></TimePicker.RangePicker>\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"연속 예약 횟수\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mCount === undefined}\r\n                    min={1}\r\n                    max={Math.floor(totalHour / mHours)}\r\n                    defaultValue={mCount}\r\n                    onChange={(e) => {\r\n                      console.log(e);\r\n\r\n                      setmCount(e);\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"예약 시간 단위\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mHours === undefined}\r\n                    min={1}\r\n                    max={totalHour}\r\n                    defaultValue={mHours}\r\n                    onChange={(e) => {\r\n                      setmHours(e);\r\n                      setMaxCount(Math.floor(totalHour / e));\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n              </>\r\n            )}\r\n            <Descriptions.Item label=\"대여 불가 설정\" span={3}>\r\n              <Switch\r\n                checked={!mUseFlag}\r\n                onClick={() => {\r\n                  setmUseFlag((prevData) => {\r\n                    return !prevData;\r\n                  });\r\n                }}\r\n              ></Switch>\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              {/* <Link\r\n              to={{\r\n                pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n              }}\r\n              >\\\r\n              </Link> */}\r\n              <Button type=\"primary\" onClick={onFix}>\r\n                정보 및 목록 수정\r\n              </Button>\r\n              <Popconfirm\r\n                title=\"아이템을 정말 삭제하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  //   e.stopPropagation();\r\n                  onDeleteClick();\r\n                  //   console.log(_record.user_key);\r\n                  //   onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <Button type=\"primary\" danger>\r\n                  삭 제\r\n                </Button>\r\n                {/* <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                /> */}\r\n              </Popconfirm>\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n      <MenuGuide\r\n        style={{\r\n          marginTop: '2rem',\r\n        }}\r\n        title={`DVD실 시간표`}\r\n        subTitle={`예약 상태를 확인 할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`예약 정보`}</Text>\r\n      </Divider>\r\n      <Table rowKey={(record) => record.start_time} columns={columns} rowSelection={{ ...rowSelection }} dataSource={dataSource} bordered size=\"small\" />\r\n      <div style={{ marginBottom: '10px', textAlign: 'center' }}>\r\n        {dataSource && (\r\n          <Button type=\"primary\" onClick={findUser} disabled={err || selectedRowkeys.length === 0}>\r\n            예약하기\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DvdDetailForm;\r\n","import { UploadOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport React, { useState } from 'react';\r\nimport { noImg } from '../../CommonImage';\r\n\r\nconst EventPosterUploadComponent = (props) => {\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState();\r\n  const { fileList, setFileList, eventPoster } = props;\r\n\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  };\r\n\r\n  const beforeUpload = (file, fileList) => {\r\n    return false;\r\n  };\r\n  return (\r\n    <div>\r\n      <Modal visible={previewVisible} footer={null} onCancel={handleCancel}>\r\n        <img\r\n          alt='example'\r\n          style={{ width: '100%' }}\r\n          src={previewImage}\r\n          onError={(error) => {\r\n            error.currentTarget.src = noImg;\r\n          }}\r\n        />\r\n      </Modal>\r\n      <Upload\r\n        className='event-poster-wrapped'\r\n        listType='picture-card'\r\n        beforeUpload={beforeUpload}\r\n        customRequest={dummyRequest}\r\n        onPreview={handlePreview}\r\n        multiple={false}\r\n        fileList={fileList}\r\n        onChange={(info) => {\r\n          if (\r\n            !(\r\n              info.file.type.includes('image') ||\r\n              info.file.type.includes('video')\r\n            )\r\n          ) {\r\n            message.error(\r\n              `이미지 또는 비디오 파일만 업로드 가능합니다 : ${info.file.name}`\r\n            );\r\n          } else {\r\n            setFileList(info.fileList);\r\n          }\r\n        }}\r\n      >\r\n        {fileList.length >= 1 ? null : (\r\n          <Button>\r\n            <UploadOutlined /> 포스터 업로드\r\n          </Button>\r\n        )}\r\n      </Upload>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventPosterUploadComponent;\r\n","/* eslint-disable eqeqeq */\r\nimport { Descriptions } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport EventPosterUploadComponent from './EventPosterUploadComponent';\r\n\r\nconst EventDetailComponent = (props) => {\r\n  const {\r\n    eventMaster,\r\n    eventTarget,\r\n    eventPoster,\r\n    setFileList,\r\n    fileList,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    console.log('EventDetailComponent props', props);\r\n    return () => {};\r\n  }, []);\r\n\r\n  const covertDays = (daysStr = '') => {\r\n    let dayArray = daysStr.split(',');\r\n    let daysStrArray = dayArray.map((day) => {\r\n      if (day == 6) {\r\n        return '일';\r\n      } else if (day == 0) {\r\n        return '월';\r\n      } else if (day == 1) {\r\n        return '화';\r\n      } else if (day == 2) {\r\n        return '수';\r\n      } else if (day == 3) {\r\n        return '목';\r\n      } else if (day == 4) {\r\n        return '금';\r\n      } else if (day == 5) {\r\n        return '토';\r\n      } else {\r\n        return '설정 안됨';\r\n      }\r\n    });\r\n    return daysStrArray.toString().replace(/,/g, ', ');\r\n  };\r\n  const getAgeName = (age) => {\r\n    switch (age) {\r\n      case 0:\r\n        return '연령무관';\r\n      case 6:\r\n        return '유아';\r\n      case 8:\r\n        return '초등';\r\n      case 14:\r\n        return '청소년';\r\n      case 20:\r\n        return '성인';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Descriptions className='event-wrap' bordered>\r\n        <Descriptions.Item label='등록 번호' span={3}>\r\n          {eventMaster.event_master_idx}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 명' span={2}>\r\n          {' '}\r\n          {eventMaster.event_title}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='포스터' span={1}>\r\n          <EventPosterUploadComponent\r\n            setFileList={setFileList}\r\n            eventPoster={eventPoster}\r\n            fileList={fileList}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='내 용' span={3}>\r\n          {eventMaster.event_description}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item\r\n          label='행사 신청 기간'\r\n          span={2}\r\n        >{`${eventMaster.event_apply_start_date}~${eventMaster.event_apply_end_date}`}</Descriptions.Item>\r\n        <Descriptions.Item label='행사 수행 기간' span={1}>\r\n          {`${eventMaster.event_activity_start_date}~${eventMaster.event_activity_end_date}`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 요일' span={2}>\r\n          {covertDays(eventMaster.event_activity_weekday)}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 시간' span={1}>\r\n          {`${eventMaster.event_activity_start_time}~${eventMaster.event_activity_end_time}`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='장 소' span={2}>\r\n          {eventMaster.event_place}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 대상(연령/성별)' span={1}>\r\n          {`${getAgeName(eventTarget.event_target_age)} / ${\r\n            eventTarget.event_target_sex === 'MALE' ? '남성' : ''\r\n          }${eventTarget.event_target_sex === 'FEMALE' ? '여성' : ''}${\r\n            eventTarget.event_target_sex === 'COMMON' ? '제한없음' : ''\r\n          }`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='그룹 신청 여부' span={2}>\r\n          {`${\r\n            eventMaster.event_is_group === 'Y'\r\n              ? `허용 (최대 ${eventMaster.event_group_limit_cnt} 명)`\r\n              : `비허용`\r\n          }`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='공개 여부' span={1}>\r\n          {eventMaster.event_is_public === 'Y' ? `공개` : `비공개`}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailComponent;\r\n","import { Divider, Table, Select, Radio } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport { formatPhoneNumber } from '../../CommonUtils';\r\nimport * as Constants from '../../Constants';\r\n\r\nconst EventDetailEnrolleeListComponent = (props) => {\r\n  const { event_master_idx, getEvent } = props;\r\n  const [enrolleeList, setEnrolleeList] = useState([]);\r\n\r\n  const [eventApplicantState, setEventApplicantState] = useState('APPLY');\r\n  const [isLoading, setIsLoading] = useState();\r\n\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const columns = [\r\n    {\r\n      title: '번호',\r\n      dataIndex: 'IDX',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '신청자 이름',\r\n      dataIndex: 'is_user_nm',\r\n      key: uuid(),\r\n      width: 250,\r\n      align: 'center',\r\n    },\r\n\r\n    {\r\n      title: '신청 인원',\r\n      dataIndex: 'event_group_applicant_cnt',\r\n      key: uuid(),\r\n      align: 'center',\r\n      width: 100,\r\n      render: (item, record, idx) => {\r\n        return `${item}명`;\r\n      },\r\n    },\r\n    {\r\n      title: '연락처',\r\n      dataIndex: 'is_user_phone',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        if (item === null) {\r\n          return null;\r\n        }\r\n        return formatPhoneNumber(item);\r\n      },\r\n    },\r\n    {\r\n      title: '신청상태',\r\n      dataIndex: 'event_applicant_state',\r\n      width: 150,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (item, record, idx) => {\r\n        return (\r\n          <Select\r\n            value={item}\r\n            onChange={(e) => {\r\n              console.log(e);\r\n              console.log(record);\r\n              axios\r\n                .post(`/event/modify/applicant`, {\r\n                  eventValues: {\r\n                    event_applicant_state: e,\r\n                    event_applicant_idx: record.event_applicant_idx,\r\n                    event_master_idx: event_master_idx,\r\n                  },\r\n                })\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  getEnrolleeList(eventApplicantState);\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                });\r\n            }}\r\n          >\r\n            <Select.Option value={'APPLY'}>신청완료</Select.Option>\r\n            <Select.Option value={'CANCEL'}>신청취소</Select.Option>\r\n          </Select>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'modify_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        return item;\r\n      },\r\n    },\r\n  ];\r\n  const getEnrolleeList = (event_applicant_state) => {\r\n    axios\r\n      .get(`/event/applicant`, {\r\n        params: {\r\n          event_master_idx: event_master_idx,\r\n          event_applicant_state: event_applicant_state,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setEnrolleeList(res.data.response_body);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEnrolleeList(eventApplicantState);\r\n  }, [eventApplicantState]);\r\n\r\n  return (\r\n    <div>\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>신청자 목록</Text>\r\n      </Divider>\r\n      <div>\r\n        <Radio.Group\r\n          value={eventApplicantState}\r\n          onChange={(e) => {\r\n            setEventApplicantState(e.target.value);\r\n          }}\r\n          style={{ margin: '10px' }}\r\n        >\r\n          <Radio value={'APPLY'}>신청완료</Radio>\r\n          <Radio value={'CANCEL'}>신청취소</Radio>\r\n        </Radio.Group>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={enrolleeList}\r\n        columns={columns}\r\n        size=\"small\"\r\n        bordered\r\n        pagination={{\r\n          pageSize: 50,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailEnrolleeListComponent;\r\n","export const formatPhoneNumber = (str = '') => {\r\n  return str\r\n    .replace(/[^0-9]/g, '')\r\n    .replace(\r\n      /(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,\r\n      '$1-$2-$3'\r\n    )\r\n    .replace('--', '-');\r\n};\r\n","import { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Space } from 'antd';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport EventDetailComponent from './EventDetailComponent';\r\nimport EventDetailEnrolleeListComponent from './EventDetailEnrolleeListComponent';\r\n\r\nconst EventDetailContainer = (props) => {\r\n  const { event_master_idx } = props.match.params;\r\n  const [event, setEvent] = useState();\r\n\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getEvent();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    sendImages(fileList, event_master_idx);\r\n  }, [fileList]);\r\n\r\n  useEffect(() => {\r\n    getEventPoster(event);\r\n  }, [event]);\r\n\r\n  const getEvent = () => {\r\n    axios\r\n      .get(`/event/detail/${event_master_idx}`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setEvent(res.data.response_body);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getEventPoster = (event) => {\r\n    if (event && event.event_poster && event.event_poster.event_poster_file_name) {\r\n      let uid = event.event_poster.event_poster_file_name.split('.')[0];\r\n      let extension = event.event_poster.event_poster_file_name.split('.')[1];\r\n      let tempFileList = [\r\n        {\r\n          uid: uid,\r\n          name: event.event_poster.event_poster_file_name,\r\n          status: 'done',\r\n          type: `image/${extension}`,\r\n          url: `${axios.defaults.baseURL}/files/event/${event.event_poster.event_poster_file_name}`,\r\n        },\r\n      ];\r\n      setFileList(tempFileList);\r\n    }\r\n  };\r\n\r\n  const deleteEvent = (event_master_idx) => {\r\n    axios\r\n      .delete(`/event/delete/${event_master_idx}`)\r\n      .then((res) => {\r\n        props.history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, event_master_idx) => {\r\n    if (imageList.length === 0) {\r\n      return;\r\n    }\r\n    if ('status' in imageList[0]) {\r\n      return;\r\n    }\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'GES_EVENT',\r\n        idx: idx,\r\n        ref_idx: event_master_idx,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '90%', margin: 'auto', marginBottom: '50px' }}>\r\n      <MenuGuide title={'행사 등록 관리 ▶ 행사 상세'} subTitle={''} />\r\n\r\n      {event ? (\r\n        <div>\r\n          <EventDetailComponent\r\n            eventMaster={event.event_master}\r\n            eventTarget={event.event_target}\r\n            eventPoster={event.event_poster}\r\n            setFileList={setFileList}\r\n            fileList={fileList}\r\n          />\r\n          <Space style={{ marginTop: '10px' }}>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                props.history.push(`/event/form/${event_master_idx}`, {\r\n                  event: event,\r\n                });\r\n              }}\r\n            >\r\n              수정\r\n            </Button>\r\n            <Button\r\n              danger\r\n              onClick={() => {\r\n                confirm({\r\n                  title: '행사를 삭제하시겠습니까?',\r\n                  icon: <ExclamationCircleOutlined style={{ color: 'red' }} />,\r\n                  content: '',\r\n                  okText: '확인',\r\n                  cancelText: '취소',\r\n                  onOk() {\r\n                    deleteEvent(event_master_idx);\r\n                  },\r\n                  onCancel() {},\r\n                });\r\n              }}\r\n            >\r\n              삭제\r\n            </Button>\r\n          </Space>\r\n        </div>\r\n      ) : null}\r\n      <EventDetailEnrolleeListComponent event_master_idx={event_master_idx} getEvent={getEvent} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Button,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  InputNumber,\r\n  TimePicker,\r\n  Radio,\r\n} from 'antd';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Prompt } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nconst EventFormComponent = (props) => {\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [isBack, setIsBack] = useState(true);\r\n  const [eventIsGroup, setEventIsGroup] = useState(true);\r\n  const [form] = Form.useForm();\r\n  const [mode, setMode] = useState('regist');\r\n  const [maxGroupCnt, setMaxGroupCnt] = useState(1);\r\n\r\n  useEffect(() => {\r\n    console.log('EventFormComponent useEffect');\r\n    console.log(props);\r\n\r\n    enablePrevent();\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.location.state && props.location.state.event) {\r\n      setMode('modify');\r\n      console.log(mode);\r\n\r\n      let {\r\n        event_master,\r\n        event_poster,\r\n        event_target,\r\n      } = props.location.state.event;\r\n      setMaxGroupCnt(event_master.event_applicant_limit_cnt);\r\n\r\n      form.setFieldsValue({\r\n        event_title: event_master.event_title,\r\n        event_description: event_master.event_description,\r\n        event_place: event_master.event_place,\r\n        event_target_sex: event_target.event_target_sex,\r\n        event_target_age: event_target.event_target_age,\r\n        event_apply_period_date: [\r\n          moment(event_master.event_apply_start_date),\r\n          moment(event_master.event_apply_end_date),\r\n        ],\r\n        event_activity_period_date: [\r\n          moment(event_master.event_activity_start_date),\r\n          moment(event_master.event_activity_end_date),\r\n        ],\r\n        event_activity_weekday: event_master.event_activity_weekday.split(','),\r\n        event_activity_time: [\r\n          moment(event_master.event_activity_start_time, 'h:mm'),\r\n          moment(event_master.event_activity_end_time, 'h:mm'),\r\n        ],\r\n        event_applicant_limit_cnt: event_master.event_applicant_limit_cnt,\r\n        event_is_group: event_master.event_is_group,\r\n        event_group_limit_cnt: event_master.event_group_limit_cnt,\r\n        event_is_public: event_master.event_is_public,\r\n      });\r\n    }\r\n  }, [props]);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n\r\n    if (values.event_activity_period_date) {\r\n      let startDate = values.event_activity_period_date[0];\r\n      let endDate = values.event_activity_period_date[1];\r\n\r\n      values['event_activity_start_date'] = startDate.format('YYYY-MM-DD');\r\n      values['event_activity_end_date'] = endDate.format('YYYY-MM-DD');\r\n    }\r\n\r\n    if (values.event_apply_period_date) {\r\n      let startDate = values.event_apply_period_date[0];\r\n      let endDate = values.event_apply_period_date[1];\r\n\r\n      values['event_apply_start_date'] = startDate.format('YYYY-MM-DD');\r\n      values['event_apply_end_date'] = endDate.format('YYYY-MM-DD');\r\n    }\r\n\r\n    if (values.event_activity_time) {\r\n      let startTime = values.event_activity_time[0];\r\n      let endTime = values.event_activity_time[1];\r\n\r\n      values['event_activity_start_time'] = startTime.format('HH:mm');\r\n      values['event_activity_end_time'] = endTime.format('HH:mm');\r\n    }\r\n\r\n    if (values.event_activity_weekday) {\r\n      values[\r\n        'event_activity_weekday'\r\n      ] = values.event_activity_weekday.sort().toString();\r\n    }\r\n\r\n    axios\r\n      .post(\r\n        mode === 'regist'\r\n          ? `/event/new`\r\n          : `/event/modify/${props.location.state.event.event_master.event_master_idx}`,\r\n        {\r\n          eventValues: values,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        // props.history.replace(`/event/detail/${res}`);\r\n\r\n        if (res.data.description.includes('Success')) {\r\n          setIsBack(false);\r\n          props.history.replace(\r\n            `/event/detail/${res.data.response_body.event_master.event_master_idx}`\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const rangeConfig = {\r\n    rules: [{ type: 'array', required: true, message: '기간을 선택해주세요' }],\r\n  };\r\n\r\n  const initialValues = () => {};\r\n  return (\r\n    <div>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <Form\r\n        className='event-form'\r\n        form={form}\r\n        validateMessages={validateMessages}\r\n        onFinish={onFinish}\r\n        initialValues={initialValues}\r\n      >\r\n        <FormGuideComponent title='행사명' guide='' required={true} />\r\n        <Form.Item name='event_title' rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 설명' guide='' required={true} />\r\n        <Form.Item name='event_description' rules={[{ required: true }]}>\r\n          <TextArea />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 장소' guide='' required={true} />\r\n        <Form.Item name='event_place' rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 대상 - 성별' guide='' />\r\n        <Form.Item\r\n          name='event_target_sex'\r\n          rules={[{ required: true }]}\r\n          initialValue={'COMMON'}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value='COMMON'>제한없음</Radio>\r\n            <Radio value='MALE'>남자</Radio>\r\n            <Radio value='FEMALE'>여자</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 대상 - 연령' guide='' />\r\n        <Form.Item\r\n          name='event_target_age'\r\n          rules={[{ required: true }]}\r\n          initialValue={0}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value={0}>제한없음</Radio>\r\n            <Radio value={6}>{`유아(6~7 세)`}</Radio>\r\n            <Radio value={8}>{`초등(8~13 세)`}</Radio>\r\n            <Radio value={14}>{`청소년(14~19 세)`}</Radio>\r\n            <Radio value={20}>{`성인`}</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 신청 기간' guide='' required={true} />\r\n        <Form.Item name='event_apply_period_date' {...rangeConfig}>\r\n          <DatePicker.RangePicker />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 수행 기간' guide='' required={true} />\r\n        <Form.Item name='event_activity_period_date' {...rangeConfig}>\r\n          <DatePicker.RangePicker />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 요일 선택' guide='' required={true} />\r\n        <Form.Item name='event_activity_weekday' rules={[{ required: true }]}>\r\n          <Checkbox.Group style={{ width: '100%' }}>\r\n            <Row>\r\n              <Col span={2}>\r\n                <Checkbox value='0'>월</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='1'>화</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='2'>수</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='3'>목</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='4'>금</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='5'>토</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='6'>일</Checkbox>\r\n              </Col>\r\n            </Row>\r\n          </Checkbox.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent\r\n          title='행사 시작/종료 시간'\r\n          guide=''\r\n          required={true}\r\n        />\r\n        <Form.Item name='event_activity_time' rules={[{ required: true }]}>\r\n          <TimePicker.RangePicker\r\n            placeholder={[`시작시간`, `종료시간`]}\r\n            format={`HH:mm`}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 최대 정원' guide='' />\r\n        <Form.Item\r\n          name='event_applicant_limit_cnt'\r\n          rules={[{ required: true }]}\r\n          initialValue={1}\r\n        >\r\n          <InputNumber\r\n            min={1}\r\n            formatter={(value) => `${value} 명`}\r\n            onChange={(e) => setMaxGroupCnt(e)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent\r\n          title='행사 그룹 신청 여부'\r\n          guide='한명의 회원이 다수의 회원 신청(익명)이 가능합니다.'\r\n        />\r\n        <Form.Item\r\n          name='event_is_group'\r\n          rules={[{ required: true }]}\r\n          initialValue={'Y'}\r\n        >\r\n          <Radio.Group\r\n            onChange={(e) => {\r\n              console.log(e.target.value);\r\n              setEventIsGroup(e.target.value === 'Y');\r\n            }}\r\n          >\r\n            <Radio value='Y'>허용</Radio>\r\n            <Radio value='N'>비허용</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        {eventIsGroup ? (\r\n          <FormGuideComponent\r\n            title='행사 그룹 신청 가능 회원 수'\r\n            guide='한명의 회원이 다수의 회원 신청(익명)이 가능합니다.'\r\n          />\r\n        ) : null}\r\n\r\n        {eventIsGroup ? (\r\n          <Form.Item\r\n            name='event_group_limit_cnt'\r\n            rules={[{ required: true }]}\r\n            initialValue={1}\r\n          >\r\n            <InputNumber\r\n              min={1}\r\n              formatter={(value) => `${value} 명`}\r\n              max={maxGroupCnt}\r\n            />\r\n          </Form.Item>\r\n        ) : null}\r\n\r\n        <FormGuideComponent\r\n          title='행사 공개 여부'\r\n          guide='예약시스템에서 숨김처리가 가능합니다.'\r\n        />\r\n        <Form.Item\r\n          name='event_is_public'\r\n          rules={[{ required: true }]}\r\n          initialValue={'Y'}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value='Y'>공개</Radio>\r\n            <Radio value='N'>비공개</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type='primary' htmlType='submit' block>\r\n            등 록\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventFormComponent;\r\n","import { message } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport './Event.css';\r\nimport EventFormComponent from './EventFormComponent';\r\nconst EventFormContainer = (props) => {\r\n  const [eventIdx, setEventIdx] = useState('');\r\n  const [event, setEvent] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    return () => {};\r\n  }, [fileList]);\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    const reg = /^-?\\d*?$/;\r\n    if (!isNaN(value) && reg.test(value)) {\r\n      setEventIdx(value);\r\n    }\r\n  };\r\n\r\n  const registerEvent = () => {\r\n    if (!eventIdx) {\r\n      message.error('행사 등록 번호를 입력해주세요.');\r\n    }\r\n    axios\r\n      .post(`/ayevent/registAyEvent`, {\r\n        IDX: eventIdx,\r\n      })\r\n      .then((res) => {\r\n        let { ayEvent = { IDX: 0, event_idx: 0 } } = res.data;\r\n        if (fileList.length > 0) {\r\n          sendImages(fileList, ayEvent.IDX);\r\n        } else {\r\n          props.history.push('/is');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, IDX) => {\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'AY_EVENT',\r\n        idx: idx,\r\n        ref_idx: IDX,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData, {\r\n        headers: {\r\n          'content-type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        props.history.push('/is');\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getEvent = () => {\r\n    if (eventIdx) {\r\n      axios\r\n        .get(`/ayevent/getProgram`, {\r\n          params: {\r\n            IDX: eventIdx,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setEvent(res.data.program);\r\n          setFileList([]);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div style={{ width: '90%', margin: 'auto' }}>\r\n      <MenuGuide\r\n        title={'행사 관리 ▶ 행사 등록'}\r\n        subTitle={'행사 정보를 입력 해주세요.'}\r\n      />\r\n      <EventFormComponent {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventFormContainer;\r\n","import {\r\n  DeleteOutlined,\r\n  QuestionCircleOutlined,\r\n  CaretRightOutlined,\r\n} from '@ant-design/icons';\r\nimport { Button, DatePicker, List, Space, Popconfirm } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport { Map } from 'immutable';\r\n\r\nconst ItemLoanDetailMasterBlockComponent = (props) => {\r\n  const {\r\n    itemMaster = {\r\n      blockScheduleList: [],\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n  const [datePickerValue, setDatePickerValue] = useState([]);\r\n  useEffect(() => {\r\n    getClosureSchedule();\r\n  }, []);\r\n  useEffect(() => {}, [props]);\r\n  const [closureList, setClosureList] = useState([]);\r\n  const [blockPeriod, setBlockPeriod] = useState({\r\n    block_start_date: '',\r\n    block_end_date: '',\r\n  });\r\n  const getClosureSchedule = () => {\r\n    axios\r\n      .get(`/lib/getLibClosureAfterNow`, {})\r\n      .then((res) => {\r\n        setClosureList(res.data.closureList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  const disabledDate = (current = moment()) => {\r\n    // Can not select days before today and today\r\n\r\n    var closureDate = closureList.find(\r\n      (closure) => closure.closure_date === current.format('YYYY-MM-DD')\r\n    );\r\n\r\n    // 지우지 마시오. 휴관일과 달력 매칭하는 로직임\r\n    // var closureDateBoolean =\r\n    //   current.format(\"YYYY-MM-DD\") ===\r\n    //   (closureDate ? closureDate.closure_date : null);\r\n\r\n    return (\r\n      current.startOf('day') < moment().startOf('day') //|| closureDateBoolean // 이것도 지우지 마시오\r\n    );\r\n  };\r\n\r\n  const addBlockPeriod = () => {\r\n    if (!blockPeriod.block_start_date || !blockPeriod.block_end_date) return;\r\n\r\n    axios\r\n      .post(`/is/modifyLoanItemBlockSchedule`, {\r\n        ...itemMaster,\r\n        ...blockPeriod,\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(res.data.itemMaster);\r\n        blockPeriod.block_start_date = '';\r\n        blockPeriod.block_end_date = '';\r\n        setBlockPeriod(Map(blockPeriod).toJS());\r\n        setDatePickerValue([]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const deleteBlockPeriod = (blockPeriod) => {\r\n    axios\r\n      .post(`/is/deleteLoanItemBlockSchedule`, blockPeriod)\r\n      .then((res) => {\r\n        setItemMaster(res.data.itemMaster);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  return (\r\n    <div className='ItemLoanDetailMasterBlockComponentWrap'>\r\n      <Space>\r\n        <DatePicker.RangePicker\r\n          value={datePickerValue}\r\n          disabledDate={disabledDate}\r\n          renderExtraFooter={() => '신청 불가 시작일과 종료일을 선택해주세요'}\r\n          onChange={(e) => {\r\n            setDatePickerValue(e);\r\n            blockPeriod.block_start_date = e[0].format('YYYY-MM-DD');\r\n            blockPeriod.block_end_date = e[1].format('YYYY-MM-DD');\r\n            setBlockPeriod(Map(blockPeriod).toJS());\r\n          }}\r\n          style={{ width: '360px' }}\r\n        />\r\n        <Button\r\n          type='primary'\r\n          onClick={() => {\r\n            addBlockPeriod();\r\n          }}\r\n        >\r\n          추 가\r\n        </Button>\r\n      </Space>\r\n      <div>\r\n        <List\r\n          className='blockList'\r\n          size='small'\r\n          bordered={false}\r\n          style={{ marginTop: '10px', width: '426.729px' }}\r\n          dataSource={itemMaster.blockScheduleList}\r\n          renderItem={(item, index) => {\r\n            return (\r\n              <List.Item\r\n                style={{\r\n                  padding: '0',\r\n                  margin: '10px 0px',\r\n                  border: '0',\r\n                }}\r\n              >\r\n                <Text style={{ fontFamily: 'NanumGothic' }}>\r\n                  <CaretRightOutlined />\r\n                  {` ${item.block_start_date} ~ ${item.block_end_date} 신청 불가`}\r\n                </Text>\r\n                <Popconfirm\r\n                  title='삭제하시겠습니까?'\r\n                  icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                  onConfirm={() => {\r\n                    deleteBlockPeriod(item);\r\n                  }}\r\n                  onCancel={() => {\r\n                    return;\r\n                  }}\r\n                  okText='예'\r\n                  cancelText='아니오'\r\n                >\r\n                  <Button\r\n                    type='dashed'\r\n                    size='small'\r\n                    block\r\n                    style={{\r\n                      width: '58.06px',\r\n                      textAlign: 'center',\r\n                      padding: 0,\r\n                    }}\r\n                  >\r\n                    <DeleteOutlined\r\n                      style={{\r\n                        fontSize: '1.2em',\r\n                        position: 'relative',\r\n                        top: '2px',\r\n                        color: '#c0392b',\r\n                      }}\r\n                    />\r\n                  </Button>\r\n                </Popconfirm>\r\n              </List.Item>\r\n            );\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterBlockComponent;\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst ItemLoanDetailMasterEquipComponent = (props) => {\r\n  const { selectedEquipList = [], onChangeEquip, equipList = [] } = props;\r\n  return (\r\n    <div>\r\n      <Select\r\n        value={selectedEquipList}\r\n        mode=\"multiple\"\r\n        showArrow\r\n        placeholder=\"IS를 선택해주세요\"\r\n        style={{ width: \"100%\" }}\r\n        onChange={(e) => {\r\n          onChangeEquip(e);\r\n        }}\r\n      >\r\n        {equipList.map((item, idx) => {\r\n          return (\r\n            <Select.Option key={uuid()} value={item.idx}>\r\n              {item.eqpName}\r\n            </Select.Option>\r\n          );\r\n        })}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterEquipComponent;\r\n","import Text from \"antd/lib/typography/Text\";\r\nimport React from \"react\";\r\n\r\nconst ItemLoanDetailMasterLoanReturnStatusComponent = (props) => {\r\n  const { itemMaster } = props;\r\n  if (itemMaster.item_master_loan_mode === \"start\") {\r\n    return (\r\n      <Text>\r\n        대여일 기준{\" \"}\r\n        <Text style={{ color: \"#1e90ff\" }}>\r\n          {itemMaster.item_master_loan_days}\r\n        </Text>{\" \"}\r\n        일 후 반납\r\n      </Text>\r\n    );\r\n  } else if (itemMaster.item_master_loan_mode === \"end\") {\r\n    return (\r\n      <Text>\r\n        반납일 기준{\" \"}\r\n        <Text style={{ color: \"#1e90ff\" }}>\r\n          {itemMaster.item_master_end_date}\r\n        </Text>{\" \"}\r\n        까지 반납\r\n      </Text>\r\n    );\r\n  } else {\r\n    return <Text>제한 없음</Text>;\r\n  }\r\n};\r\n\r\nexport default ItemLoanDetailMasterLoanReturnStatusComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { TimePicker, Button, Space } from 'antd';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport { confirm } from '../../ConfirmModal';\r\n\r\nconst ItemLoanDetailMasterOperationTimeComponent = (props) => {\r\n  const {\r\n    itemMaster = {\r\n      ...props.itemMaster,\r\n      item_master_operation_start_time: '',\r\n      item_master_operation_end_time: '',\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n  const [isEditable, setIsEditable] = useState(false);\r\n  const [timeValue, setTimeValue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (itemMaster.item_master_operation_start_time) {\r\n      setTimeValue([\r\n        moment(itemMaster.item_master_operation_start_time, 'HH:mm'),\r\n        moment(itemMaster.item_master_operation_end_time, 'HH:mm'),\r\n      ]);\r\n    }\r\n  }, [props]);\r\n\r\n  const modifyOperationTime = () => {\r\n    if (timeValue.length > 2) return;\r\n    confirm({\r\n      title: `운영 시간을 변경하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/updateIsItemOperationTime`, {\r\n            item_master_idx: itemMaster.item_master_idx,\r\n            item_master_operation_start_time: timeValue[0].format('HH:mm'),\r\n            item_master_operation_end_time: timeValue[1].format('HH:mm'),\r\n          })\r\n          .then((res) => {\r\n            setItemMaster(res.data.itemMaster);\r\n            setIsEditable(false);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {\r\n        setIsEditable(false);\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <Space>\r\n        <TimePicker.RangePicker\r\n          className='operationTimePick'\r\n          style={{ width: '360.67px' }}\r\n          format={'HH:mm'}\r\n          disabled={!isEditable}\r\n          value={timeValue}\r\n          onChange={(e) => {\r\n            setTimeValue(e);\r\n          }}\r\n        />\r\n        <Button\r\n          type='primary'\r\n          className={isEditable ? 'operationTimeApplyBtn' : ''}\r\n          onClick={() => {\r\n            if (isEditable) {\r\n              modifyOperationTime();\r\n            } else {\r\n              setIsEditable(!isEditable);\r\n            }\r\n          }}\r\n        >\r\n          {isEditable ? '적 용' : '변 경'}\r\n        </Button>\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterOperationTimeComponent;\r\n","import React from 'react';\r\nimport { Popover, Badge, Space, Modal } from 'antd';\r\n\r\nconst ItemLoanDetailMasterStatusComponent = (props) => {\r\n  const { isBlockSettingVisible, setIsBlockSettingVisible, itemMaster, modifyIsItemMasterIsBlock } = props;\r\n\r\n  const isBlockPopOver = () => {\r\n    return (\r\n      <Space direction=\"vertical\">\r\n        <Badge\r\n          status=\"processing\"\r\n          text=\"정상 운영\"\r\n          onClick={(e) => {\r\n            if (itemMaster.item_master_is_block === 'Y') {\r\n              Modal.error({\r\n                title: '변경이 불가합니다.',\r\n                content: '운영시간 또는 대여 불가 기간을 확인해주세요.',\r\n              });\r\n            } else if (itemMaster.item_master_is_block === 'N' && itemMaster.item_master_is_block_origin === 'Y') {\r\n              modifyIsItemMasterIsBlock('N');\r\n            }\r\n            setIsBlockSettingVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          status=\"default\"\r\n          text=\"대여 불가\"\r\n          onClick={(e) => {\r\n            if (itemMaster.item_master_is_block_origin === 'N') {\r\n              modifyIsItemMasterIsBlock('Y');\r\n            }\r\n            setIsBlockSettingVisible(false);\r\n          }}\r\n        />\r\n      </Space>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Popover content={isBlockPopOver} title=\"물품 상태 변경\" trigger=\"click\" className=\"isBlockSetting\" visible={isBlockSettingVisible}>\r\n      {itemMaster.item_master_is_block_origin === 'Y' || (itemMaster.item_master_is_block_origin === 'N' && itemMaster.item_master_is_block === 'Y') ? (\r\n        <Badge\r\n          status=\"default\"\r\n          text=\"대여 불가\"\r\n          onClick={() => {\r\n            setIsBlockSettingVisible(true);\r\n          }}\r\n        />\r\n      ) : (\r\n        <Badge\r\n          status=\"processing\"\r\n          text=\"정상 운영\"\r\n          onClick={() => {\r\n            setIsBlockSettingVisible(true);\r\n          }}\r\n        />\r\n      )}\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterStatusComponent;\r\n","/* eslint-disable no-undef */\r\nimport { CaretDownOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport { Button, Collapse, Descriptions, Modal, Space } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { confirm } from '../../ConfirmModal';\r\nimport ItemLoanDetailMasterBlockComponent from './ItemLoanDetailMasterBlockComponent';\r\nimport ItemLoanDetailMasterEquipComponent from './ItemLoanDetailMasterEquipComponent';\r\nimport ItemLoanDetailMasterLoanReturnStatusComponent from './ItemLoanDetailMasterLoanReturnStatusComponent';\r\nimport ItemLoanDetailMasterOperationTimeComponent from './ItemLoanDetailMasterOperationTimeComponent';\r\nimport ItemLoanDetailMasterStatusComponent from './ItemLoanDetailMasterStatusComponent';\r\n\r\nconst ItemLoanDetailMasterComponent = (props) => {\r\n  const [isBlockSettingVisible, setIsBlockSettingVisible] = useState(false);\r\n  const [equipList, setEquipList] = useState([]);\r\n  const [selectedEquipList, setSelectedEquipList] = useState([]);\r\n  const {\r\n    itemMaster = {\r\n      item_master_idx: '',\r\n      item_master_subject: '',\r\n      item_master_desc: '',\r\n      total_item_cnt: '',\r\n      item_master_is_block: '',\r\n      item_status_state: '',\r\n      is_item_loaning_cnt: '',\r\n      is_item_ready_cnt: '',\r\n      is_reserve_cnt: '',\r\n      is_inspection_cnt: '',\r\n      is_block_cnt: '',\r\n      group_concat_equip_idx: '',\r\n      item_master_is_editable: '',\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    getIsEquipList();\r\n    setSelectedEquipList(itemMaster.group_concat_equip_idx ? itemMaster.group_concat_equip_idx.split(',').map((item) => parseInt(item)) : []);\r\n\r\n    return () => {};\r\n  }, [props]);\r\n\r\n  const deleteIsItemMaster = (YN) => {\r\n    confirm({\r\n      title: `물품을 삭제하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/deleteItemMaster`, {\r\n            item_master_is_del: YN,\r\n            item_master_idx: itemMaster.item_master_idx,\r\n          })\r\n          .then((res) => {\r\n            props.history.replace('/is', {});\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {},\r\n    });\r\n  };\r\n\r\n  const modifyIsItemMasterIsBlock = (YN) => {\r\n    if (itemMaster.item_master_is_block === 'Y') {\r\n      Modal.error({\r\n        width: 500,\r\n        title: `물품 상태를 정상운영 상태로 변경 할 수 없습니다.`,\r\n        content: `대여 불가 기간 및 이용시간을 확인해주세요`,\r\n        onOk() {},\r\n      });\r\n    } else {\r\n      confirm({\r\n        title: `물품 상태를 변경하시겠습니까?`,\r\n        content: ``,\r\n        onOk: () => {\r\n          axios\r\n            .post(`/is/modifyIsItemMasterIsBlock`, {\r\n              item_master_is_block: YN,\r\n              item_master_idx: itemMaster.item_master_idx,\r\n            })\r\n            .then((res) => {\r\n              setItemMaster(res.data);\r\n            })\r\n            .catch((err) => {\r\n              console.error(err);\r\n            });\r\n        },\r\n        onCancle: () => {},\r\n      });\r\n    }\r\n  };\r\n\r\n  const onChangeEquip = (e) => {\r\n    confirm({\r\n      title: `적용 IS를 변경하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/modifyIsItemEquip`, {\r\n            item_master_idx: itemMaster.item_master_idx,\r\n            equipIdxList: e,\r\n          })\r\n          .then((res) => {\r\n            setItemMaster(res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {},\r\n    });\r\n  };\r\n\r\n  const getIsEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: 'is',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"ItemLoanDetailMasterComponentWrap\"\r\n      onClick={(e) => {\r\n        if (isBlockSettingVisible) {\r\n          setIsBlockSettingVisible(false);\r\n        }\r\n      }}\r\n    >\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"물품 명\" span={3}>\r\n          <Text>{`${itemMaster.item_master_subject ? itemMaster.item_master_subject : ''}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"물품 설명\" span={3}>\r\n          <Text>{itemMaster.item_master_desc && <pre style={{ fontFamily: 'NotoSansKR-Bold', fontSize: '0.98em' }}>{itemMaster.item_master_desc}</pre>}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"물품 상태\" span={3}>\r\n          <ItemLoanDetailMasterStatusComponent\r\n            modifyIsItemMasterIsBlock={modifyIsItemMasterIsBlock}\r\n            isBlockSettingVisible={isBlockSettingVisible}\r\n            setIsBlockSettingVisible={setIsBlockSettingVisible}\r\n            itemMaster={itemMaster}\r\n          />\r\n        </Descriptions.Item>\r\n        {/* <Descriptions.Item label='SMS 발송 여부' span={1}>\r\n          <ItemLoanDetailMasterIsAutoComponent\r\n            itemMaster={itemMaster}\r\n            setItemMaster={setItemMaster}\r\n          />\r\n        </Descriptions.Item> */}\r\n        <Descriptions.Item label=\"물품 현황\" span={3}>\r\n          <Space direction=\"horizontal\" size=\"large\">\r\n            <div>전체 : {itemMaster.total_item_cnt}</div>\r\n            <div>대여가능 : {itemMaster.is_item_ready_cnt}</div>\r\n            <div>예약중 : {itemMaster.is_reserve_cnt}</div>\r\n            <div>대여중 : {itemMaster.is_item_loaning_cnt}</div>\r\n            <div>점검중 : {itemMaster.is_inspection_cnt}</div>\r\n            <div>대여불가 : {itemMaster.is_block_cnt}</div>\r\n          </Space>\r\n        </Descriptions.Item>\r\n\r\n        <Descriptions.Item label=\"반납일 상태\" span={3}>\r\n          <ItemLoanDetailMasterLoanReturnStatusComponent itemMaster={itemMaster} />\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"적용된 시스템\" span={3}>\r\n              <ItemLoanDetailMasterEquipComponent onChangeEquip={onChangeEquip} selectedEquipList={selectedEquipList} equipList={equipList} />\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n              <ItemLoanDetailMasterOperationTimeComponent itemMaster={itemMaster} setItemMaster={setItemMaster} />\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"대여 불가 기간 설정\" span={3}>\r\n              <ItemLoanDetailMasterBlockComponent itemMaster={itemMaster} setItemMaster={setItemMaster} />\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              <Link\r\n                to={{\r\n                  pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n                }}\r\n              >\r\n                <Button type=\"primary\">정보 및 목록 수정</Button>\r\n              </Link>\r\n              {itemMaster.item_master_is_editable === 'Y' ? (\r\n                <Button type=\"primary\" danger onClick={() => deleteIsItemMaster('Y')}>\r\n                  삭 제\r\n                </Button>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterComponent;\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Popover, Badge, Space, Modal } from 'antd';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nconst ItemLoanDetailPropStatusComponent = (props) => {\r\n  const { itemDetail, setItemMaster, isVisible, setIsVisible } = props;\r\n\r\n  useEffect(() => {\r\n    return () => {};\r\n  });\r\n\r\n  const modifyIsItemPropState = (itemDetailParam) => {\r\n    axios\r\n      .post(`/is/modifyIsItemPropState`, itemDetailParam)\r\n      .then((res) => {\r\n        setItemMaster(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const isBlockPopOver = () => {\r\n    return (\r\n      <Space direction='vertical'>\r\n        <Badge\r\n          className='status-ready-badge'\r\n          status='processing'\r\n          text='대여 가능'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'block' ||\r\n              itemDetail.item_status_state === 'inspection'\r\n            ) {\r\n              itemDetail.item_status_state = 'ready';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              confirm({\r\n                title: '예약 중인 물품 입니다.',\r\n                icon: <ExclamationCircleOutlined style={{ color: 'red' }} />,\r\n                content: '대여 가능한 상태로 변경하시겠습니까?',\r\n                okText: '확인',\r\n                cancelText: '취소',\r\n                onOk() {\r\n                  itemDetail.item_status_state = 'ready';\r\n                  modifyIsItemPropState(itemDetail);\r\n                },\r\n                onCancel() {},\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          className='status-inspection-badge'\r\n          status='processing'\r\n          text='점검 중'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'block' ||\r\n              itemDetail.item_status_state === 'ready'\r\n            ) {\r\n              itemDetail.item_status_state = 'inspection';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              Modal.error({\r\n                title: `예약 중인 물품입니다.`,\r\n                content: '대여 가능 상태로 변경해주세요.',\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          className='status-block-badge'\r\n          status='processing'\r\n          text='대여 불가'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'inspection' ||\r\n              itemDetail.item_status_state === 'ready'\r\n            ) {\r\n              itemDetail.item_status_state = 'block';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              Modal.error({\r\n                title: '예약 중인 물품입니다.',\r\n                content: '대여 가능 상태로 변경해주세요.',\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n      </Space>\r\n    );\r\n  };\r\n\r\n  const calcLeftTime = () => {\r\n    let startTime = moment(\r\n      itemDetail.item_prop_subject.split('-')[0],\r\n      'HH:mm'\r\n    ).format('HHmm');\r\n    let endTime = moment(\r\n      itemDetail.item_prop_subject.split('-')[1],\r\n      'HH:mm'\r\n    ).format('HHmm');\r\n    let nowTime = moment().format('HHmm');\r\n\r\n    if (\r\n      itemDetail.item_master_idx == Constants.OFFICE_ITEM_MASTER_IDX &&\r\n      itemDetail.reserve_left_time < itemDetail.reserve_left_time_for_office\r\n    ) {\r\n      let hour = Math.floor(itemDetail.reserve_left_time_for_office / 60);\r\n      let minutes = itemDetail.reserve_left_time_for_office % 60;\r\n      return `${hour !== 0 ? `${hour}시간 ` : ''}${minutes}분`;\r\n    } else {\r\n      return `${itemDetail.reserve_left_time}분`;\r\n    }\r\n  };\r\n\r\n  const PropsStateComponent = () => {\r\n    if (itemDetail.item_status_state === 'ready') {\r\n      return (\r\n        <Badge\r\n          className='status-ready-badge'\r\n          status='processing'\r\n          text='대여 가능'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'inspection') {\r\n      return (\r\n        <Badge\r\n          className='status-inspection-badge'\r\n          status='processing'\r\n          text='점검 중'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'block') {\r\n      return (\r\n        <Badge\r\n          className='status-block-badge'\r\n          status='processing'\r\n          text='대여 불가'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'reserve') {\r\n      return (\r\n        <Badge\r\n          className='status-reserve-badge'\r\n          status='processing'\r\n          text={`예약 중 (${calcLeftTime()} 남음)`}\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'loaning') {\r\n      return (\r\n        <Badge\r\n          status='processing'\r\n          text='대여 중'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return <></>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      content={isBlockPopOver}\r\n      title='물품 상태 변경'\r\n      trigger='click'\r\n      className='isBlockSetting'\r\n      visible={isVisible}\r\n    >\r\n      <PropsStateComponent />\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailPropStatusComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Modal,\r\n  DatePicker,\r\n  Table,\r\n  Space,\r\n  Collapse,\r\n  Input,\r\n  Select,\r\n  Button,\r\n} from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport * as Constants from '../../Constants';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nclass FilterObject {\r\n  constructor() {\r\n    this.item_prop_uuid = '';\r\n    this.start_date = moment(new Date()).add(-7, 'd').format(dateFormat);\r\n    this.end_date = moment(new Date()).format(dateFormat);\r\n    this.user_id = '';\r\n    this.state = 'total';\r\n  }\r\n}\r\n\r\nconst ItemLoanDetailItemHistoryComponent = (props) => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage')\r\n      ? Number.parseInt(sessionStorage.getItem('currentPage'))\r\n      : 1\r\n  );\r\n  const [filter, setFilter] = useState(new FilterObject());\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(\r\n          sessionStorage.getItem('currentPage')\r\n        );\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '일자',\r\n      dataIndex: 'item_status_reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '사용자',\r\n      dataIndex: 'user_info',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '연락처',\r\n      dataIndex: 'is_user_phone',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '처리 상태',\r\n      dataIndex: 'item_status_state',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        if (item === 'loaning') {\r\n          return (\r\n            <Text\r\n              style={{\r\n                color: '#077707',\r\n              }}\r\n            >\r\n              대여\r\n            </Text>\r\n          );\r\n        }\r\n        if (item === 'return') {\r\n          return (\r\n            <Text\r\n              style={{\r\n                color: '#e74c3c',\r\n              }}\r\n            >\r\n              반납\r\n            </Text>\r\n          );\r\n        }\r\n        return null;\r\n      },\r\n    },\r\n    {\r\n      title: '담당자',\r\n      dataIndex: 'item_status_sys_user',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  const {\r\n    itemDetail = {\r\n      is_user_id: '',\r\n      is_user_info: '',\r\n      is_user_nm: '',\r\n      is_user_phone: '',\r\n      item_master_idx: 0,\r\n      item_prop_idx: 0,\r\n      item_prop_reg_date: '',\r\n      item_prop_seq: '',\r\n      item_prop_subject: '',\r\n      item_prop_uuid: '',\r\n      item_status_is_sys: '',\r\n      item_status_reg_date: '',\r\n      item_status_start_dttm: '',\r\n      item_status_state: '',\r\n      item_status_user: '',\r\n    },\r\n    isItemHistoryModal,\r\n    setIsItemHistoryModal,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    if (isItemHistoryModal) {\r\n      getItemHistory();\r\n    }\r\n\r\n    return () => {};\r\n  }, [isItemHistoryModal]);\r\n  const getItemHistory = () => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(`/is/getLoanItemHistList`, {\r\n        params: { ...filter, item_prop_uuid: itemDetail.item_prop_uuid },\r\n      })\r\n      .then((res) => {\r\n        setDataSource(res.data.histList);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  return (\r\n    <Modal\r\n      className='item-history-modal'\r\n      title={`${itemDetail.item_prop_subject} 대여 이력`}\r\n      visible={isItemHistoryModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsItemHistoryModal(false);\r\n        setDataSource([]);\r\n        setCurrentPage(1);\r\n        setFilter(new FilterObject());\r\n      }}\r\n    >\r\n      <Space direction='vertical' style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => (\r\n                <FilterOutlined\r\n                  style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }}\r\n                />\r\n              )}\r\n              style={{ marginTop: '10px' }}\r\n            >\r\n              <Collapse.Panel\r\n                header={\r\n                  <Text style={{ cursor: 'pointer' }}>\r\n                    물품 대여 이력 조회 설정\r\n                  </Text>\r\n                }\r\n                key='1'\r\n              >\r\n                <Space\r\n                  direction='horizontal'\r\n                  style={{ width: '100%' }}\r\n                  size='large'\r\n                >\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[\r\n                        moment(filter.start_date),\r\n                        moment(filter.end_date),\r\n                      ]}\r\n                      onChange={(e) => {\r\n                        if (e && e[0] && e[1]) {\r\n                          filter.start_date = e[0].format(dateFormat);\r\n                          filter.end_date = e[1].format(dateFormat);\r\n                          setFilter(Map(filter).toJS());\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size='small'\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size='small'\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      value={filter.user_id}\r\n                      onChange={(e) => {\r\n                        filter.user_id = e.target.value;\r\n                        setFilter(Map(filter).toJS());\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>처리 상태</Text>\r\n                    <Select\r\n                      value={filter.state}\r\n                      style={{ width: '150px' }}\r\n                      size='small'\r\n                      onChange={(e) => {\r\n                        filter.state = e;\r\n                        setFilter(Map(filter).toJS());\r\n                      }}\r\n                    >\r\n                      <Select.Option key='total'>전체</Select.Option>\r\n                      <Select.Option key='loaning'>대여</Select.Option>\r\n                      <Select.Option key='return'>반납</Select.Option>\r\n                    </Select>\r\n                  </Space>\r\n                </Space>\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'flex-end',\r\n                  }}\r\n                >\r\n                  <Space>\r\n                    <Button\r\n                      type='primary'\r\n                      size='small'\r\n                      onClick={() => {\r\n                        getItemHistory();\r\n                      }}\r\n                    >\r\n                      적용\r\n                    </Button>\r\n                    <Button\r\n                      size='small'\r\n                      onClick={async () => {\r\n                        setFilter(new FilterObject());\r\n                      }}\r\n                    >\r\n                      초기화\r\n                    </Button>\r\n                  </Space>\r\n                </div>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table\r\n          rowKey={(dataSource) => uuid()}\r\n          loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size='small'\r\n          bordered\r\n          pagination={{\r\n            pageSize: 10,\r\n            current: currentPage,\r\n            onChange: (e) => {\r\n              sessionStorage.setItem('currentPage', e);\r\n              setCurrentPage(e);\r\n            },\r\n          }}\r\n        />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailItemHistoryComponent;\r\n","import { ExclamationCircleOutlined, MobileOutlined } from '@ant-design/icons';\r\nimport { Button, Descriptions, Divider, Popover, Modal } from 'antd';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport ItemLoanDetailPropStatusComponent from './ItemLoanDetailPropStatusComponent';\r\nimport ItemLoanSmsComponent from './ItemLoanSmsComponent';\r\nimport ItemLoanDetailItemHistoryComponent from './ItemLoanDetailItemHistoryComponent';\r\n\r\nconst ItemLoanDetailItemComponent = (props) => {\r\n  const {\r\n    itemDetail = {\r\n      is_user_id: '',\r\n      is_user_info: '',\r\n      is_user_nm: '',\r\n      is_user_phone: '',\r\n      item_master_idx: 0,\r\n      item_prop_idx: 0,\r\n      item_prop_reg_date: '',\r\n      item_prop_seq: '',\r\n      item_prop_subject: '',\r\n      item_prop_uuid: '',\r\n      item_status_is_sys: '',\r\n      item_status_reg_date: '',\r\n      item_status_start_dttm: '',\r\n      item_status_state: '',\r\n      item_status_user: '',\r\n    },\r\n    idx,\r\n    itemMaster,\r\n    setItemMaster,\r\n  } = props;\r\n\r\n  const [isItemHistoryModal, setIsItemHistoryModal] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  return (\r\n    <div\r\n      className='itemLoanDetailItem'\r\n      onClick={(e) => {\r\n        if (isVisible) {\r\n          setIsVisible(false);\r\n        }\r\n      }}\r\n    >\r\n      <ItemLoanDetailItemHistoryComponent\r\n        isItemHistoryModal={isItemHistoryModal}\r\n        setIsItemHistoryModal={setIsItemHistoryModal}\r\n        itemDetail={itemDetail}                                                 \r\n      />\r\n      <Descriptions\r\n        title={`${idx + 1}번 ${itemMaster.item_master_subject}`}\r\n        bordered\r\n        size='small'\r\n        className={`desc-${itemDetail.item_status_state}-wrap`}\r\n      >\r\n        <Descriptions.Item label='소분류-물품 명' span={3}>\r\n          {itemDetail.item_prop_subject}\r\n        </Descriptions.Item>\r\n\r\n        <Descriptions.Item label='물품 상태' span={1}>\r\n          <ItemLoanDetailPropStatusComponent\r\n            itemDetail={itemDetail}\r\n            setItemMaster={setItemMaster}\r\n            isVisible={isVisible}\r\n            setIsVisible={setIsVisible}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='대여 이력' span={2}>\r\n          <Button\r\n            type='link'\r\n            onClick={() => {\r\n              setIsItemHistoryModal(true);\r\n            }}\r\n          >\r\n            보기\r\n          </Button>\r\n        </Descriptions.Item>\r\n        {itemDetail.item_status_state === 'reserve' ||\r\n        itemDetail.item_status_state === 'loaning' ? (\r\n          <>\r\n            <Descriptions.Item label='대여자 정보' span={1}>\r\n              {itemDetail.is_user_info}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label='연락처' span={2}>\r\n              {itemDetail.is_user_phone}\r\n            </Descriptions.Item>\r\n            {/* <Descriptions.Item label=\"SMS\" span={1}>\r\n              <ItemLoanSmsComponent itemDetail={itemDetail} />\r\n            </Descriptions.Item> */}\r\n            <Descriptions.Item label='대여일' span={3}>\r\n              {itemDetail.item_status_start_dttm}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label='반납일' span={3}>\r\n              {itemDetail.item_status_end_dttm}\r\n            </Descriptions.Item>\r\n            {itemDetail.item_status_state === 'reserve' ||\r\n            itemDetail.item_status_state === 'loaning' ? (\r\n              <Descriptions.Item label='물품 상태 처리' span={3}>\r\n                {itemDetail.item_status_state === 'reserve' ? (\r\n                  <Button\r\n                    className='item-loan-btn'\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: '80px', fontSize: '2em' }}\r\n                    onClick={() => {\r\n                      confirm({\r\n                        title: `${itemDetail.item_prop_subject}을 대출 승인 하시겠습니까?`,\r\n                        icon: <ExclamationCircleOutlined />,\r\n                        content: (\r\n                          <Text>\r\n                            반납 처리 후{' '}\r\n                            <Text\r\n                              style={{ color: '#077707', fontWeight: 'bold' }}\r\n                            >\r\n                              대여 중 상태\r\n                            </Text>\r\n                            로 전환됩니다.\r\n                          </Text>\r\n                        ),\r\n                        okText: '확인',\r\n                        cancelText: '취소',\r\n                        onOk() {\r\n                          axios\r\n                            .post(`/is/confirmIsItemProp`, itemDetail)\r\n                            .then((res) => {\r\n                              setItemMaster(res.data);\r\n                            })\r\n                            .catch((err) => {\r\n                              console.error(err);\r\n                            });\r\n                        },\r\n                        onCancel() {},\r\n                      });\r\n                    }}\r\n                  >\r\n                    대출 확인\r\n                  </Button>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                {itemDetail.item_status_state === 'loaning' ? (\r\n                  <Button\r\n                    className='item-return-btn'\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: '80px', fontSize: '2em' }}\r\n                    onClick={() => {\r\n                      confirm({\r\n                        title: `${itemDetail.item_prop_subject}을 반납 처리 하시겠습니까?`,\r\n                        icon: <ExclamationCircleOutlined />,\r\n                        content: (\r\n                          <Text>\r\n                            반납 처리 후{' '}\r\n                            <Text\r\n                              style={{ color: '#3498db', fontWeight: 'bold' }}\r\n                            >\r\n                              대여 가능 상태\r\n                            </Text>\r\n                            로 전환됩니다.\r\n                          </Text>\r\n                        ),\r\n                        okText: '확인',\r\n                        cancelText: '취소',\r\n                        onOk() {\r\n                          axios\r\n                            .post(`/is/returnIsItemProp`, itemDetail)\r\n                            .then((res) => {\r\n                              setItemMaster(res.data);\r\n                            })\r\n                            .catch((err) => {\r\n                              console.error(err);\r\n                            });\r\n                        },\r\n                        onCancel() {},\r\n                      });\r\n                    }}\r\n                  >\r\n                    반납 처리\r\n                  </Button>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </Descriptions.Item>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </Descriptions>\r\n      <Divider dashed />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailItemComponent;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from './ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from './ItemLoanDetailItemComponent';\r\nimport './ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst ItemLoanDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: props.match.params.item_master_idx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`일반 물품 상세`}\r\n        subTitle={`일반 물품 대여 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          {`${itemMaster.item_master_subject} 정보`}\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          {`${itemMaster.item_master_subject} 목록`}\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailContainer;\r\n","import {\r\n  DeleteOutlined,\r\n  PlusCircleOutlined,\r\n  QuestionCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Input, Popconfirm } from \"antd\";\r\nimport { Map } from \"immutable\";\r\nimport React from \"react\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst ItemLoanItemEditor = (props) => {\r\n  const { items, setItems } = props;\r\n\r\n  const addItem = () => {\r\n    var item_prop_uuid = uuid();\r\n\r\n    items[item_prop_uuid] = {\r\n      item_prop_uuid: item_prop_uuid,\r\n      item_prop_subject: \"\",\r\n      item_prop_desc: \"\",\r\n      item_prop_seq: new Date().getTime(),\r\n    };\r\n\r\n    setItems(\r\n      Map(items)\r\n        .sortBy((item) => item.item_prop_seq)\r\n        .toJS()\r\n    );\r\n  };\r\n\r\n  const deleteItem = (key) => {\r\n    setItems(\r\n      Map(items)\r\n        .delete(key)\r\n        .sortBy((item) => item.item_prop_seq)\r\n        .toJS()\r\n    );\r\n  };\r\n\r\n  const deleteAllItem = () => {\r\n    setItems({});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n          marginTop: \"5px\",\r\n        }}\r\n      >\r\n        <Button\r\n          type=\"dashed\"\r\n          onClick={addItem}\r\n          size=\"large\"\r\n          style={{ width: \"calc(100% - 48px)\" }}\r\n        >\r\n          물품 추가{\" \"}\r\n          <PlusCircleOutlined\r\n            style={{ fontSize: \"1.2em\", position: \"relative\", top: \"2px\" }}\r\n          />\r\n        </Button>\r\n        <Popconfirm\r\n          title=\"목록을 전체 삭제하시겠습니까?\"\r\n          icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n          onConfirm={() => {\r\n            deleteAllItem();\r\n          }}\r\n          onCancel={() => {\r\n            return;\r\n          }}\r\n          okText=\"예\"\r\n          cancelText=\"아니오\"\r\n        >\r\n          <Button\r\n            type=\"dashed\"\r\n            size=\"large\"\r\n            block\r\n            style={{ width: \"44px\", textAlign: \"center\", padding: 0 }}\r\n          >\r\n            <DeleteOutlined\r\n              style={{\r\n                fontSize: \"1.2em\",\r\n                position: \"relative\",\r\n                top: \"2px\",\r\n                color: \"#c0392b\",\r\n              }}\r\n            />\r\n          </Button>\r\n        </Popconfirm>\r\n      </div>\r\n      {Object.keys(items)\r\n        .sort((a, b) => {\r\n          return items[a][\"item_prop_seq\"] - items[b][\"item_prop_seq\"];\r\n        })\r\n        .map((key, idx) => {\r\n          return (\r\n            <div\r\n              key={key}\r\n              style={{\r\n                margin: \"20px 0\",\r\n                display: \"row\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <Input\r\n                value={items[key].item_prop_subject}\r\n                onChange={(e) => {\r\n                  items[key].item_prop_subject = e.target.value;\r\n                  setItems(\r\n                    Map(items)\r\n                      .sortBy((item) => item.item_prop_seq)\r\n                      .toJS()\r\n                  );\r\n                }}\r\n                addonBefore={`${idx + 1}번 물품명`}\r\n                addonAfter={\r\n                  <Popconfirm\r\n                    title=\"삭제하시겠습니까?\"\r\n                    icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n                    onConfirm={() => {\r\n                      deleteItem(key);\r\n                    }}\r\n                    onCancel={() => {\r\n                      return;\r\n                    }}\r\n                    okText=\"예\"\r\n                    cancelText=\"아니오\"\r\n                  >\r\n                    <DeleteOutlined\r\n                      style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                      }}\r\n                    />\r\n                  </Popconfirm>\r\n                }\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanItemEditor;\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport {\r\n  Button,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  Select,\r\n  Space,\r\n} from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Prompt } from 'react-router-dom';\r\nimport * as Constants from '../../Constants';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanItemEditor from './ItemLoanItemEditor';\r\n\r\nconst ItemLoanForm = (props) => {\r\n  const [isBack, setIsBack] = useState(true);\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [loanMode, setLoanMode] = useState('nolimit');\r\n  const [closureList, setClosureList] = useState([]);\r\n  const [itemMaster, setItemMaster] = useState({\r\n    item_master_subject: '',\r\n    item_master_is_editable: 'Y',\r\n  });\r\n\r\n  useEffect(() => {\r\n    // 목록을 클릭해 들어왔을 때\r\n\r\n    if (props.match.params.loan_idx !== 'new') {\r\n      getLoanItem(props.match.params.loan_idx);\r\n    }\r\n\r\n    getClosureSchedule();\r\n\r\n    // enablePrevent();\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const getClosureSchedule = () => {\r\n    axios\r\n      .get(`/lib/getLibClosureAfterNow`, {})\r\n      .then((res) => {\r\n        setClosureList(res.data.closureList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  const disabledDate = (current = moment()) => {\r\n    // Can not select days before today and today\r\n\r\n    var closureDate = closureList.find(\r\n      (closure) => closure.closure_date === current.format('YYYY-MM-DD')\r\n    );\r\n\r\n    var closureDateBoolean =\r\n      current.format('YYYY-MM-DD') ===\r\n      (closureDate ? closureDate.closure_date : null);\r\n\r\n    return (\r\n      current.startOf('day') < moment().startOf('day') || closureDateBoolean // 이것도 지우지 마시오\r\n    );\r\n  };\r\n\r\n  const [form] = Form.useForm();\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n  const [items, setItems] = useState({});\r\n\r\n  const getLoanItem = (itemMasterIdx) => {\r\n    axios\r\n      .get(`/is/getLoanItem`, {\r\n        params: {\r\n          item_master_idx: itemMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        form.setFieldsValue({\r\n          item_master_subject: res.data.item_master_subject,\r\n          item_master_desc: res.data.item_master_desc,\r\n          item_master_loan_mode: res.data.item_master_loan_mode,\r\n          item_master_loan_days: res.data.item_master_loan_days,\r\n          item_master_end_date: moment(\r\n            res.data.item_master_end_date\r\n              ? res.data.item_master_end_date\r\n              : new Date(),\r\n            'YYYY-MM-DD'\r\n          ),\r\n        });\r\n        setLoanMode(res.data.item_master_loan_mode);\r\n        setItemMaster(res.data);\r\n        setItems(\r\n          Map(res.data.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    if (\r\n      Object.keys(items).filter(\r\n        (key) =>\r\n          items[key].item_status_state === 'loaning' ||\r\n          items[key].item_status_state === 'reserve'\r\n      ).length > 0\r\n    ) {\r\n      message.error(\r\n        <Paragraph>\r\n          반납하지 않은 또는 예약된 물품이 있습니다. <br />\r\n          모든 물품이 반납되어야 수정이 가능합니다.\r\n        </Paragraph>\r\n      );\r\n      return;\r\n    }\r\n    if (\r\n      Object.keys(items).filter(\r\n        (key) => items[key] && items[key].item_prop_subject.trim().length === 0\r\n      ).length !== 0\r\n    ) {\r\n      message.error('물품명을 모두 입력해주세요.');\r\n      return;\r\n    }\r\n    if (Object.keys(items).length === 0) {\r\n      message.error('물품을 추가해주세요');\r\n      return;\r\n    }\r\n    if (\r\n      'item_master_end_date' in values &&\r\n      values.item_master_end_date === ''\r\n    ) {\r\n      message.error('반납일을 지정해주세요.');\r\n      return;\r\n    } else if (\r\n      values.item_master_loan_mode === 'end' &&\r\n      values.item_master_end_date\r\n    ) {\r\n      values.item_master_end_date = values.item_master_end_date.format(\r\n        'YYYY-MM-DD'\r\n      );\r\n    }\r\n\r\n    var formData = Map(values).toJS();\r\n    var itemArray = [];\r\n    Object.keys(items).forEach((key) => {\r\n      itemArray.push(items[key]);\r\n    });\r\n\r\n    formData['itemList'] = itemArray;\r\n\r\n    formData['item_master_idx'] = props.match.params.loan_idx;\r\n\r\n    axios\r\n      .post(`/is/insertItemLoan`, formData)\r\n      .then((res) => {\r\n        setIsBack(false);\r\n\r\n        props.history.push(\r\n          `/loanitem/detail/${res.data.resultMap.item_master_idx}`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const LoanModeComponent = (props) => {\r\n    if (props.loanMode === 'start') {\r\n      return (\r\n        <>\r\n          <Form.Item\r\n            noStyle\r\n            name='item_master_loan_days'\r\n            style={{ animation: 'fadein 0.25s' }}\r\n            initialValue={3}\r\n          >\r\n            <InputNumber\r\n              className='item-loan-form-limit-days-input'\r\n              style={{ textAlign: 'center', width: '100px' }}\r\n              min={1}\r\n            />\r\n          </Form.Item>\r\n          <Text> 일 후 반납</Text>\r\n        </>\r\n      );\r\n    } else if (props.loanMode === 'end') {\r\n      return (\r\n        <>\r\n          <Form.Item\r\n            noStyle\r\n            name='item_master_end_date'\r\n            style={{ animation: 'fadein 0.25s' }}\r\n          >\r\n            <DatePicker\r\n              disabledDate={disabledDate}\r\n              style={{ width: '150px' }}\r\n              onChange={(e) => {}}\r\n            />\r\n          </Form.Item>\r\n          <Text> 까지 반납</Text>\r\n        </>\r\n      );\r\n    } else {\r\n      return <></>;\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title={`${itemMaster.item_master_subject} 등록/수정`}\r\n        subTitle={`${itemMaster.item_master_subject} 물품을 등록/수정 할 수 있습니다.`}\r\n      />\r\n      <div>\r\n        <Form\r\n          form={form}\r\n          validateMessages={validateMessages}\r\n          onFinish={onFinish}\r\n        >\r\n          <FormGuideComponent title='대분류-물품' guide='' />\r\n          <Form.Item name='item_master_subject' rules={[{ required: true }]}>\r\n            <Input disabled={itemMaster.item_master_is_editable === 'N'} />\r\n          </Form.Item>\r\n          <FormGuideComponent title='대분류-물품 설명' guide='' />\r\n          <Form.Item name='item_master_desc' rules={[{ required: false }]}>\r\n            <TextArea rows={5} />\r\n          </Form.Item>\r\n          <FormGuideComponent title='대분류-대여 기간 설정' guide='' />\r\n          <Form.Item\r\n            noStyle\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              justifyContent: 'left',\r\n            }}\r\n          >\r\n            <Space style={{ marginBottom: '20px' }}>\r\n              <Form.Item\r\n                noStyle\r\n                name='item_master_loan_mode'\r\n                initialValue={loanMode}\r\n              >\r\n                <Select\r\n                  value={loanMode}\r\n                  onChange={(e) => {\r\n                    setLoanMode(e);\r\n                  }}\r\n                >\r\n                  <Select.Option value={'nolimit'}>제한 없음</Select.Option>\r\n                  <Select.Option value={'start'}>시작일 기준</Select.Option>\r\n                  <Select.Option value={'end'}>반납일 기준</Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n              <LoanModeComponent loanMode={loanMode} />\r\n            </Space>\r\n          </Form.Item>\r\n\r\n          {itemMaster.item_master_is_editable === 'Y' ? (\r\n            <Form.Item>\r\n              <FormGuideComponent title='소분류-물품' guide='' />\r\n              <ItemLoanItemEditor setItems={setItems} items={items} />\r\n            </Form.Item>\r\n          ) : null}\r\n\r\n          <Form.Item>\r\n            <div style={{ margin: '0px 0px 100px 0px' }}>\r\n              <Button type='primary' htmlType='submit' block size='large'>\r\n                {props.match.params.loan_idx !== 'new' ? '수 정' : '등 록'}\r\n              </Button>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanForm;\r\n","import axios from 'axios';\r\nimport { DvdListType, getDvdDetailType, logDvdType, postDvdType, putDvdDetailType } from '../types/Dvd';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\n\r\nexport const getItemLoanList = async () => {\r\n  const response = await axios.get<ResponseVo<DvdListType[]>>(`/reserve/item`);\r\n  return response.data;\r\n};\r\n\r\nexport const getItemLoanDetail = async (room_seq: string) => {\r\n  const response = await axios.get<ResponseVo<getDvdDetailType[]>>(`/reserve/item/${room_seq}`);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteItemLoan = async (room_seq: string) => {\r\n  const response = await axios.delete<ResponseVo<putDvdDetailType[]>>(`/reserve/item/${room_seq}`);\r\n  return response.data;\r\n};\r\nexport const postItemLoan = async ({ params }: { params: any }) => {\r\n  const response = await axios.post<ResponseVo<postDvdType[]>>(`/reserve/item`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const putItemLoan = async ({ seq, params }: { seq: any; params: any }) => {\r\n  const response = await axios.put<ResponseVo<putDvdDetailType[]>>(`/reserve/item/${seq}`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postCancelReserve = async ({ params }: { params: { userKey: string } }) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(`/reserve/item/reservation/cancel`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postReturnReserve = async ({ params }: { params: { userKey: string } }) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(`/reserve/item/reservation/return`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postItemLoanReserve = async (params: {\r\n  userInfo: {\r\n    userNo: string;\r\n  };\r\n  reserveInfo: {\r\n    item_seq: number | string;\r\n    reserve_time: string[];\r\n  };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<any[]>>(`/reserve/item/reservation`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const getItemLoanLogs = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    start_date?: string;\r\n    end_date?: string;\r\n    user_key?: string;\r\n    user_name?: string;\r\n    status?: string;\r\n  };\r\n}) => {\r\n  const response = await axios.get<ResponseVo<logDvdType[]>>(`/reserve/hist`, {\r\n    params,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdList = async () => {};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport moment from 'moment';\r\nexport const ITEMLOAN = 'ItemLoan';\r\n\r\ntype SliceState = {\r\n  seq: string | number;\r\n  item_name: string;\r\n  use_flag: 'Y' | 'N';\r\n  bookable_count: number;\r\n  start_time: string;\r\n  end_time: string;\r\n  hours_of_use?: number;\r\n  select_count?: number;\r\n};\r\ntype PayloadType = {\r\n  [ITEMLOAN]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nconst ItemLoanSlice = createSlice({\r\n  name: `${ITEMLOAN}`,\r\n  initialState: {\r\n    seq: 0,\r\n    item_name: 'DVD',\r\n    use_flag: 'Y',\r\n    bookable_count: 0,\r\n    start_time: moment().format('HH:00'),\r\n    end_time: moment().add('8', 'hour').format('HH:00'),\r\n    hours_of_use: 1,\r\n    select_count: 1,\r\n  } as SliceState,\r\n  reducers: {\r\n    setItemLoanName: (state, action: PayloadAction<{ item_name: string }>) => {\r\n      state.item_name = action.payload.item_name;\r\n    },\r\n    setItemLoanDetail: (\r\n      state,\r\n      action: PayloadAction<{\r\n        item_name?: string;\r\n        start_time?: string;\r\n        end_time?: string;\r\n        use_flag?: 'Y' | 'N';\r\n        hours_of_use?: number;\r\n        select_count?: number;\r\n      }>\r\n    ) => {\r\n      if (action.payload.item_name) {\r\n        state.item_name = action.payload.item_name;\r\n      }\r\n      if (action.payload.start_time) {\r\n        state.start_time = action.payload.start_time;\r\n      }\r\n      if (action.payload.end_time) {\r\n        state.end_time = action.payload.end_time;\r\n      }\r\n      if (action.payload.use_flag) {\r\n        state.use_flag = action.payload.use_flag;\r\n      }\r\n      if (action.payload.hours_of_use) {\r\n        state.hours_of_use = action.payload.hours_of_use;\r\n      }\r\n      if (action.payload.select_count) {\r\n        state.select_count = action.payload.select_count;\r\n      }\r\n    },\r\n  },\r\n  extraReducers: {},\r\n});\r\n\r\nexport const { setItemLoanName, setItemLoanDetail } = ItemLoanSlice.actions;\r\nexport default ItemLoanSlice.reducer;\r\nexport const selectItemLoanSlice = (state: PayloadType) => state[ITEMLOAN];\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//form\r\nimport { Form, TimePicker, Switch } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { available_time } from '../../../types/Dvd';\r\n\r\nconst ItemDailyAddForm = ({ available_time, setAvailable_time, tabKey }: { available_time: available_time[]; setAvailable_time: any; tabKey: string }) => {\r\n  const [daily, setDaily] = useState();\r\n\r\n  const days = ['월요일', '화요일', '수요일', '목요일', '금요일', '토요일', '일요일'];\r\n\r\n  const reset = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n\r\n    setAvailable_time([...arr]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [daily, tabKey]);\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (value) {\r\n      const [a, b] = value;\r\n      available_time[day - 1].start_time = moment(a).format('HH:00');\r\n      available_time[day - 1].end_time = moment(b).format('HH:00');\r\n    } else {\r\n      available_time[day - 1].start_time = '';\r\n      available_time[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  const settingWeekday = (value: RangeValue<moment.Moment>, weekend: boolean) => {\r\n    const endIdx = weekend ? days.length - 1 : 4;\r\n    const startIdx = weekend ? 5 : 0;\r\n\r\n    if (value) {\r\n      const [a, b] = value;\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = moment(a).format('HH:00');\r\n        available_time[i].end_time = moment(b).format('HH:00');\r\n      }\r\n    } else {\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = '';\r\n        available_time[i].end_time = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeSettingMode = (value: any) => {\r\n    setDaily(value);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <Form.Item className=\"mt-2 \">\r\n      <div className=\" mb-3\">\r\n        <Switch onChange={changeSettingMode} className=\"mr-1\" />\r\n        <span>{!daily ? '요일별 시간 설정' : '평일/주말 시간설정'}</span>\r\n      </div>\r\n\r\n      {!daily ? (\r\n        <div>\r\n          {days.map((d, idx) => (\r\n            <div key={d} className=\"mb-1\">\r\n              {d}\r\n              {'   '}\r\n              <TimePicker.RangePicker\r\n                format={'HH:mm'}\r\n                onChange={(value) => {\r\n                  settingDailyTime(value, idx + 1);\r\n                }}\r\n                className=\"ml-3\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className=\"mb-2\">\r\n            평일{' '}\r\n            <TimePicker.RangePicker\r\n              format={'HH:mm'}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, false);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n          <div>\r\n            주말{' '}\r\n            <TimePicker.RangePicker\r\n              format={'HH:mm'}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, true);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default ItemDailyAddForm;\r\n","import { Button, Form, Input, TimePicker, InputNumber, Tabs, Select } from 'antd';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { postItemLoan } from '../../../api/ItemLoan.api';\r\n\r\n// import { setDvdDetail } from '../../../slice/DvdSlice';\r\nimport { setItemLoanDetail } from '../../../slice/ItemLoanSlice';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemDailyAddForm from './ItemDailyAddForm';\r\n\r\nconst ItemLoanAddForm = (props) => {\r\n  // 남부평생교육원 룸등록에만 hoursofuse, selectcount가 있음.\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const { TabPane } = Tabs;\r\n\r\n  const [startTime, setStartTime] = useState();\r\n  const [endTime, setEndTime] = useState();\r\n  const [maxHour, setMaxHour] = useState(24);\r\n  const [maxCount, setMaxCount] = useState();\r\n  const [currVal, setCurrVal] = useState();\r\n\r\n  const [available_time, setAvailable_time] = useState([]);\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [sameEveryday, setSameEveryday] = useState(true);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: '종료시간이 시작시간보다 짧습니다',\r\n    },\r\n  };\r\n\r\n  const handleChange = (value) => {\r\n    const val = value === '1' ? true : false;\r\n    setSameEveryday(val);\r\n  };\r\n\r\n  const setHoursOfUse = (startTime, endTime) => {\r\n    if (startTime && endTime) {\r\n      const start = startTime.split(':');\r\n      const end = endTime.split(':');\r\n      const total = end[0] - start[0];\r\n\r\n      setMaxHour(total);\r\n    } else {\r\n      console.log('not yet');\r\n    }\r\n  };\r\n\r\n  const onClick = async (values) => {\r\n    let data;\r\n    const { item_name } = values;\r\n\r\n    if (sameEveryday) {\r\n      if (currVal > maxCount) return;\r\n      const start_time = moment(values.start_time).format('HH:00');\r\n      const end_time = moment(values.end_time).format('HH:00');\r\n      const hours_of_use = values.hours_of_use || 1;\r\n      const select_count = values.select_count || 1;\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          item_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n          use_flag: true,\r\n        })\r\n      );\r\n      data = await postItemLoan({\r\n        params: {\r\n          item_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n        },\r\n      });\r\n    } else {\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          item_name,\r\n        })\r\n      );\r\n      data = await postItemLoan({ params: { item_name, available_time } });\r\n    }\r\n\r\n    if (data.status_code === 200) {\r\n      const res = data.response_body[0];\r\n      res ? history.push(`/item/detail/${data.response_body[0].item_seq}`) : history.push('/is/item');\r\n    }\r\n  };\r\n\r\n  const onChange = (value) => setMaxCount(Math.floor(maxHour / value));\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <MenuGuide title={`물품 등록`} subTitle={`물품을 등록 할 수 있습니다.`} />\r\n      <Form validateMessages={validateMessages} onFinish={onClick}>\r\n        <FormGuideComponent title=\"명칭\" guide=\"\" />\r\n        <Form.Item name=\"item_name\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Tabs defaultActiveKey={tabKey} onChange={handleChange} type=\"card\" className=\"mt-3\" destroyInactiveTabPane={true}>\r\n          <TabPane tab=\"동일 시간 설정\" key=\"1\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n            <Form.Item name=\"start_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                value={moment(startTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setStartTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item name=\"end_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                placeholder=\"종료시간\"\r\n                format={'HH:mm'}\r\n                value={moment(endTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setEndTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"예약 시간 단위\" guide=\"\" />\r\n            <Form.Item name=\"hours_of_use\" validateStatus={maxHour < 0 && 'error'} help={maxHour < 0 ? '종료시간이 시작시간보다 짧습니다' : ''}>\r\n              <InputNumber min={1} max={maxHour} defaultValue={1} disabled={maxHour < 0} onChange={onChange} />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"최대 연속 예약 횟수\" guide=\"\" />\r\n            <Form.Item\r\n              name=\"select_count\"\r\n              validateStatus={currVal > maxCount && 'error'}\r\n              help={currVal > maxCount ? '연속 예약할 수 있는 횟수가 총 예약 시간보다 많습니다.' : ''}\r\n            >\r\n              <InputNumber\r\n                // name=\"select_count\"\r\n                min={1}\r\n                max={maxCount ? maxCount : maxHour}\r\n                defaultValue={1}\r\n                onChange={(e) => {\r\n                  setCurrVal(e);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n          </TabPane>\r\n          <TabPane tab=\"요일별 시간 설정\" key=\"2\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n\r\n            <ItemDailyAddForm available_time={available_time} setAvailable_time={setAvailable_time} tabKey={tabKey} />\r\n          </TabPane>\r\n        </Tabs>\r\n\r\n        <Form.Item>\r\n          <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanAddForm;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getDvdDetail, getDvdLists } from '../../../api/Dvd.api';\r\nimport { getItemLoanDetail } from '../../../api/ItemLoan.api';\r\n\r\nimport { DvdListType } from '../../../types/Dvd';\r\n\r\nconst useGetItemDetail = (room_seq: string) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getItemDetailData = async (e: string) => {\r\n    const result = await getItemLoanDetail(e);\r\n    console.log(result);\r\n    setState(result.response_body);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getItemDetailData(room_seq);\r\n  }, [room_seq]);\r\n\r\n  return [state, setState] as const;\r\n};\r\n\r\nexport default useGetItemDetail;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getItemLoanList } from '../../../api/ItemLoan.api';\r\n\r\nconst useGetItemList = (currentPage?: any) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getReserverDate = async () => {\r\n    const result = await getItemLoanList();\r\n    setState(result.response_body);\r\n  };\r\n  useEffect(() => {\r\n    getReserverDate();\r\n  }, [currentPage]);\r\n  return state;\r\n};\r\n\r\nexport default useGetItemList;\r\n","import React from 'react';\r\nimport { Modal, Table, message } from 'antd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n\r\nimport { UserType } from '../../../types/User';\r\n\r\nconst ItemLoanMakeReservation = ({\r\n  openModal,\r\n  setIsModal,\r\n  selectedTimes,\r\n  onReserveRoom,\r\n  changeRoomName,\r\n  user,\r\n}: {\r\n  openModal: boolean;\r\n  setIsModal: any;\r\n  selectedTimes: DvdListType[];\r\n  onReserveRoom: (userKey: any) => void;\r\n  changeRoomName: string;\r\n  user: UserType;\r\n}) => {\r\n  const sortedData = selectedTimes.sort((a, b) => a.seq - b.seq);\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: 'no',\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentP1age')!);\r\n        return <>{idx + 1}</>;\r\n      },\r\n    },\r\n    {\r\n      title: 'Item Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: () => {\r\n        return <>{changeRoomName}</>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자',\r\n      dataIndex: 'user_name',\r\n      key: 'age',\r\n      render: () => {\r\n        return <>{user.is_user_nm}</>;\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: 'start_time',\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: 'end_time',\r\n    },\r\n  ];\r\n\r\n  const closeModal = () => setIsModal(false);\r\n\r\n  return (\r\n    <>\r\n      {user.user_key === 'NO_USER' && user.user_key === 'NO_USER' ? (\r\n        <Modal visible={openModal} onCancel={closeModal} onOk={closeModal}>\r\n          <p>일치하는 사용자가 없습니다.</p>\r\n        </Modal>\r\n      ) : (\r\n        <Modal\r\n          visible={openModal}\r\n          onCancel={closeModal}\r\n          onOk={() => {\r\n            onReserveRoom(user.user_key);\r\n          }}\r\n        >\r\n          <div className=\" ml-0 m-3\">아래와 같이 예약을 진행하시겠습니까?</div>\r\n          <Table rowKey={(record) => record.seq} columns={columns} dataSource={sortedData} bordered pagination={false} />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemLoanMakeReservation;\r\n","//library\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport moment from 'moment';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//css\r\nimport { CaretDownOutlined, DeleteOutlined, EnterOutlined, QuestionCircleOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport { Button, Divider, Space, Descriptions, Badge, Collapse, Input, TimePicker, Switch, Table, Popconfirm, InputNumber, Modal, message, Alert } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n//api\r\nimport useGetItemDetail from './useGetItemDetail';\r\nimport useGetItemList from './useGetItemList';\r\n\r\n//types\r\nimport { available_time } from '../../../types/Dvd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { postDvdType } from '../../../types/Dvd';\r\n\r\n//slices\r\nimport { fetchUser, selectUser, resetUser } from '../../../slice/userSlice';\r\nimport { selectItemLoanSlice, setItemLoanDetail } from '../../../slice/ItemLoanSlice';\r\n//components\r\nimport DvdMakeReservation from './ItemLoanMakeReservation';\r\n\r\nimport { putItemLoan, getItemLoanDetail, deleteItemLoan, postItemLoanReserve, postCancelReserve, postReturnReserve } from '../../../api/ItemLoan.api';\r\n\r\nconst ItemLoanDetailForm = () => {\r\n  /////////variables\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch<{ item_seq: string }>();\r\n  //room\r\n  const item_seq = match.params.item_seq;\r\n  const rooms = useGetItemList();\r\n  const { item_name, start_time, end_time, use_flag, select_count, hours_of_use } = useSelector(selectItemLoanSlice);\r\n\r\n  // user\r\n  const { user } = useSelector(selectUser);\r\n\r\n  ///////// states\r\n  //room\r\n  const [dataSource, setDataSource] = useGetItemDetail(item_seq);\r\n  const [changeItemName, setChangeItemName] = useState('');\r\n  const [mStartTime, setmStartTime] = useState('');\r\n  const [mEndTime, setmEndTime] = useState('');\r\n  const [mUseFlag, setmUseFlag] = useState<boolean>();\r\n  const [mHours, setmHours] = useState(0);\r\n  const [mCount, setmCount] = useState(0);\r\n  const [availableTime, setAvailableTime] = useState<available_time[]>();\r\n  // control\r\n  const [maxCount, setMaxCount] = useState(0);\r\n  const [totalHour, setTotalHour] = useState(0);\r\n  const [sameEveryday, setSameEveryday] = useState<boolean>();\r\n  const [selectedRowkeys, setSelectedRowkeys] = useState<string[]>([]);\r\n  const [selectedTimes, setSelectedTimes] = useState<DvdListType[]>([]);\r\n  // ui\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [err, setErr] = useState(false);\r\n\r\n  const days = ['월', '화', '수', '목', '금', '토', '일'];\r\n  let parsedUserNo = '';\r\n  /////////functions\r\n  //room management\r\n  const extractHour = (time: string, separator: string) => {\r\n    const arr = time.split(separator);\r\n    return Number(arr[0]);\r\n  };\r\n\r\n  const resetAvailableTime = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n    return arr;\r\n  };\r\n\r\n  const bookedUser = () => {\r\n    const data = dataSource.filter((item: postDvdType) => item.bookable === 'N');\r\n    if (data.length >= 1) {\r\n      message.warning('예약자가 존재합니다. 확인해주세요');\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const onFix = async () => {\r\n    let putData;\r\n\r\n    if (sameEveryday) {\r\n      const data = dataSource.filter((item) => {\r\n        if (item.bookable === 'N') {\r\n          const end = moment(item.end_time, 'HH:mm');\r\n          const newEnd = moment(mEndTime, 'HH:mm');\r\n          const diff = newEnd.diff(end, 'm');\r\n          if (diff < 1) {\r\n            return item;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (data.length >= 1) {\r\n        message.success('예약자가 존재합니다. 확인해주세요');\r\n        return;\r\n      } else {\r\n        if (mCount > maxCount) {\r\n          message.error('연속 예약 횟수를 확인해주세요. ');\r\n          return;\r\n        }\r\n      }\r\n\r\n      putData = {\r\n        seq: item_seq,\r\n        params: {\r\n          item_name: changeItemName,\r\n          start_time: mStartTime,\r\n          end_time: mEndTime,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          hours_of_use: mHours,\r\n          select_count: mCount,\r\n        },\r\n      };\r\n    } else {\r\n      if (dataSource) {\r\n        const res = bookedUser();\r\n        if (res) return;\r\n      }\r\n\r\n      putData = {\r\n        seq: item_seq,\r\n        params: {\r\n          item_name: changeItemName,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          available_time: availableTime,\r\n        },\r\n      };\r\n    }\r\n    const response = await putItemLoan(putData);\r\n\r\n    // 수정할때 예약자있음 수정못하게해야함.\r\n    if (response.status_code === 200) {\r\n      const result = await getItemLoanDetail(item_seq);\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          item_name: changeItemName,\r\n        })\r\n      );\r\n\r\n      setDataSource(result.response_body);\r\n\r\n      message.success('변경이 완료되었습니다');\r\n    }\r\n  };\r\n\r\n  const onDeleteClick = async () => {\r\n    if (dataSource) {\r\n      const res = bookedUser();\r\n      if (res) return;\r\n    }\r\n\r\n    const result = await deleteItemLoan(item_seq);\r\n    if (result.status_code === 200) {\r\n      history.push('/is/item');\r\n    }\r\n  };\r\n\r\n  const onChangeInput = (e: any) => {\r\n    parsedUserNo = e.target.value;\r\n  };\r\n\r\n  //reservation\r\n  const rowSelection = {\r\n    selectedRowkeys,\r\n    onChange: (selected: any, selectedObj: any) => {\r\n      if (selected.length > 3) {\r\n        setErr(true);\r\n        message.error('최대 3시간까지 예약이 가능합니다.');\r\n      } else {\r\n        setSelectedTimes([...selectedObj]);\r\n        setSelectedRowkeys(selected);\r\n      }\r\n    },\r\n\r\n    getCheckboxProps: (record: any) => ({\r\n      disabled: record.bookable === 'N',\r\n      bookable: record.bookable,\r\n    }),\r\n\r\n    onSelect: (obj: any, selected: any, selectedRows: DvdListType[]) => {\r\n      if (selectedRows.length > 1) {\r\n        const seq = selectedRows.map((el: any) => el.seq);\r\n        const maxSeq = Math.max(...seq);\r\n        const minSeq = Math.min(...seq);\r\n        const acceptableSeq = minSeq + selectedRows.length - 1;\r\n\r\n        if (acceptableSeq < maxSeq) {\r\n          message.error('최대 3시간까지 연속 예약이 가능합니다.');\r\n          setErr(true);\r\n          return;\r\n        } else {\r\n          setErr(false);\r\n        }\r\n      }\r\n      setErr(false);\r\n    },\r\n    hideSelectAll: true,\r\n  };\r\n\r\n  const findUser = () => {\r\n    Modal.info({\r\n      closable: true,\r\n      title: '회원증을 인식해주세요.',\r\n      content: (\r\n        <div className=\"mt-5\">\r\n          <Input onChange={onChangeInput} autoFocus={true} />\r\n        </div>\r\n      ),\r\n\r\n      onOk() {\r\n        const params = {\r\n          user_key: parsedUserNo,\r\n          card_password: '',\r\n        };\r\n        console.log(params);\r\n        dispatch(fetchUser(params));\r\n        setIsModal(true);\r\n      },\r\n    });\r\n  };\r\n  const onReserveRoom = async (userKey: any) => {\r\n    console.log(selectedTimes);\r\n\r\n    const reserve_time = selectedTimes.map((el) => el.start_time);\r\n\r\n    const params = {\r\n      userInfo: {\r\n        userNo: userKey,\r\n      },\r\n      reserveInfo: {\r\n        item_seq,\r\n        reserve_time,\r\n      },\r\n    };\r\n\r\n    const res = await postItemLoanReserve(params);\r\n    if (res.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n        message.success({\r\n          content: '예약이 완료되었습니다.',\r\n          style: { marginTop: '20vh' },\r\n        });\r\n\r\n        // 성공적으로 예약이 되면, 새로고침기능임.\r\n        setTimeout(() => {\r\n          history.push(`/item/detail/${item_seq}`);\r\n        }, 2000);\r\n      }\r\n    } else if (res.status_code === 4401) {\r\n      message.warning({\r\n        content: '이미 예약하신 정보가 존재합니다. 예약은 한 번만 가능합니다',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    } else if (res.status_code === 9404) {\r\n      message.warning({\r\n        content: '회원이 존재하지 않습니다.',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    }\r\n    setIsModal(false);\r\n    dispatch(resetUser());\r\n  };\r\n  const onCancelReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postCancelReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n  const onReturnReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postReturnReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (availableTime && value) {\r\n      const [a, b] = value;\r\n      availableTime[day - 1].start_time = moment(a).format('HH:00:00');\r\n      availableTime[day - 1].end_time = moment(b).format('HH:00:00');\r\n    } else if (availableTime && !value) {\r\n      availableTime[day - 1].start_time = '';\r\n      availableTime[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  /////////useEffect\r\n  useEffect(() => {\r\n    setSelectedTimes([]);\r\n    const el = rooms.filter((el) => el.seq === Number(item_seq));\r\n\r\n    if (el) {\r\n      const isY = el[0]?.use_flag === 'Y';\r\n      setChangeItemName(el[0]?.item_name);\r\n      setmStartTime(el[0]?.start_time);\r\n      setmEndTime(el[0]?.end_time);\r\n      setmUseFlag(isY);\r\n      setmHours(el[0]?.hours_of_use);\r\n      setmCount(el[0]?.select_count);\r\n      if (el[0]?.available_time) {\r\n        const arr = el[0]?.available_time;\r\n        setAvailableTime([...arr]);\r\n      }\r\n      setSameEveryday(Boolean(el[0]?.hours_of_use && el[0]?.select_count));\r\n    }\r\n  }, [rooms]);\r\n\r\n  useEffect(() => {\r\n    if (mStartTime && mEndTime) {\r\n      const start = extractHour(mStartTime, ':');\r\n      const end = extractHour(mEndTime, ':');\r\n      setTotalHour(end - start);\r\n    }\r\n  }, [mStartTime, mEndTime]);\r\n\r\n  useEffect(() => {\r\n    setMaxCount(Math.floor(totalHour / mHours));\r\n  }, [totalHour]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!mUseFlag) {\r\n  //     const zeroAvailableTime = resetAvailableTime();\r\n  //     setAvailableTime([...zeroAvailableTime]);\r\n  //   }\r\n  // }, [mUseFlag]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: uuid(),\r\n      width: 60,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else if (_record.bookable === 'N') {\r\n          return <Badge status=\"default\" text=\"예약 중\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청시간',\r\n      dataIndex: 'reserved_time',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item ? moment(_item).format('MM-DD HH:mm') : ''}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 취소',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 100,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"예약을 취소하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '반납 처리',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 100,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"반납 처리하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onReturnReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <EnterOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <DvdMakeReservation\r\n        openModal={isModal}\r\n        setIsModal={setIsModal}\r\n        selectedTimes={selectedTimes}\r\n        onReserveRoom={onReserveRoom}\r\n        changeRoomName={changeItemName}\r\n        user={user}\r\n      />\r\n\r\n      <MenuGuide title={`물품 예약 상세`} subTitle={`물품 예약 상태를 관리할 수 있습니다.`} />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`물품(${item_name}) 정보`}</Text>\r\n      </Divider>\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"실 명\" span={1}>\r\n          <Text>{`${item_name}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"실 상태\" span={3}>\r\n          {/* {use_flag === \"Y\" && start_time && (\r\n            <Badge status=\"processing\" text=\"정상 운영\" />\r\n          )}\r\n          {use_flag === \"N\" && !start_time && (\r\n            <Badge status=\"default\" text=\"이용 불가\" />\r\n          )} */}\r\n          {use_flag === 'Y' && <Badge status=\"processing\" text=\"정상 운영\" />}\r\n          {use_flag === 'N' && <Badge status=\"default\" text=\"이용 불가\" />}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"대여실 이름\" span={3}>\r\n              <Input\r\n                value={changeItemName}\r\n                onChange={(e) => {\r\n                  setChangeItemName(e.target.value);\r\n                }}\r\n              />\r\n            </Descriptions.Item>\r\n\r\n            {!sameEveryday &&\r\n              availableTime?.map((el, idx) => {\r\n                const isNull = !el.start_time && !el.end_time;\r\n\r\n                return (\r\n                  <Descriptions.Item label={`대여 운영 시간 설정 - ${days[idx]}`} span={3} key={el.day}>\r\n                    {isNull ? (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    ) : (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        defaultValue={[moment(el.start_time, 'HH:mm'), moment(el.end_time, 'HH:mm')]}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    )}\r\n                  </Descriptions.Item>\r\n                );\r\n              })}\r\n\r\n            {sameEveryday && (\r\n              <>\r\n                <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n                  <TimePicker.RangePicker\r\n                    placeholder={[`시작시간`, `종료시간`]}\r\n                    format={`HH:mm`}\r\n                    value={[moment(mStartTime, 'HH:mm'), moment(mEndTime, 'HH:mm')]}\r\n                    onChange={(e) => {\r\n                      if (e) {\r\n                        const [start, end] = e;\r\n                        if (start && end) {\r\n                          setmStartTime(start?.format('HH:00'));\r\n                          setmEndTime(end?.format('HH:00'));\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></TimePicker.RangePicker>\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"연속 예약 횟수\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mCount === undefined}\r\n                    min={1}\r\n                    max={Math.floor(totalHour / mHours)}\r\n                    defaultValue={mCount}\r\n                    onChange={(e) => {\r\n                      console.log(e);\r\n\r\n                      setmCount(e);\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"예약 시간 단위\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mHours === undefined}\r\n                    min={1}\r\n                    max={totalHour}\r\n                    defaultValue={mHours}\r\n                    onChange={(e) => {\r\n                      setmHours(e);\r\n                      setMaxCount(Math.floor(totalHour / e));\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n              </>\r\n            )}\r\n            <Descriptions.Item label=\"대여 불가 설정\" span={3}>\r\n              <Switch\r\n                checked={!mUseFlag}\r\n                onClick={() => {\r\n                  setmUseFlag((prevData) => {\r\n                    return !prevData;\r\n                  });\r\n                }}\r\n              ></Switch>\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              {/* <Link\r\n              to={{\r\n                pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n              }}\r\n              >\\\r\n              </Link> */}\r\n              <Button type=\"primary\" onClick={onFix}>\r\n                정보 및 목록 수정\r\n              </Button>\r\n              <Popconfirm\r\n                title=\"아이템을 정말 삭제하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  //   e.stopPropagation();\r\n                  onDeleteClick();\r\n                  //   console.log(_record.user_key);\r\n                  //   onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <Button type=\"primary\" danger>\r\n                  삭 제\r\n                </Button>\r\n                {/* <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                /> */}\r\n              </Popconfirm>\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n      <MenuGuide\r\n        style={{\r\n          marginTop: '2rem',\r\n        }}\r\n        title={`물품 시간표`}\r\n        subTitle={`예약 상태를 확인 할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`예약 정보`}</Text>\r\n      </Divider>\r\n      <Table rowKey={(record) => record.start_time} columns={columns} rowSelection={{ ...rowSelection }} dataSource={dataSource} bordered size=\"small\" />\r\n      <div style={{ marginBottom: '10px', textAlign: 'center' }}>\r\n        {dataSource && (\r\n          <Button type=\"primary\" onClick={findUser} disabled={err || selectedRowkeys.length === 0}>\r\n            예약하기\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailForm;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  ModesType,\r\n  ModeType,\r\n  ContentsType,\r\n  ResponseVo,\r\n  EquipIdxType,\r\n  PutModeDataType,\r\n  PutReturnDateType,\r\n  ReturnDateType,\r\n  ContentsReturnType,\r\n  LoadingType,\r\n  GetContentsType,\r\n  HolidayType,\r\n  HolidayReturnType,\r\n  PutHolidayType,\r\n  PatchHolidayType,\r\n  PostHolidayType,\r\n  EqpNameType,\r\n  PublicHolidayModeType,\r\n  WeekPeriodType,\r\n  DayOfTheWeek,\r\n  HolidayInfoReturnType,\r\n  ResponseBodyContents,\r\n  ResponseBodyHoliday,\r\n  ResponseBodyHolidayInfo,\r\n  ResponseBodyMode,\r\n  ResponseBodyReturnDate,\r\n} from './../types/Lss';\r\n\r\nimport {\r\n  requestLssDeleteForCaptionContents,\r\n  requestLssDeleteForNoticeContents,\r\n  requestLssDeleteHoliday,\r\n  requestLssGetForContents,\r\n  requestLssGetForHoliday,\r\n  requestLssGetForMode,\r\n  requestLssGetForReturnDate,\r\n  requestLssGetHolidayInfo,\r\n  requestLssPatchChangeHoliday,\r\n  requestLssPostForCaption,\r\n  requestLssPostForContents,\r\n  requestLssPostHoliday,\r\n  requestLssPutChangeForHolidy,\r\n  requestLssPutForCaptionContents,\r\n  requestLssPutForMode,\r\n  requestLssPutForNoticeContents,\r\n  requestLssPutForReturnDate,\r\n} from '../api';\r\n\r\nimport { message } from 'antd';\r\n\r\nexport const LSS_DETAIL = 'lssDetail' as const;\r\n\r\ntype SliceState = {\r\n  mode: ModesType;\r\n  reg_date: string;\r\n  idx: number;\r\n  eqpName: string;\r\n  equip_idx: number;\r\n  //자막,메모\r\n  notice: Array<ContentsType>;\r\n  caption: Array<ContentsType>;\r\n  //휴가\r\n  holiday: Array<HolidayType>;\r\n  LegalHoliday: Array<HolidayType>;\r\n  //반납일\r\n  returnDate: string;\r\n  //휴가설정을 가져옴\r\n  type: null;\r\n  date: PublicHolidayModeType;\r\n  period1: WeekPeriodType;\r\n  period2: string | number;\r\n  value: DayOfTheWeek;\r\n  //\r\n  isSpin: boolean;\r\n  isProgress: boolean;\r\n};\r\ntype PayloadType = {\r\n  [LSS_DETAIL]: SliceState;\r\n  //\r\n};\r\nexport const fetchGetDefaultInfo = createAsyncThunk(`${LSS_DETAIL}/fetchGetDefaultInfo`, async ({ ...args }: EquipIdxType) => {\r\n  const response = await requestLssGetForMode({ ...args });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutMode = createAsyncThunk(`${LSS_DETAIL}/fetchPutMode`, async ({ ...args }: PutModeDataType) => {\r\n  const response = await requestLssPutForMode({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetReturnDate = createAsyncThunk(`${LSS_DETAIL}/fetchGetReturnDate`, async () => {\r\n  const response = await requestLssGetForReturnDate();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutReturnDate = createAsyncThunk(`${LSS_DETAIL}/fetchPutReturnDate`, async ({ codeName, ...args }: PutReturnDateType) => {\r\n  const response = await requestLssPutForReturnDate({\r\n    ...args,\r\n    codeName: codeName,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetContents = createAsyncThunk(`${LSS_DETAIL}/fetchGetContents`, async ({ ...args }: GetContentsType) => {\r\n  const response = await requestLssGetForContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchPutCaptionContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssPutForCaptionContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchPostNoticeContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssPostForContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchPostCaptionContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssPostForCaption({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchPutNoticeContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssPutForNoticeContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteNoticeContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssDeleteForNoticeContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteCaptionContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssDeleteForCaptionContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n//holiday\r\nexport const fetchGetHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchGetHoliday`, async () => {\r\n  const response = await requestLssGetForHoliday();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutChangeHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPutChangeHolidy`, async (element: PutHolidayType) => {\r\n  const response = await requestLssPutChangeForHolidy(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPatchChangeHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPatchChangeHoliday`, async (element: PatchHolidayType) => {\r\n  const response = await requestLssPatchChangeHoliday(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteHoliday`, async (idx: number) => {\r\n  const response = await requestLssDeleteHoliday(idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPostHoliday`, async (element: PostHolidayType) => {\r\n  const response = await requestLssPostHoliday(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchGetHolidayInfo = createAsyncThunk(`${LSS_DETAIL}/fetchGetHolidayInfo`, async () => {\r\n  const response = await requestLssGetHolidayInfo();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nconst lssSlice = createSlice({\r\n  name: LSS_DETAIL,\r\n  initialState: {\r\n    mode: 'CLOSURE',\r\n    reg_date: '',\r\n    idx: 1,\r\n    eqpName: 'LSS',\r\n    equip_idx: 1,\r\n    notice: [],\r\n    caption: [],\r\n    holiday: [],\r\n    LegalHoliday: [],\r\n    isSpin: false,\r\n    isProgress: false,\r\n    returnDate: '14',\r\n    type: null,\r\n    date: 'week',\r\n    period1: 'weekly',\r\n    period2: '',\r\n    value: ['MONDAY'],\r\n  } as SliceState,\r\n  reducers: {\r\n    setEquipIdx: (state, action: PayloadAction<EquipIdxType>) => {\r\n      state.equip_idx = action.payload.equip_idx;\r\n    },\r\n    setMode: (state, action: PayloadAction<ModeType>) => {\r\n      state.mode = action.payload.mode;\r\n    },\r\n    setReturnDate: (state, action: PayloadAction<ReturnDateType>) => {\r\n      state.returnDate = action.payload.returnDate;\r\n    },\r\n    setEqpName: (state, action: PayloadAction<EqpNameType>) => {\r\n      state.eqpName = action.payload.eqpName;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchGetDefaultInfo.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetDefaultInfo.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyMode>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.mode = result.mode;\r\n        //장비번호에 걸려있는 lss인덱스까지 가져옴.\r\n        state.idx = result.idx;\r\n        state.equip_idx = result.equip_idx;\r\n        state.eqpName = result.eqpName;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutMode.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutMode.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyMode>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.mode = result.mode;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다.');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutReturnDate.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n\r\n    [fetchPutReturnDate.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyReturnDate>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.returnDate = result.returnDate;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetReturnDate.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetReturnDate.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyReturnDate>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.returnDate = result.returnDate;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        state.caption = result.CAPTION;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPostNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPostCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchDeleteCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutChangeHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutChangeHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPatchChangeHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPatchChangeHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPostHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetHolidayInfo.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetHolidayInfo.fulfilled.type]: (state: HolidayInfoReturnType, action: PayloadAction<ResponseVo<ResponseBodyHolidayInfo>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.type = result.type;\r\n        state.date = result.date;\r\n        state.period1 = result.period1;\r\n        state.period2 = result.period2;\r\n        state.value = result.value;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setMode, setReturnDate, setEquipIdx, setEqpName } = lssSlice.actions;\r\nexport default lssSlice.reducer;\r\n\r\nexport const selectLssDetail = (state: PayloadType) => state;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  margin-left: 1rem;\r\n  font-family: 'bmjua';\r\n`;\r\n","import React, { FC, useCallback, useEffect, useState } from 'react';\r\nimport { Popconfirm, Radio, RadioChangeEvent } from 'antd';\r\nimport { ModesType } from '../../../../../types/Lss';\r\nimport { Wrapped } from './RadioMode.styled';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPutMode, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\n\r\ntype RadioModeType = {\r\n  value: ModesType;\r\n};\r\n\r\n/**\r\n *\r\n * @param value 라디오그룹에서 기본으로 정의된 데이터입니다.\r\n * @returns\r\n */\r\nconst RadioMode: FC<RadioModeType> = ({ value }) => {\r\n  const [mode, setMode] = useState(value);\r\n  const [prevMode, setPrevMode] = useState(value);\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  useEffect(() => {\r\n    setMode(value);\r\n  }, [value]);\r\n\r\n  //모드 변경을 위한 이벤트 핸들러\r\n  const onConfirmPutMode = useCallback(\r\n    (mode: ModesType) => {\r\n      dispatch(\r\n        fetchPutMode({\r\n          equip_idx: state[LSS_DETAIL].equip_idx,\r\n          mode: mode,\r\n        })\r\n      );\r\n    },\r\n    [value]\r\n  );\r\n\r\n  const onChangeMode = useCallback(\r\n    (e: RadioChangeEvent) => {\r\n      const mode = e.target.value as ModesType;\r\n      setMode(mode);\r\n    },\r\n    [value]\r\n  );\r\n  const onCancelMode = useCallback(\r\n    (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      setMode(prevMode);\r\n    },\r\n    [prevMode]\r\n  );\r\n  const onConfirm = useCallback(\r\n    (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      setPrevMode(mode);\r\n      onConfirmPutMode(mode);\r\n    },\r\n    [mode, onConfirmPutMode]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <Radio.Group onChange={onChangeMode} value={mode}>\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'LOAN'}>대출일</Radio>\r\n          </Popconfirm>\r\n\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'CLOSURE'}>휴관일</Radio>\r\n          </Popconfirm>\r\n\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'MEMO'}>메시지</Radio>\r\n          </Popconfirm>\r\n        </Radio.Group>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RadioMode;\r\n","import styled from 'styled-components';\r\nimport { InputNumber } from 'antd';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const Inner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Title = styled.span`\r\n  font-family: 'bmjua';\r\n  margin-right: 1rem;\r\n`;\r\n\r\nexport const InputNumberWrapped = styled(InputNumber)`\r\n  margin-right: 1rem;\r\n`;\r\n","import React, { FC, useCallback } from 'react';\r\nimport { Button, InputNumberProps } from 'antd';\r\nimport { Inner, Title, Wrapped, InputNumberWrapped } from './ReturnDate.styled';\r\nimport {\r\n  fetchPutReturnDate,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n  setReturnDate,\r\n} from '../../../../../slice/LssSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { valueType } from 'antd/lib/statistic/utils';\r\n\r\ntype ReturnDateComponentType = {\r\n  //대여일 값\r\n  value: number | undefined;\r\n};\r\n\r\nconst ReturnDateComponent: FC<ReturnDateComponentType> = ({\r\n  value,\r\n}: ReturnDateComponentType) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  //대여일 변경을위한 이벤트핸들러\r\n  const onChangeDate = useCallback(\r\n    (date: valueType) => {\r\n      const returnDate = date.toString();\r\n      dispatch(\r\n        setReturnDate({\r\n          returnDate: returnDate,\r\n        })\r\n      );\r\n    },\r\n    [state]\r\n  );\r\n  //저장이벤트\r\n  const onChangeDateSave = useCallback(() => {\r\n    const date = state[LSS_DETAIL].returnDate.toString();\r\n    dispatch(\r\n      fetchPutReturnDate({\r\n        codeName: date,\r\n        codeGroup: 'LSS',\r\n        codeID: 'rental_date',\r\n      })\r\n    );\r\n  }, [value]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <Inner>\r\n          <Title>대여일 : </Title>\r\n          {/* onChange 이벤트핸들러를 전달하기위해 아래 타입을 넣음. */}\r\n          {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/39136 링크참조 */}\r\n          <InputNumberWrapped<FC<InputNumberProps<number>>>\r\n            size={'large'}\r\n            min={1}\r\n            max={31}\r\n            value={value}\r\n            onChange={onChangeDate}\r\n          />\r\n          <Button size={'large'} type='primary' onClick={onChangeDateSave}>\r\n            적 용\r\n          </Button>\r\n        </Inner>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReturnDateComponent;\r\n","import styled from 'styled-components';\r\nimport { Tabs } from 'antd';\r\nimport { CalendarOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  font-family: 'bmjua';\r\n  letter-spacing: 0.1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  width: 65%;\r\n  margin: auto;\r\n`;\r\n\r\ntype Progress = {\r\n  isProgress: boolean;\r\n};\r\nexport const ProgressWrapped = styled.div<Progress>`\r\n  width: 100%;\r\n  margin: auto;\r\n  ${(props) =>\r\n    props.isProgress &&\r\n    `\r\n    filter : blur(8px),\r\n  `};\r\n`;\r\nexport const TabsWrapped = styled.div`\r\n  border: 1px solid #e7e7e7;\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n`;\r\nexport const TabWrapped = styled(Tabs)`\r\n  position: relative;\r\n`;\r\n\r\nexport const SpanWrapped = styled.span`\r\n  cursor: pointer;\r\n  height: 100%;\r\n`;\r\nexport const SettingIconWrapped = styled(SettingOutlined)`\r\n  margin: 0.5rem;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n`;\r\nexport const CalendarIconWrapped = styled(CalendarOutlined)`\r\n  margin: 0.5rem;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n`;\r\n","import { DeleteOutlined } from '@ant-design/icons';\r\nimport { Button, Card } from 'antd';\r\nimport styled from 'styled-components';\r\nimport TextArea, { TextAreaRef } from 'antd/lib/input/TextArea';\r\n\r\nexport const IconButton = styled(Button)`\r\n  border: 0;\r\n  background-color: white;\r\n\r\n  &[disabled] {\r\n    background-color: white;\r\n  }\r\n  &:hover[disabled] {\r\n    background-color: white;\r\n    cursor: default;\r\n  }\r\n  &:hover {\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nexport const RedIconButton = styled(IconButton)`\r\n  color: red;\r\n`;\r\nexport const BaddgeWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const CardWrapped = styled(Card)`\r\n  width: 96%;\r\n  margin: 0.5rem;\r\n  padding: 0 0.5rem;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n`;\r\n\r\nexport const DeleteIcon = styled(DeleteOutlined)`\r\n  color: #ce1b1b;\r\n`;\r\n\r\nexport const TextFieldsWrapped = styled(TextArea)`\r\n  cursor: default;\r\n`;\r\n","import { CheckOutlined, EditOutlined } from '@ant-design/icons';\r\nimport { Badge, Popconfirm } from 'antd';\r\nimport { TextAreaRef } from 'antd/lib/input/TextArea';\r\nimport React, { FC, memo, useEffect, useRef, useState } from 'react';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\nimport { BaddgeWrapped, CardWrapped, DeleteIcon, IconButton, RedIconButton, TextFieldsWrapped } from './NoticeCards.styled';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchDeleteNoticeContents, fetchPutNoticeContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport styles from './NoticeCards.module.scss';\r\n\r\ntype inputState = 'default' | 'changing';\r\ntype changeType = 'isUsed' | 'content';\r\n\r\nconst NoticeCards: FC<ContentsType> = ({ is_used, lss_content_idx, lss_master_idx, content }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  const [modeState, setModeState] = useState<inputState>('default');\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [isUsed, setIsUsed] = useState(is_used === 'Y' ? true : false);\r\n  const [lssContentIdx, setLssContentIdx] = useState(lss_content_idx);\r\n  const [lssMasterIdx, setLssMasterIdx] = useState(lss_master_idx);\r\n  const [mContent, setmContent] = useState(content);\r\n  const [prevContent, setPrevContent] = useState(content);\r\n  const textRef = useRef<TextAreaRef>(null);\r\n\r\n  useEffect(() => {\r\n    //텍스트값이 변경되는지 확인하는 로직\r\n    if (modeState === 'default' && prevContent !== mContent) {\r\n      setModeState('changing');\r\n    }\r\n  }, [mContent]);\r\n\r\n  useEffect(() => {\r\n    //idx와 used가 바뀌면 다시 설정함.\r\n    setLssContentIdx(lss_content_idx);\r\n    setIsUsed(is_used === 'Y' ? true : false);\r\n  }, [lss_content_idx, is_used]);\r\n\r\n  const onNoticeContentPutChange = (content: ContentsType, type: changeType) => {\r\n    const data = JSON.parse(JSON.stringify(state[LSS_DETAIL].notice));\r\n    const fixedData: Array<ContentsType> = data.map((item: ContentsType) => {\r\n      if (type === 'isUsed') {\r\n        //표시할 공지사항을 선택할 경우 다른 아이템들의 is_used는 N으로 설정하고, 선택된 아이템의 isused만 Y로 변경하는 로직\r\n        if (item.lss_content_idx === content.lss_content_idx) {\r\n          item.is_used = content.is_used;\r\n        } else {\r\n          item.is_used = 'N';\r\n        }\r\n        return item;\r\n      } else {\r\n        if (item.lss_content_idx === content.lss_content_idx) {\r\n          item.content = content.content;\r\n        }\r\n        return item;\r\n      }\r\n    });\r\n    dispatch(fetchPutNoticeContents(fixedData));\r\n  };\r\n  const onNoticeDelete = (content: ContentsType) => {\r\n    content.lss_master_idx = state[LSS_DETAIL].idx;\r\n    dispatch(fetchDeleteNoticeContents({ ...content }));\r\n  };\r\n\r\n  const onChangeTextFields = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const target = e.target as HTMLTextAreaElement;\r\n    if (e.target.value.split('\\n').length > 6) {\r\n      return false;\r\n    }\r\n    setmContent(target.value);\r\n  };\r\n  const onChangeUsed = (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\r\n    isUsed ? setIsUsed(false) : setIsUsed(true);\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      //상태는 나중에 바뀌기 때문에 반전된 값을넣음\r\n      is_used: isUsed ? 'N' : 'Y',\r\n    };\r\n    onNoticeContentPutChange(data, 'isUsed');\r\n  };\r\n  const onChangeText = (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\r\n    // 현재 입력상태를 변경한다.\r\n    if (modeState === 'default') {\r\n      isDisabled ? setIsDisabled(false) : setIsDisabled(true);\r\n    }\r\n  };\r\n  const onCancel = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    if (modeState === 'changing') {\r\n      //취소하면 이전상태로 돌아옴\r\n      setModeState('default');\r\n      setmContent(prevContent);\r\n      isDisabled ? setIsDisabled(false) : setIsDisabled(true);\r\n    }\r\n  };\r\n  const onSaveText = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    const target = textRef.current as TextAreaRef;\r\n    const inputText = target.resizableTextArea?.props.value as string;\r\n    setPrevContent(inputText);\r\n    setmContent(inputText);\r\n    setModeState('default');\r\n    setIsDisabled(true);\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      is_used: isUsed ? 'Y' : 'N',\r\n    };\r\n    onNoticeContentPutChange(data, 'content');\r\n  };\r\n  const onDeleteIcon = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      //상태는 나중에 바뀌기 때문에 반전된 값을넣음\r\n      is_used: isUsed ? 'Y' : 'N',\r\n    };\r\n    onNoticeDelete(data);\r\n  };\r\n\r\n  const Textfields: React.ReactNode = (\r\n    <div className={styles.text}>\r\n      <TextFieldsWrapped\r\n        ref={textRef}\r\n        maxLength={25 * 6}\r\n        autoSize={{\r\n          maxRows: 6,\r\n        }}\r\n        disabled={isDisabled}\r\n        cols={1}\r\n        rows={6}\r\n        onChange={onChangeTextFields}\r\n        value={mContent}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  //#region 아이콘 버튼\r\n  const BadgeIcon: FC = () => {\r\n    return (\r\n      <BaddgeWrapped>\r\n        <IconButton>\r\n          <Badge status={isUsed ? 'processing' : 'warning'} />\r\n        </IconButton>\r\n      </BaddgeWrapped>\r\n    );\r\n  };\r\n  const ModifyIconBtn: FC = () => {\r\n    useEffect(() => {\r\n      textRef.current?.focus({\r\n        cursor: 'end',\r\n      });\r\n    });\r\n    return modeState === 'changing' ? (\r\n      <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" okType=\"primary\" onConfirm={onSaveText} onCancel={onCancel}>\r\n        <RedIconButton onClick={onChangeText}>\r\n          <EditOutlined key=\"edit\" />\r\n        </RedIconButton>\r\n      </Popconfirm>\r\n    ) : (\r\n      <IconButton onClick={onChangeText}>\r\n        <EditOutlined key=\"edit\" />\r\n      </IconButton>\r\n    );\r\n  };\r\n  const UsedIconBtn: FC = () => {\r\n    return (\r\n      <IconButton disabled={modeState === 'changing' ? true : false} onClick={onChangeUsed}>\r\n        <CheckOutlined key=\"ellipsis\" />\r\n      </IconButton>\r\n    );\r\n  };\r\n  const DeleteIconBtn: FC = () => {\r\n    return (\r\n      <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onDeleteIcon} okType=\"primary\">\r\n        <IconButton>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </Popconfirm>\r\n    );\r\n  };\r\n  //#endregion\r\n  return (\r\n    <CardWrapped className={styles.card} cover={Textfields} actions={[<BadgeIcon />, <ModifyIconBtn />, <UsedIconBtn />, <DeleteIconBtn />]}></CardWrapped>\r\n  );\r\n};\r\n\r\nexport default NoticeCards;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC } from 'react';\r\nimport { IconWrapped, Wrapped } from './NoticeDrawTitle.styled';\r\n\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>메모를 등록하거나 관리하세요</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerTitle;\r\n","import { SettingTwoTone } from '@ant-design/icons';\r\nimport { Drawer } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\ntype Icon = {\r\n  isActive?: boolean;\r\n};\r\nexport const IconWrapped = styled.div<Icon>`\r\n  width: 4rem;\r\n  border-bottom: 1px inset rgba(29, 150, 224, 0.3);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.35s;\r\n  margin: 0 1rem 0 0;\r\n\r\n  ${(props) =>\r\n    props.isActive &&\r\n    `    transform: rotate3d(180, 20, 36, 360deg);\r\n  `}\r\n  &:hover {\r\n    transform: scale(0.9);\r\n  }\r\n`;\r\n\r\nexport const CardsWrapped = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: repeat(1, 1.5fr);\r\n  overflow: hidden;\r\n`;\r\nexport const TextWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 4rem;\r\n`;\r\n\r\nexport const DrawerWrapped = styled(Drawer)``;\r\n\r\nexport const SettingIconWrapped = styled(SettingTwoTone)`\r\n  margin: 0.5rem;\r\n  font-size: 2rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const TextAreaWrapped = styled(TextArea)`\r\n  text-align: center;\r\n  cursor: default;\r\n`;\r\n","import React, { FC, memo, useCallback } from 'react';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\nimport NoticeCards from './NoticeCards';\r\nimport DrawerTitle from './NoticeDrawTitle';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPostNoticeContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport styles from './Notice.module.scss';\r\nimport { useGetUsedNotice } from './hooks/useGetUseNotice';\r\nimport { Wrapped, InnerWrapped, IconWrapped, SettingIconWrapped, TextWrapped, TextAreaWrapped, DrawerWrapped, CardsWrapped } from './Notice.styled';\r\n\r\ntype NoticeType = {\r\n  isVisible: boolean;\r\n  notice: Array<ContentsType>;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nconst Notice: FC<NoticeType> = ({ isVisible, setIsVisible, notice }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n  //is_used가 y로 설정된 값을 가져옴\r\n  const selectedContent = useGetUsedNotice(notice);\r\n\r\n  //3.\r\n  const onNoticePost = (content: ContentsType) => {\r\n    content.lss_master_idx = state[LSS_DETAIL].idx;\r\n    dispatch(fetchPostNoticeContents({ ...content }));\r\n  };\r\n\r\n  const onClickAddIcon = useCallback((e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    onNoticePost({\r\n      type: 'NOTICE',\r\n      lss_content_idx: 0,\r\n      lss_master_idx: 0,\r\n      content: '메모',\r\n      is_used: 'N',\r\n    });\r\n  }, []);\r\n  const onClick = useCallback(() => {\r\n    setIsVisible(true);\r\n  }, []);\r\n  const onClose = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  const items = notice.map((item, index) => (\r\n    <NoticeCards\r\n      key={uuid()}\r\n      type={item.type}\r\n      content={item.content}\r\n      is_used={item.is_used}\r\n      lss_content_idx={item.lss_content_idx}\r\n      lss_master_idx={item.lss_master_idx}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <IconWrapped isActive={isVisible} onClick={onClick}>\r\n          <SettingIconWrapped twoToneColor={'#3b80ff'} />\r\n        </IconWrapped>\r\n        <TextWrapped className={styles.text}>\r\n          <h5>미리보기</h5>\r\n          <TextAreaWrapped\r\n            disabled={true}\r\n            value={selectedContent ? selectedContent.content : '적용된 메모가 없습니다'}\r\n            maxLength={25 * 6}\r\n            autoSize={{ maxRows: 6 }}\r\n            cols={1}\r\n            rows={6}\r\n          ></TextAreaWrapped>\r\n        </TextWrapped>\r\n      </InnerWrapped>\r\n      <DrawerWrapped\r\n        className={styles.drawer}\r\n        title={<DrawerTitle onClick={onClickAddIcon} />}\r\n        placement=\"right\"\r\n        closable={true}\r\n        visible={isVisible}\r\n        getContainer={false}\r\n        onClose={onClose}\r\n        width={'100%'}\r\n        maskStyle={{ backgroundColor: 'rgba(0,0,0,0)' }}\r\n      >\r\n        <CardsWrapped>{items}</CardsWrapped>\r\n      </DrawerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Notice;\r\n","import { useEffect, useState } from 'react';\r\nimport { ContentsType } from '../../../../../../types/Lss';\r\n\r\n/**\r\n * 사용중인 공지사항을 반환합니다.\r\n */\r\nexport const useGetUsedNotice = (notice: Array<ContentsType>) => {\r\n  const [selectedContents, setSelectedContents] = useState<ContentsType | undefined>({\r\n    seq: 0,\r\n    type: 'NOTICE',\r\n    content: 'undefined',\r\n    lss_content_idx: 1,\r\n    lss_master_idx: 1,\r\n    is_used: 'N',\r\n    uuid: '',\r\n  });\r\n  useEffect(() => {\r\n    const result = notice.find((o) => o.is_used === 'Y');\r\n    setSelectedContents(result);\r\n  }, [notice]);\r\n  return selectedContents;\r\n};\r\n","import { SettingTwoTone } from '@ant-design/icons';\r\nimport { Drawer } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const CaptionWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const DrawerWrapped = styled(Drawer)`\r\n  position: absolute;\r\n`;\r\ntype Icon = {\r\n  isActive?: boolean;\r\n};\r\nexport const IconWrapped = styled.div<Icon>`\r\n  width: 4rem;\r\n  border-bottom: 1px inset rgba(29, 150, 224, 0.3);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.35s;\r\n  margin: 0 1rem 0 0;\r\n  ${(props) =>\r\n    props.isActive &&\r\n    `\r\n\r\n    transform: rotate3d(180, 20, 36, 360deg);\r\n  `}\r\n  &:hover {\r\n    transform: scale(0.9);\r\n  }\r\n`;\r\n\r\nexport const CardsWrapped = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: repeat(1, 1.5fr);\r\n`;\r\nexport const SettingIconWrapped = styled(SettingTwoTone)`\r\n  margin: 0.5rem;\r\n  font-size: 2rem;\r\n  cursor: pointer;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC, memo } from 'react';\r\nimport { IconWrapped, Wrapped } from './CaptionDrawTitle.styled';\r\n\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = memo(({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>자막을 등록하거나 관리하세요</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default DrawerTitle;\r\n","import styled from 'styled-components';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\nexport const CaptionWrapped = styled.div`\r\n  width: 100%;\r\n  margin: auto;\r\n`;\r\n\r\ntype TypeCaptionItemWrapped = {\r\n  isSelected?: boolean;\r\n};\r\nexport const CaptionItemWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  color: black;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\n    cursor:pointer;\r\n    color:blue;\r\n    `}\r\n`;\r\n\r\nexport const ItemsWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n  transition: filter 0.25s;\r\n  font-size: 1.3rem;\r\n  margin: 0.2rem;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\nfilter : blur(2px)\r\n`}\r\n`;\r\nexport const SpanIconWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\ntype TypeNotice = {\r\n  isEdit?: boolean;\r\n};\r\nexport const NoticeBox = styled.div<TypeNotice>`\r\n  display: flex;\r\n  height: 0;\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 100%;\r\n  padding: 0 3rem;\r\n  top: 0;\r\n  z-index: 99;\r\n  background-color: white;\r\n  transition: all 0.1s;\r\n  width: 100%;\r\n\r\n  ${(props) =>\r\n    props.isEdit &&\r\n    `\r\n    visibility: visible;\r\n    height: 7%;\r\n  `};\r\n`;\r\n\r\nexport const DragIndicatorIconWrapped = styled(DragIndicatorIcon)`\r\n  color: #dfe6e9;\r\n  vertical-align: middle;\r\n`;\r\n\r\nexport const DeleteOutlinedWrapped = styled(DeleteOutlined)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0 3rem;\r\n  color: #ce1b1b;\r\n`;\r\n\r\nexport const CaptionSpan = styled.span`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n`;\r\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable, DroppableProvided, DroppableStateSnapshot, DropResult } from 'react-beautiful-dnd';\r\nimport {\r\n  CaptionItemWrapped,\r\n  CaptionSpan,\r\n  DeleteOutlinedWrapped,\r\n  DragIndicatorIconWrapped,\r\n  ItemsWrapped,\r\n  NoticeBox,\r\n  SpanIconWrapped,\r\n} from './CaptionItems.styled';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchDeleteCaptionContents, fetchPutCaptionContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { Input, Popconfirm } from 'antd';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\n\r\nconst grid: number = 2;\r\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\r\n  userSelect: 'none',\r\n  padding: grid * 2,\r\n  margin: `0 0 ${grid}px 0`,\r\n  background: isDragging ? '#ecf0f188' : 'white',\r\n  borderRadius: '8px',\r\n  width: '100%',\r\n  ...draggableStyle,\r\n});\r\nconst reorder = (list: Array<any>, startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n};\r\n//드래그끝나면 재정렬해야함\r\ntype CaptionType = Partial<ContentsType>;\r\n\r\ntype CaptionComponentType = {\r\n  captionList?: Array<CaptionType>;\r\n  innerText?: string;\r\n  uuid?: string;\r\n  selectedUuid?: string;\r\n};\r\n\r\nconst CaptionItems: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n  const [captionList, setCaptionList] = useState<Array<CaptionType>>(state[LSS_DETAIL].caption);\r\n  const [selectedItemUUID, setSelectedItemUUID] = useState('');\r\n  const [selectedCaption, setSelectedCaption] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const InputTextRef = useRef<Input>(null);\r\n  //drawer가 out되고 다시 나타나더라도 텍스트를 가지고있기 위해 존재하는 상태값\r\n\r\n  /**\r\n   * 자막의 내용, 삭제아이콘을 반환합니다\r\n   */\r\n  const CatpionContent: FC<CaptionComponentType> = ({ uuid, innerText }: CaptionComponentType) => {\r\n    const onConfirm = useCallback(\r\n      (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n        e && e.stopPropagation();\r\n        const data = JSON.parse(JSON.stringify(captionList));\r\n        //선택된 요소를 삭제후 put을 전송합니다.\r\n        const result = data.filter((caption: ContentsType) => caption.uuid !== uuid);\r\n        dispatch(fetchDeleteCaptionContents(result));\r\n      },\r\n      [captionList]\r\n    );\r\n    const onCancel = useCallback((e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      e && e.stopPropagation();\r\n      resetDefaultState();\r\n    }, []);\r\n    return (\r\n      <SpanIconWrapped>\r\n        <CaptionSpan data-set={'caption'}>{innerText}</CaptionSpan>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onConfirm} onCancel={onCancel} okType=\"primary\">\r\n          <DeleteOutlinedWrapped />\r\n        </Popconfirm>\r\n      </SpanIconWrapped>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 내용을 수정할때 input박스가 나오는 기능\r\n   */\r\n  const ChangeModeComponent: FC = () => {\r\n    const onKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.code === 'Escape') {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        resetDefaultState();\r\n      }\r\n    }, []);\r\n    /**\r\n     * input 생성시 포커스맞춤\r\n     */\r\n    useEffect(() => {\r\n      const target = InputTextRef.current as Input;\r\n      target.setValue(selectedCaption);\r\n      target.focus({ preventScroll: true }); //preventscroll설정을 false로 할 경우 drawer 관련 랜더링 깨짐 증상이 있음\r\n    }, []);\r\n    return <Input ref={InputTextRef} maxLength={100} onPressEnter={onPressEnter} onKeyDown={onKeyDown}></Input>;\r\n  };\r\n\r\n  /**\r\n   * 선택아이템,아이템,editmode 값들을 초기화합니다.\r\n   */\r\n  const resetDefaultState = useCallback(() => {\r\n    setSelectedItemUUID('');\r\n    setSelectedCaption('');\r\n    setEditMode(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 현재 인풋이 아니라 drawer화면의 아무곳이나 클릭하면 수정을 취소하는 훅스함수\r\n   */\r\n  useEffect(() => {\r\n    const $el = document.querySelector('[data-caption=\"caption\"]');\r\n    $el &&\r\n      $el.addEventListener('click', (e) => {\r\n        const target = e.target as HTMLInputElement;\r\n        //input요소를 클릭하면 그냥 함수종료\r\n        if (target.classList.contains('ant-input')) {\r\n          return;\r\n        }\r\n        resetDefaultState();\r\n      });\r\n  }, []);\r\n\r\n  /**\r\n   * uuid 생성하는 훅스\r\n   */\r\n  useEffect(() => {\r\n    const data = JSON.parse(JSON.stringify(state[LSS_DETAIL].caption));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n  }, [state[LSS_DETAIL].caption]);\r\n\r\n  /**\r\n   * 자막을 클릭하면 입력상태를 변경함\r\n   */\r\n  const onCaptionClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, item: CaptionType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    //선택된 아이템이 다르면 편집모드를 끄고, 현재 편집모드일 경우 다른곳을 클릭하면 편집모드를 취소시킨다.\r\n    const target = e.target as HTMLElement;\r\n    //자막이 들어있는 span이 아니라면 모두 취소\r\n    if (target.dataset.set !== 'caption') {\r\n      return;\r\n    }\r\n    // 다른 아이템을 클릭하면 입력상태를 초기화시킴\r\n    if (selectedItemUUID !== item.uuid && editMode) {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    //선택된아이템을 설정하고 편집모드로 설정함\r\n    if (item.uuid) {\r\n      setSelectedItemUUID(item.uuid);\r\n      setSelectedCaption(item.content as string);\r\n      setEditMode(true);\r\n    }\r\n  };\r\n  /**\r\n   * 엔터 클릭시 수정된 내용으로 서버로 전송\r\n   */\r\n  const onPressEnter = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    //빈값이면 그냥 리턴\r\n    const target = e.target as HTMLTextAreaElement;\r\n    const inputText = target.value;\r\n    if (inputText.trim() === '') {\r\n      return;\r\n    }\r\n    const data = JSON.parse(JSON.stringify(captionList));\r\n    data.forEach((caption: CaptionType) => {\r\n      if (selectedItemUUID === caption.uuid) {\r\n        caption.content = inputText;\r\n      }\r\n    });\r\n    dispatch(fetchPutCaptionContents(data));\r\n    resetDefaultState();\r\n  };\r\n\r\n  /**\r\n   * 드래그앤드랍 정렬후 uuid 재생성하고 서버로 전송함\r\n   */\r\n  const onDragEnd = (result: DropResult): void => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n    const data = JSON.parse(JSON.stringify(fixedItems));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n    resetDefaultState();\r\n    dispatch(fetchPutCaptionContents(data));\r\n  };\r\n  return (\r\n    <>\r\n      <NoticeBox isEdit={editMode}>enter키를 누르면 내용을 수정합니다, esc키를 누르면 수정을 취소합니다</NoticeBox>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={'droppable'} key={`droppable`}>\r\n          {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              {captionList.map((caption, index) => {\r\n                return (\r\n                  <CaptionItemWrapped\r\n                    key={`caption_${index}`}\r\n                    onClick={(e) => {\r\n                      onCaptionClick(e, caption);\r\n                    }}\r\n                  >\r\n                    <Draggable key={`key-${caption.uuid}`} draggableId={`id-${index}`} index={index}>\r\n                      {(provided, snapshot) => (\r\n                        <div ref={provided.innerRef} {...provided.draggableProps} style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}>\r\n                          <ItemsWrapped isSelected={editMode && selectedItemUUID !== caption.uuid ? true : false}>\r\n                            <span {...provided.dragHandleProps}>\r\n                              <DragIndicatorIconWrapped />\r\n                            </span>\r\n                            {selectedItemUUID === caption.uuid ? <ChangeModeComponent /> : <CatpionContent innerText={caption.content} uuid={caption.uuid} />}\r\n                          </ItemsWrapped>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  </CaptionItemWrapped>\r\n                );\r\n              })}\r\n              <div>{provided.placeholder}</div>\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CaptionItems;\r\n","import React, { FC, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPostCaptionContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { CaptionWrapped, DrawerWrapped, IconWrapped, InnerWrapped, SettingIconWrapped, Wrapped } from './Caption.styled';\r\nimport DrawerTitle from './CaptionDrawTitle';\r\nimport CaptionItems from './CaptionItems';\r\n\r\ntype CaptionType = {\r\n  isVisible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nconst Caption: FC<CaptionType> = ({ isVisible, setIsVisible }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  const onClickAddIcon = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      dispatch(\r\n        fetchPostCaptionContents({\r\n          lss_master_idx: state[LSS_DETAIL].idx,\r\n          lss_content_idx: 0,\r\n          is_used: 'N',\r\n          type: 'CAPTION',\r\n          content: '자막',\r\n        })\r\n      );\r\n    },\r\n    [state[LSS_DETAIL].idx]\r\n  );\r\n  /**\r\n   * drawer 관련 이벤트핸들러\r\n   */\r\n  const onClick = useCallback(() => {\r\n    setIsVisible(true);\r\n  }, []);\r\n  /**\r\n   * drawer 관련 이벤트핸들러\r\n   */\r\n  const onClose = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <IconWrapped isActive={isVisible} onClick={onClick}>\r\n          <SettingIconWrapped twoToneColor={'#3b80ff'} />\r\n        </IconWrapped>\r\n        <CaptionWrapped>등록된 자막 : {state[LSS_DETAIL].caption.length}</CaptionWrapped>\r\n      </InnerWrapped>\r\n      <DrawerWrapped\r\n        title={<DrawerTitle onClick={onClickAddIcon} />}\r\n        placement=\"right\"\r\n        closable={true}\r\n        visible={isVisible}\r\n        getContainer={false}\r\n        onClose={onClose}\r\n        width={'100%'}\r\n        maskStyle={{\r\n          backgroundColor: 'rgba(0,0,0,0)',\r\n        }}\r\n        data-caption={'caption'}\r\n      >\r\n        <CaptionItems />\r\n      </DrawerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Caption;\r\n","import { Button, DatePicker, Radio, Select } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const TitleWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const SelectWrapped = styled(Select)`\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n`;\r\n\r\nexport const RadioWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const RadioAntWrapped = styled(Radio)`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const RadioButtonAntWrapped = styled(Radio.Button)`\r\n  width: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0.5rem 0;\r\n`;\r\n\r\nexport const RadioTitle = styled.h2`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 5rem;\r\n`;\r\n\r\nexport const ExplanWrapped = styled.div`\r\n  min-height: 50px;\r\n  max-height: 50px;\r\n  font-weight: 100;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MonthWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const WeeklyWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FortnightlyWrapped = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const BaseDateWrapped = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  flex-shrink: 1.5;\r\n`;\r\n\r\nexport const ChangeButton = styled(Button)`\r\n  height: 70%;\r\n  width: 100%;\r\n`;\r\n\r\nexport const RadioGroupWrapped = styled(Radio.Group)`\r\n  display: flex;\r\n`;\r\nexport const DatePickerWrapped = styled(DatePicker)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const TitleTextWrapped = styled.p`\r\n  margin: auto;\r\n`;\r\n\r\nexport const SelectGroupWrapped = styled.div``;\r\n\r\nexport const ArticleWrapped = styled.article``;\r\n\r\nexport const FooterWrapped = styled.footer``;\r\n\r\nexport const MainWrapped = styled.main`\r\n  font-family: bmjua;\r\n`;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default [\r\n  {\r\n    key: 0,\r\n    value: 'SUNDAY',\r\n    label: '일요일',\r\n  },\r\n  { key: 1, value: 'MONDAY', label: '월요일' },\r\n  {\r\n    key: 2,\r\n    value: 'TUESDAY',\r\n    label: '화요일',\r\n  },\r\n  {\r\n    key: 3,\r\n    value: 'WEDNESDAY',\r\n    label: '수요일',\r\n  },\r\n  {\r\n    key: 4,\r\n    value: 'THURSDAY',\r\n    label: '목요일',\r\n  },\r\n  {\r\n    key: 5,\r\n    value: 'FRIDAY',\r\n    label: '금요일',\r\n  },\r\n  {\r\n    key: 6,\r\n    value: 'SATURDAY',\r\n    label: '토요일',\r\n  },\r\n];\r\n","import { useEffect, useState } from 'react';\r\nimport { DayOfTheWeek } from '../../../../../../types/Lss';\r\n\r\n/**\r\n * 요일에 해당하는 키값을 주입하여 반환합니다.\r\n */\r\nconst useGenerateDayOfTheWeekKey = (dayOfTheWeek: DayOfTheWeek) => {\r\n  const [keyOfWeek, setKeyOfWeek] = useState<Array<number>>([]);\r\n\r\n  useEffect(() => {\r\n    if (dayOfTheWeek.length > 0) {\r\n      const weekData: Array<number> = [];\r\n      dayOfTheWeek.forEach((item) => {\r\n        if (item === 'SUNDAY') {\r\n          weekData.push(0);\r\n        } else if (item === 'MONDAY') {\r\n          weekData.push(1);\r\n        } else if (item === 'TUESDAY') {\r\n          weekData.push(2);\r\n        } else if (item === 'WEDNESDAY') {\r\n          weekData.push(3);\r\n        } else if (item === 'THURSDAY') {\r\n          weekData.push(4);\r\n        } else if (item === 'FRIDAY') {\r\n          weekData.push(5);\r\n        } else if (item === 'SATURDAY') {\r\n          weekData.push(6);\r\n        } else {\r\n        }\r\n      });\r\n      setKeyOfWeek(weekData);\r\n    }\r\n  }, [dayOfTheWeek]);\r\n\r\n  return keyOfWeek;\r\n};\r\n\r\nexport default useGenerateDayOfTheWeekKey;\r\n","import {\r\n  Divider,\r\n  InputNumber,\r\n  Modal,\r\n  Popconfirm,\r\n  Radio,\r\n  RadioChangeEvent,\r\n  SelectProps,\r\n  Tooltip,\r\n  Typography,\r\n} from 'antd';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport moment from 'moment';\r\nimport React, {\r\n  FC,\r\n  memo,\r\n  useCallback,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  fetchPutChangeHoliday,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n} from '../../../../../slice/LssSlice';\r\nimport {\r\n  DayOfTheWeek,\r\n  HolidayInfoType,\r\n  PutHolidayType,\r\n} from '../../../../../types/Lss';\r\nimport {\r\n  ArticleWrapped,\r\n  BaseDateWrapped,\r\n  ChangeButton,\r\n  DatePickerWrapped,\r\n  ExplanWrapped,\r\n  FooterWrapped,\r\n  FortnightlyWrapped,\r\n  MainWrapped,\r\n  MonthWrapped,\r\n  RadioAntWrapped,\r\n  RadioButtonAntWrapped,\r\n  RadioGroupWrapped,\r\n  RadioTitle,\r\n  RadioWrapped,\r\n  SelectGroupWrapped,\r\n  SelectWrapped,\r\n  TitleTextWrapped,\r\n  TitleWrapped,\r\n  WeeklyWrapped,\r\n} from './HolidaySettingModal.styled';\r\nimport styles from './HolidaySettingModal.module.scss';\r\n\r\nimport options from './options';\r\nimport useGenerateDayOfTheWeekKey from './hooks/useGenerateDayOfTheWeekKey';\r\n\r\ntype HolidaySettingModalType = {\r\n  visible: boolean;\r\n  //외부에서 visible을 바꿀수있는 이벤트를 추가해야함.\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\nconst HolidaySettingModal: FC<HolidaySettingModalType> = ({\r\n  visible,\r\n  setIsVisible,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  //정규 휴무일을 위한 상태값.\r\n  const [holidayInfo, setHolidayInfo] = useState<HolidayInfoType>({\r\n    type: '임시휴일',\r\n    date: 'month',\r\n    period1: 'day',\r\n    period2: moment().day(0).format('YYYY-MM-DD'),\r\n    value: ['MONDAY'],\r\n  });\r\n  const [prevHolidayInfo, setPrevHolidayInfo] = useState<HolidayInfoType>({\r\n    type: '임시휴일',\r\n    date: 'month',\r\n    period1: 'day',\r\n    period2: moment().day(0).format('YYYY-MM-DD'),\r\n    value: ['MONDAY'],\r\n  });\r\n  const [daily, setDaily] = useState(10);\r\n  //월요일,화요일 ... 일요일 배열을 의미하는 상태값\r\n  const [dayOfWeek, setDayOfWeek] = useState<DayOfTheWeek>(['MONDAY']);\r\n\r\n  //격주표시를위한 상태값\r\n  const WeekCnt = useRef(0);\r\n  const OddEven = useRef<'Odd' | 'Even'>('Odd');\r\n\r\n  //요일에 맞는 키값을 생성\r\n  const keyOfWeek = useGenerateDayOfTheWeekKey(holidayInfo.value);\r\n  const { Text } = Typography;\r\n\r\n  const onCancelHolidayInfo = useCallback(() => {\r\n    setHolidayInfo(prevHolidayInfo);\r\n  }, [holidayInfo, prevHolidayInfo]);\r\n  const getPopupContainer = useCallback(\r\n    (e: HTMLElement) => e.parentElement as HTMLElement,\r\n    []\r\n  );\r\n  /**\r\n   * 설정값이 변경되면 새롭게 상태값을 갱신한다.\r\n   */\r\n  useEffect(() => {\r\n    const result: HolidayInfoType = {\r\n      type: '임시휴일',\r\n      date: state[LSS_DETAIL].date,\r\n      period1: state[LSS_DETAIL].period1,\r\n      period2: moment().day(0).format('YYYY-MM-DD'), //기준일을 뜻하는 값입니다.\r\n      value: state[LSS_DETAIL].value,\r\n    };\r\n    if (state[LSS_DETAIL].date === 'month') {\r\n      setDaily(state[LSS_DETAIL].period2 as number);\r\n    } else {\r\n      setDayOfWeek(state[LSS_DETAIL].value);\r\n    }\r\n    setHolidayInfo(result);\r\n    setPrevHolidayInfo(result);\r\n  }, [\r\n    state[LSS_DETAIL].date,\r\n    state[LSS_DETAIL].period1,\r\n    state[LSS_DETAIL].period2,\r\n    state[LSS_DETAIL].value,\r\n  ]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 주간 단위로 선택시 매주 / 격주 선택하는 컴포넌트이다.\r\n   */\r\n  const SelectComponent: FC = () => {\r\n    const onChange = (e: DayOfTheWeek) => {\r\n      if (e.length === 0) {\r\n        const init = [\r\n          'SUNDAY',\r\n          'MONDAY',\r\n          'TUESDAY',\r\n          'WEDNESDAY',\r\n          'THURSDAY',\r\n          'FRIDAY',\r\n          'SATURDAY',\r\n        ];\r\n        setDayOfWeek(init);\r\n        setHolidayInfo({ ...holidayInfo, value: init });\r\n        return;\r\n      }\r\n      //\r\n      setDayOfWeek(e);\r\n      setHolidayInfo({ ...holidayInfo, value: e });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {/* any로 일단 처리함..  antd를 styled로 감쌀 경우 아래와 같은 상황이 발생함 */}\r\n        <SelectWrapped<FC<SelectProps<any>>>\r\n          getPopupContainer={getPopupContainer}\r\n          mode='multiple'\r\n          size={'large'}\r\n          placeholder='휴관일을 선택해주세요'\r\n          onChange={(e) => {\r\n            if (e.length === 0) {\r\n              const init = [\r\n                'SUNDAY',\r\n                'MONDAY',\r\n                'TUESDAY',\r\n                'WEDNESDAY',\r\n                'THURSDAY',\r\n                'FRIDAY',\r\n                'SATURDAY',\r\n              ];\r\n              setDayOfWeek(init);\r\n              setHolidayInfo({ ...holidayInfo, value: init });\r\n              return;\r\n            }\r\n            //\r\n            setDayOfWeek(e);\r\n            setHolidayInfo({ ...holidayInfo, value: e });\r\n          }}\r\n          value={holidayInfo.value}\r\n          options={options}\r\n        ></SelectWrapped>\r\n      </>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 매주 / 격주 라디오버튼으로 구분짓는 컴포넌트.\r\n   */\r\n  const RadioComponent: FC = () => {\r\n    return (\r\n      <Radio.Group\r\n        onChange={(e) => {\r\n          setHolidayInfo({ ...holidayInfo, period1: e.target.value });\r\n        }}\r\n        defaultValue={holidayInfo.period1}\r\n      >\r\n        <RadioButtonAntWrapped value={'weekly'}>매주</RadioButtonAntWrapped>\r\n        <RadioButtonAntWrapped value={'fortnightly'}>\r\n          격주\r\n        </RadioButtonAntWrapped>\r\n      </Radio.Group>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 격주 선택시 나오는 미니 달력\r\n   */\r\n  const BaseDayComponent: FC = () => {\r\n    const onChange = (e: moment.Moment | null) => {\r\n      if (e) {\r\n        setHolidayInfo({ ...holidayInfo, period2: e?.format('YYYY-MM-DD') });\r\n      }\r\n    };\r\n\r\n    /**\r\n     * 일요일이 아니면 비활성화 시킨다.\r\n     */\r\n    const onDisabledDate = (current: moment.Moment) => {\r\n      return current.day() === 0 ? false : true;\r\n    };\r\n\r\n    /**\r\n     * 격주 선택시 랜더링되는 함수\r\n     */\r\n    const onDateRender = (current: moment.Moment): JSX.Element => {\r\n      const date = current.date();\r\n      const day = current.day();\r\n      const MONDAY = 0;\r\n\r\n      // 일주일간격으로 even | odd로 변경하는 로직\r\n      if (WeekCnt.current >= 7) {\r\n        OddEven.current = 'Even';\r\n      } else {\r\n        OddEven.current = 'Odd';\r\n      }\r\n      WeekCnt.current = WeekCnt.current + 1;\r\n      WeekCnt.current = WeekCnt.current % 14;\r\n      if (WeekCnt.current >= 14) {\r\n        OddEven.current = 'Odd';\r\n      }\r\n      // 일요일이면\r\n      if (day === MONDAY) {\r\n        return (\r\n          <div\r\n            key={current.format('YYYY-MM-DD')}\r\n            className={`ant-picker-cell-inner ${styles.sunday} ${styles.day}`}\r\n            data-oddeven={OddEven.current}\r\n            //마우스가 올라오면 odd면 파란색\r\n            onMouseOver={(e) => {\r\n              const target = e.target as HTMLDivElement;\r\n              const oddOrEven = target.dataset.oddeven;\r\n              const color = oddOrEven === 'Odd' ? '#82baee' : '#e45a5a';\r\n              const $el = document.querySelectorAll(\r\n                `.ant-picker-cell-inner[data-oddeven=${oddOrEven}`\r\n              );\r\n              $el.forEach((item) => {\r\n                const target = item as HTMLElement;\r\n                //일요일에 휴무일이 존재하면 색을 그린다.\r\n                const isExistSunday = keyOfWeek.includes(day);\r\n                if (isExistSunday) {\r\n                  target && target.style.setProperty('background-color', color);\r\n                  return;\r\n                }\r\n                //일요일은 색상을 그리지 않는다.\r\n                if (target.classList.contains(styles.sunday)) {\r\n                  return;\r\n                }\r\n                //백그라운드 색을 그린다\r\n                target && target.style.setProperty('background-color', color);\r\n              });\r\n            }}\r\n            //마우스를 나가면 다시 컬러를 원색으로 돌림\r\n            onMouseOut={() => {\r\n              const $el2 = document.querySelectorAll(\r\n                '.ant-picker-cell-inner[data-oddeven=Odd],.ant-picker-cell-inner[data-oddeven=Even]'\r\n              );\r\n              $el2.forEach((item) => {\r\n                const result = item as HTMLDivElement;\r\n                result &&\r\n                  result.style.setProperty('background-color', '#f5f5f5');\r\n                result && result.style.setProperty('color', 'black');\r\n              });\r\n            }}\r\n          >\r\n            {date}\r\n          </div>\r\n        );\r\n      } else {\r\n        //기준일에서 선택한 요일이 존재한다면\r\n        //ex) 월요일, 화요일이 존재하면 그려진다.\r\n        const isExist = keyOfWeek.includes(day);\r\n        if (isExist) {\r\n          return (\r\n            <div\r\n              key={current.format('YYYY-MM-DD')}\r\n              className='ant-picker-cell-inner'\r\n              data-oddeven={OddEven.current}\r\n            >\r\n              {date}\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n      return (\r\n        // 평범한 셀을 렌더링한다.\r\n        <div\r\n          key={current.format('YYYY-MM-DD')}\r\n          className='ant-picker-cell-inner'\r\n        >\r\n          {date}\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      <Tooltip placement='top' title={'기준일 설정'}>\r\n        <BaseDateWrapped>\r\n          <DatePickerWrapped\r\n            getPopupContainer={getPopupContainer}\r\n            className={styles.picker}\r\n            defaultValue={moment().day(0)}\r\n            value={moment(holidayInfo.period2)}\r\n            onChange={onChange}\r\n            disabledDate={onDisabledDate}\r\n            dateRender={onDateRender}\r\n          />\r\n        </BaseDateWrapped>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  const TitleComponent: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitleTextWrapped>휴관일 설정</TitleTextWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const onRadioChange = (e: RadioChangeEvent) => {\r\n    const date = e.target.value;\r\n    const period1 = date === 'month' ? 'day' : 'weekly';\r\n    const value = date === 'week' ? dayOfWeek : [daily.toString()];\r\n    setHolidayInfo({\r\n      ...holidayInfo,\r\n      date: date,\r\n      period1: period1,\r\n      value: value,\r\n    });\r\n  };\r\n  const onChangeConfirm = () => {\r\n    const result: Partial<PutHolidayType> = {};\r\n    result.type = '정기휴일';\r\n    result.date = holidayInfo.date; //month, week\r\n    result.period1 = holidayInfo.period1;\r\n    result.period2 = '';\r\n    if (holidayInfo.period1 === 'day') {\r\n      result.period2 = '';\r\n      result.value = [daily.toString()]; // 월간으로 설정되면 1부터 31일이 설정된다.\r\n    } else {\r\n      result.period2 = holidayInfo.period2; //격주로 설정시 들어가는 기준값.\r\n      result.value = holidayInfo.value;\r\n    }\r\n    if (result) {\r\n      dispatch(fetchPutChangeHoliday(result as PutHolidayType));\r\n      setPrevHolidayInfo(holidayInfo);\r\n      setIsVisible(false);\r\n    }\r\n  };\r\n  return (\r\n    <Modal\r\n      title={<TitleComponent />}\r\n      visible={visible}\r\n      onCancel={handleCancel}\r\n      footer={[]}\r\n    >\r\n      <MainWrapped>\r\n        {/* 월간, 주간으로 조건부 랜더링되는 컴포넌트 */}\r\n        <ArticleWrapped>\r\n          {/* 월간 주간을 나누는 라디오 컴포넌트 */}\r\n          <RadioWrapped>\r\n            <RadioGroupWrapped\r\n              onChange={onRadioChange}\r\n              value={holidayInfo.date}\r\n            >\r\n              <RadioAntWrapped value={'month'}>\r\n                <RadioTitle>월간</RadioTitle>\r\n              </RadioAntWrapped>\r\n              <RadioAntWrapped value={'week'}>\r\n                <RadioTitle>주간</RadioTitle>\r\n              </RadioAntWrapped>\r\n            </RadioGroupWrapped>\r\n          </RadioWrapped>\r\n          <Divider />\r\n          {/* 월간/주간 값으로 조건부 랜더링되는 설명 부분 컴포넌트 */}\r\n          <ExplanWrapped>\r\n            {/* 월간 일 경우 */}\r\n            {holidayInfo.date === 'month' && (\r\n              <>\r\n                <Paragraph>\r\n                  매월{' '}\r\n                  <Text keyboard strong={true}>\r\n                    {daily}\r\n                  </Text>\r\n                  일을 휴관일로 설정합니다.\r\n                </Paragraph>\r\n                <Paragraph>\r\n                  그 달에 존재하지 않는 일은 해당 월의{' '}\r\n                  <Text underline>마지막 일</Text>로 설정됩니다.\r\n                </Paragraph>\r\n              </>\r\n            )}\r\n            {/* 주간이면서 매주 일 경우 */}\r\n            {holidayInfo.date === 'week' && holidayInfo.period1 === 'weekly' && (\r\n              <>\r\n                <Paragraph>\r\n                  설정한 요일을 <Text keyboard>매주</Text> 휴관일로 설정합니다.\r\n                </Paragraph>\r\n                <Paragraph>\r\n                  요일은 일요일 ~ 토요일 단일, 복수 선택이 가능합니다\r\n                </Paragraph>\r\n              </>\r\n            )}\r\n            {/* 주간이면서 격주 일 경우 */}\r\n            {holidayInfo.date === 'week' &&\r\n              holidayInfo.period1 === 'fortnightly' && (\r\n                <>\r\n                  <Paragraph>\r\n                    설정한 요일을 <Text keyboard>격주</Text> 휴관일로\r\n                    설정합니다.\r\n                  </Paragraph>\r\n                  <Paragraph>\r\n                    달력에서 격주 휴관일을 미리 확인하고, 시작일(기준일)을{' '}\r\n                    <Text keyboard>설정</Text>해주세요\r\n                  </Paragraph>\r\n                </>\r\n              )}\r\n          </ExplanWrapped>\r\n          <Divider />\r\n          <SelectGroupWrapped>\r\n            {holidayInfo.date === 'month' && (\r\n              <MonthWrapped>\r\n                <Text strong>휴관일을 설정해주세요</Text>\r\n                <InputNumber\r\n                  onChange={(value) => {\r\n                    setDaily(value);\r\n                  }}\r\n                  size='large'\r\n                  min={1}\r\n                  max={31}\r\n                  defaultValue={daily}\r\n                />\r\n              </MonthWrapped>\r\n            )}\r\n            {holidayInfo.date === 'week' && holidayInfo.period1 === 'weekly' && (\r\n              <WeeklyWrapped>\r\n                <RadioComponent />\r\n                <SelectComponent />\r\n              </WeeklyWrapped>\r\n            )}\r\n            {holidayInfo.date === 'week' &&\r\n              holidayInfo.period1 === 'fortnightly' && (\r\n                <FortnightlyWrapped>\r\n                  <RadioComponent />\r\n                  <SelectComponent />\r\n                  <BaseDayComponent />\r\n                </FortnightlyWrapped>\r\n              )}\r\n          </SelectGroupWrapped>\r\n          <Divider />\r\n        </ArticleWrapped>\r\n\r\n        {/* 변경 버튼이 있는 Footer */}\r\n        <FooterWrapped>\r\n          <Popconfirm\r\n            title='변경 하시겠습니까?'\r\n            okText='변경'\r\n            onCancel={onCancelHolidayInfo}\r\n            onConfirm={onChangeConfirm}\r\n            okType='primary'\r\n          >\r\n            <ChangeButton\r\n              type={holidayInfo !== prevHolidayInfo ? 'primary' : 'default'}\r\n            >\r\n              변경\r\n            </ChangeButton>\r\n          </Popconfirm>\r\n        </FooterWrapped>\r\n      </MainWrapped>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default HolidaySettingModal;\r\n","import { AnimationControls } from 'framer-motion/types/animation/types';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n *\r\n * @param framterControl 애니메이션 컨트롤러 객체\r\n * @param y y축으로 이동할 좌표값\r\n * @param trigger 적용될 트리거 boolean\r\n * @returns\r\n */\r\nconst useMotionOpacity = (framterControl: AnimationControls, trigger: boolean) => {\r\n  useEffect(() => {\r\n    if (trigger) {\r\n      framterControl.start({\r\n        opacity: 1,\r\n        scale: 1,\r\n        transition: { duration: 0.4 },\r\n      });\r\n    } else {\r\n      framterControl.start({\r\n        opacity: 0,\r\n        scale: 0,\r\n        transition: { duration: 0.4 },\r\n      });\r\n    }\r\n  }, [trigger]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useMotionOpacity;\r\n","import { Button, Divider, Input } from 'antd';\r\nimport { motion } from 'framer-motion';\r\nimport styled from 'styled-components';\r\n\r\nexport const DateWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const TitleWrapped = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\nexport const RangePickerWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InnerColumnButton = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 1rem;\r\n  flex-grow: 0.1;\r\n`;\r\n\r\nexport const TitleTextWrapped = styled.p`\r\n  margin: auto;\r\n`;\r\n\r\nexport const DivideWrapped = styled(Divider)`\r\n  height: 100px;\r\n`;\r\n\r\nexport const ButtonWrapped = styled(Button)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const InputWrapped = styled(Input)`\r\n  width: 100%;\r\n`;\r\n// style={{ fontFamily: 'bmjua' }}\r\nexport const MotionDivWrapped = styled(motion.div)`\r\n  font-family: 'bmjua';\r\n`;\r\n","import { AnimationControls } from 'framer-motion/types/animation/types';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n *\r\n * @param framterControl 애니메이션 컨트롤러 객체\r\n * @param y y축으로 이동할 좌표값\r\n * @param trigger 적용될 트리거 (날짜 문자열로 날짜가 변경되면 동작함)\r\n * @returns\r\n */\r\nconst useMotionMovingAxisY = (framterControl: AnimationControls, y: number, trigger: string) => {\r\n  useEffect(() => {\r\n    framterControl.set({\r\n      y: y,\r\n      transition: { duration: 0.3 },\r\n    });\r\n    framterControl.start({\r\n      y: 0,\r\n      transition: { duration: 0.3 },\r\n    });\r\n  }, [trigger]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useMotionMovingAxisY;\r\n","import { DatePicker, Divider, Modal, Popconfirm, Row } from 'antd';\r\nimport { motion, useAnimation } from 'framer-motion';\r\nimport moment from 'moment';\r\nimport React, { FC, memo, useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport useMotionOpacity from './hooks/useMotionOpacity';\r\nimport { fetchPostHoliday } from '../../../../../slice/LssSlice';\r\nimport { PostHolidayType } from '../../../../../types/Lss';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport {\r\n  ButtonWrapped,\r\n  DateWrapped,\r\n  DivideWrapped,\r\n  InnerColumnButton,\r\n  InputWrapped,\r\n  MotionDivWrapped,\r\n  RangePickerWrapped,\r\n  TitleTextWrapped,\r\n  TitleWrapped,\r\n} from './HolidayAddModal.styled';\r\nimport useMotionMovingAxisY from './hooks/useMotionMovingAxisY';\r\n\r\ntype HolidayAddModalType = {\r\n  visible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  selectedDate?: string;\r\n};\r\n\r\ntype SelectedStartDayAndEndDayType = Array<string>;\r\n\r\nconst HolidayAddModal: FC<HolidayAddModalType> = ({ visible, setIsVisible, selectedDate }) => {\r\n  const dispatch = useDispatch();\r\n  const dateFormat = 'YYYY/MM/DD';\r\n  const { RangePicker } = DatePicker;\r\n\r\n  //임시공휴일 추가를 위한 상태값\r\n  const [addForHolidayDate, setAddForHolidayDate] = useState<SelectedStartDayAndEndDayType>([\r\n    moment(selectedDate).format('YYYY-MM-DD').toString(),\r\n    moment(selectedDate).format('YYYY-MM-DD').toString(),\r\n  ]);\r\n  const startMonth = addForHolidayDate[0].split('-')[1]; //시작 달\r\n  const startDay = addForHolidayDate[0].split('-')[2]; //시작 일\r\n  const endMonth = addForHolidayDate[1].split('-')[1]; //종료 달\r\n  const endDay = addForHolidayDate[1].split('-')[2]; //종료 일\r\n  const [addForInputDesc, setAddForInputDesc] = useState('');\r\n\r\n  /**\r\n   * 달력에서 선택된 날짜를 기반으로 addForInputDesc문자열로 넣음\r\n   */\r\n  useEffect(() => {\r\n    const selectedDateInCalendar = moment(selectedDate).format('YYYY-MM-DD').toString();\r\n    setAddForHolidayDate([selectedDateInCalendar, selectedDateInCalendar]);\r\n  }, [selectedDate]);\r\n\r\n  /* \r\n  모션을 위한 기능\r\n  */\r\n  const ModalControls = useAnimation();\r\n  const StartTitleControls = useAnimation();\r\n  const EndTitleControls = useAnimation();\r\n  useMotionOpacity(ModalControls, visible);\r\n  useMotionMovingAxisY(StartTitleControls, 50, addForHolidayDate[0]);\r\n  useMotionMovingAxisY(EndTitleControls, 50, addForHolidayDate[1]);\r\n\r\n  /**\r\n   * 모달 닫는 이벤트 핸들러\r\n   */\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 설명을 바꾸는 이벤트 핸들러\r\n   */\r\n  const onChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setAddForInputDesc(e.target.value);\r\n  }, []);\r\n\r\n  /**\r\n   * 임시 공휴일 추가를 위한 이벤트 핸들러\r\n   */\r\n  const onAddConfirm = () => {\r\n    const result: Partial<PostHolidayType> = {};\r\n    result.type = '임시휴일';\r\n    result.desc = addForInputDesc === '' ? '임시휴일' : addForInputDesc;\r\n    result.date = {\r\n      startDay: addForHolidayDate[0],\r\n      endDay: addForHolidayDate[1],\r\n    };\r\n    dispatch(fetchPostHoliday(result as PostHolidayType));\r\n    setIsVisible(false); //모달 닫기\r\n    setAddForInputDesc(''); //초기화\r\n  };\r\n\r\n  const Title: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitleTextWrapped>임시휴일 추가</TitleTextWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const getPopupContainer = useCallback((e: HTMLElement) => e.parentElement as HTMLElement, []);\r\n  return (\r\n    <Modal onCancel={handleCancel} visible={visible} title={<Title />} footer={[]}>\r\n      <MotionDivWrapped animate={ModalControls}>\r\n        <div>\r\n          <Row justify={'space-around'}>\r\n            <DateWrapped>\r\n              <h1>시작일</h1>\r\n              <motion.h1 animate={StartTitleControls}>\r\n                {startMonth}/{startDay}\r\n              </motion.h1>\r\n            </DateWrapped>\r\n            <DivideWrapped type={'vertical'} />\r\n            <DateWrapped>\r\n              <h1>종료일</h1>\r\n              <motion.h1 animate={EndTitleControls}>\r\n                {endMonth}/{endDay}\r\n              </motion.h1>\r\n            </DateWrapped>\r\n          </Row>\r\n          <RangePickerWrapped>\r\n            <RangePicker\r\n              getPopupContainer={getPopupContainer}\r\n              style={{ width: '100%' }}\r\n              value={[moment(addForHolidayDate[0]), moment(addForHolidayDate[1])]}\r\n              format={dateFormat}\r\n              onCalendarChange={(e) => {\r\n                if (e) {\r\n                  if (!!e[0] && !!e[1]) {\r\n                    const days = e as Array<moment.Moment>;\r\n                    const startday = days[0].format('YYYY-MM-DD');\r\n                    const endDay = days[1].format('YYYY-MM-DD');\r\n                    setAddForHolidayDate([startday, endDay]);\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </RangePickerWrapped>\r\n          <Divider />\r\n          <FormGuideComponent title=\"설명\" guide=\"임시휴관일에 대한 설명을 적어주세요 (최대 9글자)\" />\r\n\r\n          <Row justify={'space-around'}>\r\n            <InputWrapped value={addForInputDesc} placeholder=\"설명을 입력하세요 (최대 9글자)\" maxLength={9} onChange={onChange}></InputWrapped>\r\n          </Row>\r\n        </div>\r\n        <InnerColumnButton>\r\n          <Popconfirm title=\"추가 하시겠습니까?\" okText=\"추가\" onConfirm={onAddConfirm} okType=\"primary\">\r\n            <ButtonWrapped type=\"primary\">추가</ButtonWrapped>\r\n          </Popconfirm>\r\n        </InnerColumnButton>\r\n      </MotionDivWrapped>\r\n    </Modal>\r\n  );\r\n};\r\nexport default HolidayAddModal;\r\n","import { useEffect, useState } from 'react';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { HolidayProcessType, HolidayType } from '../../../../../../types/Lss';\r\n\r\n/**\r\n *\r\n * @param Holiday 정기,임시공휴일배열\r\n * @param Legal 법정공휴일배열\r\n * @returns 하나의 휴가배열로 생성하면서 uuid를 할당하여 반환한다.\r\n */\r\nconst useGenerateHolidayUuid = (Holiday: Array<HolidayType>, Legal: Array<HolidayType>) => {\r\n  const [holidayArray, setHolidayArray] = useState<Array<HolidayProcessType>>([]);\r\n\r\n  useEffect(() => {\r\n    const temp = [...Holiday, ...Legal];\r\n    const result: Array<HolidayProcessType> = temp.map((item) => {\r\n      let badge: 'success' | 'processing' | 'error' | 'default' | 'warning' = 'success';\r\n      if (item.type === '임시휴일') {\r\n        badge = 'warning';\r\n      } else if (item.type === '법정공휴일') {\r\n        badge = 'error';\r\n      }\r\n      const data: HolidayProcessType = {\r\n        ...item,\r\n        uuid: uuid(),\r\n        badgeType: badge,\r\n      };\r\n      return data;\r\n    });\r\n\r\n    setHolidayArray(result);\r\n  }, [Holiday, Legal]);\r\n\r\n  return holidayArray;\r\n};\r\n\r\nexport default useGenerateHolidayUuid;\r\n","/**\r\n *\r\n * @param startDate\r\n * @param endDate\r\n * @returns 시작과 종료일의 요일을 배열의 형태로 반환합니다. (ex [\"2021-04-10\",\"2021-04-11\",\"2021-0412\"]\r\n */\r\nfunction getDatesStartToLast(startDate: string, endDate: string) {\r\n  const regex = RegExp(/^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/);\r\n  if (!(regex.test(startDate) && regex.test(endDate))) return undefined;\r\n  const result = [];\r\n  const curDate = new Date(startDate);\r\n  while (curDate <= new Date(endDate)) {\r\n    result.push(curDate.toISOString().split('T')[0]);\r\n    curDate.setDate(curDate.getDate() + 1);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport default getDatesStartToLast;\r\n","import { getDatesStartToLast } from '..';\r\nimport { HolidayProcessType } from '../../types/Lss';\r\n\r\n//해당 함수는 getDatesStartToLast 함수를 의존합니다.\r\n\r\n/**\r\n *\r\n * @param value moment로 calendar에서 순회하는 날짜를 뜻합니다.\r\n * @param holidayArray uuid,badge타입 후가공된 holiday 배열입니다.\r\n * @returns 해당 날짜에 존재하는 휴가정보를 반환합니다.\r\n */\r\nconst getIncludesHolidayOfDay = (value: moment.Moment, holidayArray: Array<HolidayProcessType>) => {\r\n  const date = value.format('YYYY-MM-DD');\r\n  const result: Array<HolidayProcessType> = [];\r\n  holidayArray.forEach((parentItem) => {\r\n    //LSS의 모든 휴가 날짜가 반환된다.\r\n    const ArrayStartAndEnd = getDatesStartToLast(parentItem.startDate, parentItem.endDate);\r\n    if (ArrayStartAndEnd) {\r\n      ArrayStartAndEnd.forEach((item) => {\r\n        //result에는 해당요일에 존재하는 모든 휴가정보가 들어간다.\r\n        if (date === item) {\r\n          result.push({\r\n            idx: parentItem.idx,\r\n            type: parentItem.type,\r\n            desc: parentItem.desc,\r\n            startDate: parentItem.startDate,\r\n            endDate: parentItem.endDate,\r\n            isUsed: parentItem.isUsed,\r\n            period: parentItem.period,\r\n            uuid: parentItem.uuid,\r\n            badgeType: parentItem.badgeType,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nexport default getIncludesHolidayOfDay;\r\n","import { Button } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n`;\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport const SetupIconWrapped = styled.div`\r\n  font-size: 3rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const HeaderWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\ntype BadgeWrapperProps = {\r\n  isUsed?: 'Y' | 'N';\r\n};\r\nexport const BadgeWrapped = styled.div<BadgeWrapperProps>`\r\n  transform: scale(0.9);\r\n  font-size: 0.65rem;\r\n  ${(props) =>\r\n    props.isUsed === 'N' &&\r\n    `color: rgba(1,1,1,0.5);\r\n  `}\r\n`;\r\n\r\nexport const ButtonWrapped = styled(Button)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const HeaderButtonWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const FooterWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const TitleWrapped = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const TitileDescWrapped = styled.p`\r\n  margin: 0;\r\n`;\r\n","import { Button, DatePicker, Divider, Input, Modal, Popconfirm, Space, Switch } from 'antd';\r\nimport moment from 'moment';\r\nimport React, { FC, memo, useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchDeleteHoliday, fetchPatchChangeHoliday } from '../../../../../slice/LssSlice';\r\nimport { HolidayProcessType, PatchHolidayType } from '../../../../../types/Lss';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport { FooterWrapped, TitileDescWrapped, TitleWrapped } from './HolidayDetailModal.styled';\r\n\r\ntype HolidayDetailModalType = {\r\n  visible: boolean;\r\n  //외부에서 visible을 바꿀수있는 이벤트를 추가해야함.\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  data: DataType;\r\n};\r\n\r\ntype DataType = Partial<HolidayProcessType>;\r\n\r\nconst HolidayDetailModal: FC<HolidayDetailModalType> = ({ data, setIsVisible, visible }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const dateFormat = 'YYYY/MM/DD';\r\n\r\n  //변경을 위한 상태값 정보들\r\n  const [desc, setDesc] = useState(data.desc);\r\n  const [startDate, setStartDate] = useState(data.startDate);\r\n  const [endDate, setEndDate] = useState(data.endDate);\r\n  const [isUsed, setIsUsed] = useState(data.isUsed);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 부모로 부터 전달받은 상태값으로 설정한다.\r\n   */\r\n  useEffect(() => {\r\n    setDesc(data.desc);\r\n    setStartDate(data.startDate);\r\n    setEndDate(data.endDate);\r\n    setIsUsed(data.isUsed);\r\n  }, [data]);\r\n\r\n  const Footer: FC = () => {\r\n    const onChangeConfirm = useCallback(() => {\r\n      const result: Partial<PatchHolidayType> = {};\r\n      result.idx = data.idx;\r\n      result.type = data.type;\r\n      result.desc = desc;\r\n      result.startDate = startDate;\r\n      result.endDate = endDate;\r\n      result.isUsed = isUsed;\r\n      dispatch(fetchPatchChangeHoliday(result as PatchHolidayType));\r\n      setIsVisible(false);\r\n    }, [data]);\r\n    const onDeleteConfirm = useCallback(() => {\r\n      dispatch(fetchDeleteHoliday(data.idx as number));\r\n      setIsVisible(false);\r\n    }, [data]);\r\n    return (\r\n      <FooterWrapped>\r\n        <Popconfirm title=\"변경 하시겠습니까?\" okText=\"변경\" onConfirm={onChangeConfirm} okType=\"primary\">\r\n          <Button>변경</Button>\r\n        </Popconfirm>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" okType=\"danger\" disabled={data.type === '임시휴일' ? false : true} onConfirm={onDeleteConfirm}>\r\n          <Button disabled={data.type === '임시휴일' ? false : true}>삭제</Button>\r\n        </Popconfirm>\r\n      </FooterWrapped>\r\n    );\r\n  };\r\n  const Title: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitileDescWrapped>{data.desc}</TitileDescWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const onUsedChange = useCallback((e: boolean) => {\r\n    e ? setIsUsed('Y') : setIsUsed('N');\r\n  }, []);\r\n  const onDescChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setDesc(e.target.value);\r\n  }, []);\r\n  const getPopupContainer = useCallback((e: HTMLElement) => e.parentElement as HTMLElement, []);\r\n  return (\r\n    <Modal key={`${data.uuid}`} title={<Title />} visible={visible} onCancel={handleCancel} footer={<Footer />}>\r\n      <FormGuideComponent title=\"휴무일\" guide=\"휴무일을 변경 할 수 있습니다.\" />\r\n      <RangePicker\r\n        getPopupContainer={getPopupContainer}\r\n        format={dateFormat}\r\n        disabled={data.type === '임시휴일' ? false : true}\r\n        defaultValue={[moment(data.startDate, dateFormat), moment(data.endDate, dateFormat)]}\r\n        onCalendarChange={(days) => {\r\n          if (days) {\r\n            if (days.length > 1) {\r\n              setStartDate(days[0]?.format('YYYY-MM-DD'));\r\n              setEndDate(days[1]?.format('YYYY-MM-DD'));\r\n            }\r\n          }\r\n        }}\r\n      />\r\n      <Divider />\r\n      <FormGuideComponent title=\"설명\" guide=\"등록될 임시공휴일에 대한 설명을 적어주세요(최대 9글자)\" />\r\n      <Input disabled={data.type === '임시휴일' ? false : true} maxLength={9} defaultValue={data.desc} onChange={onDescChange}></Input>\r\n      <Divider />\r\n      <FormGuideComponent title=\"활성화\" guide=\"휴무일을 활성화하거나 비활성화 합니다\" />\r\n      <span>적용 여부 : </span>\r\n      <Switch defaultChecked={data.isUsed === 'Y' ? true : false} onChange={onUsedChange}></Switch>\r\n      <Space></Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default HolidayDetailModal;\r\n","import React, { FC, useCallback, useEffect, useState } from 'react';\r\nimport { Calendar, Badge } from 'antd';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { PlusCircleTwoTone, SettingTwoTone } from '@ant-design/icons';\r\nimport HolidaySettingModal from './HolidaySettingModal';\r\nimport HolidayAddModal from './HolidayAddModal';\r\nimport moment from 'moment';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport { useSelector } from 'react-redux';\r\nimport { LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { HolidayProcessType } from '../../../../../types/Lss';\r\nimport useGenerateHolidayUuid from './hooks/useGenerateHolidayUuid';\r\nimport { getDatesStartToLast } from '../../../../../util';\r\nimport getIncludesHolidayOfDay from '../../../../../util/Date/getIncludesHolidayOfDay';\r\nimport styles from './Holiday.module.scss';\r\nimport { BadgeWrapped, ButtonWrapped, HeaderButtonWrapped, HeaderWrapped, InnerWrapped, SetupIconWrapped, Wrapped } from './Holiday.styled';\r\nimport HolidayDetailModal from './HolidayDetailModal';\r\nconst Holiday: FC = () => {\r\n  const state = useSelector(selectLssDetail);\r\n  // 정규휴무일을 설정하는 모달창의 보여짐을 위한 상태값\r\n  const [settingModalVisible, setSettingModalVisible] = useState(false);\r\n  // 휴무일 추가하는 모달창의 보여짐을 위한 상태값\r\n  const [addModalVisible, setAddModalVisible] = useState(false);\r\n  // 선택된 휴무일을 보여주는 모달창의 보여짐을 위한 상태값\r\n  const [detailModalVisible, setDetailModalVisible] = useState(false);\r\n  // 어떤 휴무일이 선택되었는지 저장하는 상태값\r\n  const [selectedModalData, setSelectedModalData] = useState<Partial<HolidayProcessType>>({});\r\n\r\n  //렌더링을위한 더미 상태\r\n  const [selectedDate, setSelectedDate] = useState<string>();\r\n\r\n  //서버로 송신받은 정규&휴가정보를 하나의 휴가배열로 생성하면서 uuid를 할당함\r\n  const holidayArray = useGenerateHolidayUuid(state[LSS_DETAIL].holiday, state[LSS_DETAIL].LegalHoliday);\r\n\r\n  /**\r\n   * 모든 날짜를 순회하면서 휴가가있는날은 빨간색으로 칠한다.\r\n   */\r\n  const DrawCalendarColor = () => {\r\n    holidayArray.forEach((parentItem) => {\r\n      //17부터 20일인 휴가라면 17.18.19,20의 배열을 리턴함\r\n      const ArrayStartAndEnd = getDatesStartToLast(parentItem.startDate, parentItem.endDate);\r\n      if (ArrayStartAndEnd) {\r\n        ArrayStartAndEnd.forEach((Holiday) => {\r\n          const $el = document.querySelector(`td[title$=\"${Holiday}`) as HTMLElement;\r\n          if ($el) {\r\n            const $title = $el.querySelector('.ant-picker-calendar-date-value') as HTMLElement;\r\n            if ($title) {\r\n              $title.style.setProperty('color', 'red');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 모든 캘린더 cell의 title을 검은색으로 초기화하고, 휴가가 존재하는 cell만 빨간색으로 색칠함\r\n   */\r\n  useEffect(() => {\r\n    //모든 셀 색상 초기화\r\n    const $el = document.querySelectorAll('.ant-picker-calendar-date-value');\r\n    $el.forEach((item) => {\r\n      const result = item as HTMLElement;\r\n      result.style.setProperty('color', 'black');\r\n    });\r\n    //달력이동시 html element의 미스매치가 발생하여 딜레이후 동작되게 구성함\r\n    const timerId = setTimeout(DrawCalendarColor, 16);\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    //휴가정보와 누른 날짜가 변경되면 타이틀 색칠을 다시하게 수정함\r\n  }, [holidayArray, selectedDate]);\r\n\r\n  //모달을 위한 이벤트핸들러\r\n  const showAddModal = useCallback(() => {\r\n    setAddModalVisible(true);\r\n  }, []);\r\n  const showModal = useCallback(() => {\r\n    setSettingModalVisible(true);\r\n  }, []);\r\n  /**\r\n   * 강제로 컴포넌트를 갱신하기 위한 상태값 변경\r\n   */\r\n  const onSelect = useCallback(\r\n    (e: moment.Moment) => {\r\n      setSelectedDate(e.format('YYYY-MM-DD'));\r\n    },\r\n    [selectedDate]\r\n  );\r\n  /**\r\n   * 휴가 객체를 클릭하면 모달창에 정보를 전달함\r\n   */\r\n  const onClickHoliday = useCallback((e: React.MouseEvent<HTMLDivElement, MouseEvent>, item) => {\r\n    e.stopPropagation();\r\n    setSelectedModalData({ ...item });\r\n    setDetailModalVisible(true);\r\n  }, []);\r\n\r\n  type HolidayBadgeItemType = {\r\n    item: HolidayProcessType;\r\n  };\r\n\r\n  const HolidayBadgeItem: FC<HolidayBadgeItemType> = ({ item }) => {\r\n    const onMouseEnter = useCallback(() => {\r\n      const color = 'rgba(110, 38, 143)';\r\n      const $el = document.querySelectorAll(`[data-uuid='${item.uuid}']`);\r\n      $el.forEach((badge) => {\r\n        const $el = badge as HTMLElement;\r\n        $el.style.color = color;\r\n        $el.classList.toggle(`${styles.badgeActive}`);\r\n      });\r\n    }, []);\r\n    const onMouseLeave = useCallback(() => {\r\n      const $el = document.querySelectorAll(`[data-uuid='${item.uuid}']`);\r\n      $el.forEach((badge) => {\r\n        const $el = badge as HTMLElement;\r\n        if (item.isUsed === 'N') {\r\n          $el.style.color = 'rgba(1,1,1,0.5)';\r\n        } else {\r\n          $el.style.color = 'black';\r\n        }\r\n        $el.classList.toggle(`${styles.badgeActive}`);\r\n      });\r\n    }, []);\r\n    return (\r\n      <BadgeWrapped\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        key={`${item.uuid}`}\r\n        data-uuid={item.uuid}\r\n        onClick={(e) => {\r\n          onClickHoliday(e, item);\r\n        }}\r\n        isUsed={item.isUsed}\r\n      >\r\n        <Badge size={'small'} status={item.badgeType} />\r\n        {item.desc}\r\n      </BadgeWrapped>\r\n    );\r\n  };\r\n  /**\r\n   *\r\n   * @param value 달력에서 보여지는 첫날부터 마지막 날까지의 데이터\r\n   * @returns\r\n   */\r\n  function dateCellRender(value: moment.Moment) {\r\n    //당일 존재하는 모든 휴가 정보를 가지고있는 배열\r\n    const holidays = getIncludesHolidayOfDay(value, holidayArray);\r\n    return (\r\n      <div key={uuid()} className=\"events\" style={{ fontSize: '0.5rem' }}>\r\n        {holidays.map((item: HolidayProcessType) => (\r\n          <HolidayBadgeItem key={item.uuid} item={item} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const onPanelChange = useCallback(() => {\r\n    //캘린더에서 연도보기를했을경우 상태를 아무값이나 강제로 할당하여 렌더링을 다시 되게끔 수정하였음.\r\n    const date = moment(selectedDate).add(1, 'days').format('YYYY-MM-DD').toString();\r\n    setSelectedDate(date);\r\n  }, [selectedDate]);\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <HolidayAddModal visible={addModalVisible} setIsVisible={setAddModalVisible} selectedDate={selectedDate} />\r\n        <HolidaySettingModal visible={settingModalVisible} setIsVisible={setSettingModalVisible} />\r\n        <HolidayDetailModal visible={detailModalVisible} setIsVisible={setDetailModalVisible} data={selectedModalData} />\r\n\r\n        <HeaderWrapped>\r\n          <FormGuideComponent title=\"휴관일\" guide=\"휴관일을 설정 할 수 있습니다.\" />\r\n          <HeaderButtonWrapped>\r\n            <SetupIconWrapped onClick={showAddModal}>\r\n              <ButtonWrapped>\r\n                <PlusCircleTwoTone />\r\n                추가\r\n              </ButtonWrapped>\r\n            </SetupIconWrapped>\r\n            <SetupIconWrapped onClick={showModal}>\r\n              <ButtonWrapped>\r\n                <SettingTwoTone />\r\n                설정\r\n              </ButtonWrapped>\r\n            </SetupIconWrapped>\r\n          </HeaderButtonWrapped>\r\n        </HeaderWrapped>\r\n\r\n        <Calendar\r\n          className={styles.calendar}\r\n          fullscreen={true}\r\n          dateCellRender={dateCellRender}\r\n          value={moment(selectedDate)}\r\n          onSelect={onSelect}\r\n          onPanelChange={onPanelChange}\r\n        />\r\n      </InnerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Holiday;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Spin, Tabs, Divider } from 'antd';\r\nimport {\r\n  fetchGetContents,\r\n  fetchGetDefaultInfo,\r\n  fetchGetHoliday,\r\n  fetchGetHolidayInfo,\r\n  fetchGetReturnDate,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n} from '../../slice/LssSlice';\r\n\r\nimport MenuGuide from '../MenuGuide';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport RadioMode from './pages/components/RadioMode/RadioMode';\r\nimport ReturnDateComponent from './pages/components/ReturnDate/ReturnDate';\r\nimport {\r\n  CalendarIconWrapped,\r\n  InnerWrapped,\r\n  ProgressWrapped,\r\n  SettingIconWrapped,\r\n  SpanWrapped,\r\n  TabsWrapped,\r\n  TabWrapped,\r\n  Wrapped,\r\n} from './ManagementLssScreen.styled';\r\n\r\nimport Notice from './pages/components/Notice/Notice';\r\nimport Caption from './pages/components/Caption/Caption';\r\nimport Holiday from './pages/components/Holiday/Holiday';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ManagementLssScreen = (props: any) => {\r\n  const state = useSelector(selectLssDetail);\r\n  const TabPane = Tabs.TabPane;\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [isVisibleNotice, setIsVisibleNotice] = useState(false);\r\n  const [isVisibleCaption, setIsVisibleCaption] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const Reg = /(?:\\/lss)?(?:\\/form)?[0-9]{1,99999}/g;\r\n  const myeqid = Reg.exec(history.location.pathname);\r\n  const equipIdx = myeqid !== null ? parseInt(myeqid.toString()) : 1;\r\n  const EquipIdx = {\r\n    equip_idx: equipIdx,\r\n  };\r\n  useEffect(() => {\r\n    dispatch(fetchGetDefaultInfo(EquipIdx));\r\n    dispatch(fetchGetReturnDate());\r\n    dispatch(fetchGetContents(EquipIdx));\r\n    dispatch(fetchGetHoliday());\r\n    dispatch(fetchGetHolidayInfo());\r\n  }, [equipIdx]);\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem('currentPage', key);\r\n    setTabKey(key);\r\n  }\r\n\r\n  //drawer의 창닫기를 위한 이벤트 핸들러\r\n  const onDrawCloseHandler = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    const target = e.target as HTMLElement;\r\n    const dataId = target.dataset.id as 'wrapper';\r\n    if (dataId === 'wrapper') {\r\n      isVisibleNotice && setIsVisibleNotice(false);\r\n      isVisibleCaption && setIsVisibleCaption(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapped onClick={onDrawCloseHandler} data-id={'wrapper'}>\r\n      <InnerWrapped>\r\n        <MenuGuide title={state[LSS_DETAIL].eqpName && `LSS( ${state[LSS_DETAIL].eqpName} )`} />\r\n        <Spin spinning={state[LSS_DETAIL].isSpin} size=\"large\" tip=\"처리 중...\">\r\n          <ProgressWrapped isProgress={state[LSS_DETAIL].isProgress}>\r\n            <TabsWrapped>\r\n              <TabWrapped onChange={callback} defaultActiveKey=\"1\" activeKey={tabKey}>\r\n                <TabPane\r\n                  tab={\r\n                    <SpanWrapped>\r\n                      <SettingIconWrapped />\r\n                    </SpanWrapped>\r\n                  }\r\n                  key=\"1\"\r\n                >\r\n                  {/* 모드 */}\r\n                  <FormGuideComponent title=\"모드변경\" guide=\"대출일 안내, 휴관일 안내, 메시지 안내 중 하나를 선택해주세요.\" />\r\n                  <RadioMode value={state[LSS_DETAIL].mode} />\r\n                  <Divider />\r\n                  {/* 메모 */}\r\n                  <FormGuideComponent title=\"메모\" guide=\"메모를 관리하고 표시할 항목을 선택하세요\" />\r\n                  <Notice isVisible={isVisibleNotice} setIsVisible={setIsVisibleNotice} notice={state[LSS_DETAIL].notice} />\r\n                  <Divider />\r\n                  {/* 자막 */}\r\n                  <FormGuideComponent title=\"자막\" guide=\"자막을 관리하고 순서를 변경하세요\" />\r\n                  <Caption isVisible={isVisibleCaption} setIsVisible={setIsVisibleCaption} />\r\n                  <Divider />\r\n                  {/* 대여일 */}\r\n                  <FormGuideComponent title=\"대여일 변경\" guide=\"대여일을 설정하세요.\" />\r\n                  <ReturnDateComponent value={parseInt(state[LSS_DETAIL].returnDate)} />\r\n                </TabPane>\r\n                <TabPane\r\n                  tab={\r\n                    <SpanWrapped>\r\n                      <CalendarIconWrapped />\r\n                    </SpanWrapped>\r\n                  }\r\n                  key=\"2\"\r\n                >\r\n                  <Holiday />\r\n                </TabPane>\r\n              </TabWrapped>\r\n            </TabsWrapped>\r\n          </ProgressWrapped>\r\n        </Spin>\r\n      </InnerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementLssScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Upload, message, Modal } from 'antd';\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\nimport './ManagementMagImageUpload.css';\r\nimport * as Constants from '../Constants';\r\nimport { noImg } from '../CommonImage';\r\n\r\nconst ManagementMagImageUpload = (props) => {\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState();\r\n  const { setParentImageList } = props;\r\n  const [imageList, setImageList] = useState([]);\r\n  // const [filteredFileList, setFilteredFileList] = useState([]);\r\n\r\n  const { Dragger } = Upload;\r\n\r\n  useEffect(() => {\r\n    setImageList(props.fileList);\r\n  }, [props.fileList]);\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  const beforeUpload = (file) => {\r\n    // const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    // if (!isJpgOrPng) {\r\n    //     message.error('JPG/PNG 파일만 가능합니다.');\r\n    // }\r\n    // const isLt2M = file.size / 1024 / 1024 < 2;\r\n    // if (!isLt2M) {\r\n    //     message.error('이미지는 2MB를 초과할 수 없습니다.');\r\n    // }\r\n    // return isJpgOrPng && isLt2M;\r\n\r\n    return false;\r\n  };\r\n\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  };\r\n\r\n  const draggerProps = {\r\n    name: 'file',\r\n    multiple: true,\r\n    listType: 'picture',\r\n    customRequest: dummyRequest,\r\n    beforeUpload: beforeUpload,\r\n    onPreview: handlePreview,\r\n    fileList: imageList,\r\n    showUploadList: {\r\n      showPreviewIcon: true,\r\n      showDownloadIcon: true,\r\n      showRemoveIcon: true,\r\n    },\r\n    onChange: (info) => {\r\n      const { status } = info.file;\r\n      //  Array.from(info.fileList);\r\n      var fileList = info.fileList.filter((file) => {\r\n        return file.type.includes('image');\r\n      });\r\n\r\n      if (status !== 'uploading') {\r\n        // setImageList(info.fileList);\r\n\r\n        setParentImageList(fileList);\r\n        setImageList(fileList);\r\n      }\r\n    },\r\n    // className: 'upload-list-inline',\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dragger {...draggerProps}>\r\n        <p className='ant-upload-drag-icon'>\r\n          <PlusCircleOutlined />\r\n        </p>\r\n        <p className='ant-upload-text'>\r\n          클릭 또는 파일을 드래그해 이미지를 업로드해주세요\r\n        </p>\r\n      </Dragger>\r\n      <Modal\r\n        className='magPreviewModal'\r\n        visible={previewVisible}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img\r\n          alt='example'\r\n          style={{ width: '100%' }}\r\n          src={previewImage}\r\n          onError={(error) => {\r\n            error.currentTarget.src = noImg;\r\n          }}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementMagImageUpload;\r\n","import {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  InputNumber,\r\n  Button,\r\n  message,\r\n  Spin,\r\n  Select,\r\n} from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport MenuGuide from '../MenuGuide';\r\nimport ManagementMagImageUpload from './ManagementMagImageUpload';\r\nimport * as Constants from '../Constants';\r\nimport axios from 'axios';\r\nimport './ManagementMagForm.css';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport uuid from 'react-uuid';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Prompt } from 'react-router-dom';\r\n\r\nconst ManagementMagForm = (props) => {\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : 'regist'\r\n  );\r\n  const [record, setRecord] = useState(props.location.record);\r\n  const [isSpinning, setIsSpinning] = useState(false);\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n  const [equipList, setEquipList] = useState([]);\r\n  const [selectedEquipList, setSelectedEquipList] = useState([]);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  useEffect(() => {\r\n    console.log(props);\r\n    enablePrevent();\r\n    getMagEquipList();\r\n    if (mode === 'modify') {\r\n      getFileList(record);\r\n      getAppliedEquipList(record.idx);\r\n    }\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue({\r\n      useYN: 'Y',\r\n    });\r\n    if (mode === 'modify') {\r\n      form.setFieldsValue({\r\n        title: record.title,\r\n        equip: selectedEquipList,\r\n        duration: record.duration_sec,\r\n        useYN: record.useYN,\r\n      });\r\n    }\r\n    return () => {};\r\n  }, [props, selectedEquipList]);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n\r\n  const getAppliedEquipList = (cmsMasterIdx) => {\r\n    axios\r\n      .get(`/equip/playing`, {\r\n        params: {\r\n          cms_master_idx: cmsMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setSelectedEquipList(\r\n          res.data.appliedEquipList.map((item) => item.equip_idx)\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getFileList = (record) => {\r\n    axios\r\n      .get('/files', {\r\n        params: {\r\n          mag_idx: record.mag_idx,\r\n          type: 'MAG',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        var fileList = res.data.fileList;\r\n        fileList.forEach((item, index) => {\r\n          fileList[index]['uid'] = index;\r\n          fileList[index]['url'] =\r\n            Constants.DEV_SERVER + '/files/mag/' + item.saveName;\r\n          fileList[index]['thumbUrl'] =\r\n            Constants.DEV_SERVER + '/files/mag/' + item.saveName;\r\n          fileList[index]['name'] = item.orgName;\r\n          fileList[index]['type'] = 'image/';\r\n          fileList[index]['status'] = 'done';\r\n        });\r\n        setImageList(fileList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    if (typeof values.equip === 'undefined') {\r\n      values.equip = [];\r\n    }\r\n\r\n    if (imageList.length == 0) {\r\n      message.error('이미지를 등록해주세요');\r\n      return;\r\n    }\r\n    setIsSpinning(true);\r\n    if (mode == 'regist') {\r\n      axios\r\n        .post('/mag', {\r\n          cSubject: values.title,\r\n          duration_sec: values.duration,\r\n          useYN: values.useYN,\r\n          equip_idx: selectedEquipList,\r\n        })\r\n        .then((res) => {\r\n          sendImages(imageList, res.data.mag_idx);\r\n          setTimeout(() => {\r\n            setIsBack(false);\r\n            setIsSpinning(false);\r\n            message.success('등록 완료');\r\n            props.history.goBack();\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setIsSpinning(false);\r\n        });\r\n    } else if (mode === 'modify') {\r\n      axios\r\n        .put(Constants.DEV_SERVER + '/mag', {\r\n          idx: record.idx,\r\n          cms_master_idx: record.idx,\r\n          equip_idx: selectedEquipList,\r\n          mag_idx: record.mag_idx,\r\n          cSubject: values.title,\r\n          duration_sec: values.duration,\r\n          useYN: values.useYN,\r\n        })\r\n        .then((res) => {\r\n          modifyImages(imageList, res.data.mag_idx);\r\n          setTimeout(() => {\r\n            setIsBack(false);\r\n            setIsSpinning(false);\r\n            message.success('등록 완료');\r\n            props.history.goBack();\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n\r\n          setIsSpinning(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const getMagEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: 'MAG',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const modifyImages = (imageList, mag_idx) => {\r\n    var formData = new FormData();\r\n    var doneInfo = [];\r\n    var uploadingInfo = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      if (item.status === 'done') {\r\n        doneInfo.push({\r\n          type: 'MAG',\r\n          ref_idx: mag_idx,\r\n          saveName: item.saveName,\r\n          idx: idx,\r\n          status: 'done',\r\n        });\r\n      } else {\r\n        formData.append('files', item.originFileObj);\r\n        uploadingInfo.push({\r\n          type: 'MAG',\r\n          uid: item.uid,\r\n          ref_idx: mag_idx,\r\n          idx: idx,\r\n          status: 'uploading',\r\n        });\r\n      }\r\n    });\r\n\r\n    formData.append('doneInfo', JSON.stringify(doneInfo));\r\n    formData.append('uploadingInfo', JSON.stringify(uploadingInfo));\r\n\r\n    axios\r\n      .put(Constants.DEV_SERVER + '/file' + `/${mag_idx}`, formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, mag_idx) => {\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'MAG',\r\n        idx: idx,\r\n        ref_idx: mag_idx,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const onChangeEquip = (e) => {\r\n    setSelectedEquipList(e);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <Spin spinning={isSpinning} size='large' tip='처리 중...'>\r\n        <div style={{ width: '70%', margin: 'auto' }}>\r\n          <MenuGuide\r\n            title={'화면 관리 ▶ MAG 등록'}\r\n            subTitle={'이미지를 등록해주세요.'}\r\n          />\r\n          <Form\r\n            form={form}\r\n            validateMessages={validateMessages}\r\n            onFinish={handleSubmit}\r\n            style={{\r\n              border: '1px solid #dfe6e9',\r\n              padding: '50px',\r\n            }}\r\n          >\r\n            <FormGuideComponent title='제목' />\r\n            <Form.Item name='title' rules={[{ required: true }]}>\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='기기선택' />\r\n            <Form.Item name='equip'>\r\n              <Select\r\n                value={selectedEquipList}\r\n                mode='multiple'\r\n                showArrow\r\n                placeholder='MAG 기기를 선택해주세요'\r\n                style={{ width: '100%' }}\r\n                onChange={(e) => {\r\n                  onChangeEquip(e);\r\n                }}\r\n              >\r\n                {equipList.map((item, idx) => {\r\n                  return (\r\n                    <Select.Option key={uuid()} value={item.idx}>\r\n                      {item.eqpName}\r\n                    </Select.Option>\r\n                  );\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='이미지' />\r\n            <Form.Item name='images'>\r\n              <ManagementMagImageUpload\r\n                setParentImageList={setImageList}\r\n                fileList={Array.from(imageList)}\r\n              />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='전환시간(초)' />\r\n            <Form.Item name='duration' rules={[{ required: true }]}>\r\n              <InputNumber\r\n                min={1}\r\n                style={{\r\n                  width: '150px',\r\n                }}\r\n              />\r\n            </Form.Item>\r\n\r\n            {/* <FormGuideComponent title='사용여부' /> */}\r\n            <Form.Item style={{ display: 'none' }} name='useYN'>\r\n              <Radio.Group>\r\n                <Radio value={'Y'}>Y</Radio>\r\n                <Radio value={'N'}>N</Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type='primary' htmlType='submit' block>\r\n                {mode == 'regist' ? '등 록' : '수 정'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Spin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementMagForm;\r\n","import axios from 'axios';\r\n// import { getBlackList, getBlackListType } from '../types/BlackList';\r\nimport { ResponseVo } from '../types/Common';\r\n\r\n// export const registBlacklist = (is_user_no, black_type) => axios.post(`/black/register`, { is_user_no, black_type });\r\n\r\n// export const postBlackList = async ({ is_user_no, black_type }: { is_user_no: number; black_type: 'ITEM' | 'EVENT' }) => {\r\n//   try {\r\n//     const response = await axios.post('black/register', {\r\n//       is_user_no,\r\n//       black_type,\r\n//     });\r\n//     return response.data;\r\n//   } catch (err) {\r\n//     console.log(err);\r\n//   }\r\n// };\r\n\r\nexport const registBlackList = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    black_type: 'ITEM';\r\n    is_user_no: number;\r\n  };\r\n}) => {\r\n  try {\r\n    const response = await axios.post('/black/register', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const extendBlackList = async ({ params }: { params: { black_type: 'ITEM'; extend_day: number | string; is_user_no: number } }) => {\r\n  try {\r\n    const response = await axios.post('/black/extend', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const cancelBlackList = async ({ params }: { params: { black_type: 'ITEM'; is_user_no: number } }) => {\r\n  try {\r\n    const response = await axios.post('/black/release', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getBanList = async ({ params }: { params: { search_type: 'ID'; search_value?: number | string } }) => {\r\n  try {\r\n    const response = await axios.get('/black/getBanList', {\r\n      params,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction, Slice } from '@reduxjs/toolkit';\r\nimport { registBlackList, extendBlackList, cancelBlackList, getBanList } from '../api/BlackList.api';\r\n\r\nimport { getBlackListType } from '../types/BlackList';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\n\r\nexport const BLACKLIST = 'BLACKLIST' as const;\r\n\r\ntype SliceState = {\r\n  banList: getBlackListType[];\r\n  isLoading: boolean;\r\n};\r\n\r\ntype PayloadType = {\r\n  [BLACKLIST]: SliceState;\r\n};\r\n// 등록\r\nexport const fetchRegistBlackList = createAsyncThunk(`${BLACKLIST}/black/getBanList`, registBlackList);\r\n// 연장\r\nexport const fetchExtendBlackList = createAsyncThunk(`${BLACKLIST}/black/extend`, extendBlackList);\r\n// 취소\r\nexport const fetchCancelBlackList = createAsyncThunk(`${BLACKLIST}/black/release`, cancelBlackList);\r\n// 조회\r\nexport const fetchGetBlackList = createAsyncThunk(`${BLACKLIST}/black/getBanList`, getBanList);\r\n\r\nconst slice = createSlice({\r\n  name: BLACKLIST,\r\n  initialState: {\r\n    banList: [],\r\n    isLoading: false,\r\n  } as SliceState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [fetchExtendBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchExtendBlackList.fulfilled.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchExtendBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n\r\n    [fetchCancelBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchCancelBlackList.fulfilled.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchCancelBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchGetBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchGetBlackList.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<getBlackListType[]>>) => {\r\n      state.banList = action.payload.response_body;\r\n      state.isLoading = false;\r\n    },\r\n    [fetchCancelBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\n// export const { banList } = slice.actions;\r\n\r\nexport const selectBlackList = (state: PayloadType) => state[BLACKLIST];\r\n","import { Table } from 'antd';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport uuid from 'react-uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchCancelBlackList, fetchExtendBlackList, fetchGetBlackList, selectBlackList } from '../../slice/BlackListSlice';\r\nimport Popconfirm from 'antd/es/popconfirm';\r\nimport { DeleteOutlined, QuestionCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\n\r\nconst BlackTableWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst BlackTable = () => {\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n  const blackList = useSelector(selectBlackList);\r\n  const dispatch = useDispatch();\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'blacklist_idx',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'ID',\r\n      dataIndex: 'is_user_id',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '이름',\r\n      dataIndex: 'is_user_nm',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '블랙기한',\r\n      dataIndex: 'expireDate',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '종류',\r\n      dataIndex: 'black_type',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        // console.log(record);\r\n        return <div>{record.black_type === 'EVENT' ? '행사' : '물품'}</div>;\r\n      },\r\n    },\r\n    {\r\n      title: '해제',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 20,\r\n      align: 'center',\r\n      render: (_item, _record, _idx) => {\r\n        return (\r\n          <>\r\n            <Popconfirm\r\n              title=\"블랙리스트에서 해제하시겠습니까?\"\r\n              icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n              onConfirm={async (e) => {\r\n                e.stopPropagation();\r\n                // console.log(_record);\r\n                const { black_type, is_user_no } = _record;\r\n                console.log(black_type, is_user_no);\r\n                await dispatch(\r\n                  fetchCancelBlackList({\r\n                    params: {\r\n                      black_type,\r\n                      is_user_no,\r\n                    },\r\n                  })\r\n                );\r\n                await dispatch(\r\n                  fetchGetBlackList({\r\n                    params: {\r\n                      search_type: 'ID',\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n              onCancel={(e) => {\r\n                e.stopPropagation();\r\n                return;\r\n              }}\r\n              okText=\"예\"\r\n              cancelText=\"아니오\"\r\n            >\r\n              <DeleteOutlined\r\n                style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                }}\r\n              />\r\n            </Popconfirm>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '기한 연장',\r\n      dataIndex: 'extend',\r\n      key: uuid(),\r\n      width: 20,\r\n      align: 'center',\r\n      render: (_item, _record, _idx) => {\r\n        return (\r\n          <>\r\n            <Popconfirm\r\n              title=\"기한을 일주일 연장하시겠습니까?\"\r\n              icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n              onConfirm={async (e) => {\r\n                e.stopPropagation();\r\n                const { black_type, is_user_no } = _record;\r\n                await dispatch(\r\n                  fetchExtendBlackList({\r\n                    params: {\r\n                      black_type,\r\n                      is_user_no,\r\n                      extend_day: 0,\r\n                    },\r\n                  })\r\n                );\r\n\r\n                // console.log(black_type, is_user_no);\r\n                // await dispatch(\r\n                //   fetchCancelBlackList({\r\n                //     params: {\r\n                //       black_type,\r\n                //       is_user_no,\r\n                //     },\r\n                //   })\r\n                // );\r\n\r\n                await dispatch(\r\n                  fetchGetBlackList({\r\n                    params: {\r\n                      search_type: 'ID',\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n              onCancel={(e) => {\r\n                e.stopPropagation();\r\n                return;\r\n              }}\r\n              okText=\"예\"\r\n              cancelText=\"아니오\"\r\n            >\r\n              <PlusOutlined\r\n                style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                }}\r\n              />\r\n            </Popconfirm>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BlackTableWrapped>\r\n      <div>블랙리스트</div>\r\n      <Table\r\n        rowKey={() => uuid()}\r\n        loading={blackList.isLoading}\r\n        dataSource={blackList.banList}\r\n        columns={columns}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', `${e}`);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n    </BlackTableWrapped>\r\n  );\r\n};\r\n\r\nexport default BlackTable;\r\n","import axios from 'axios';\r\nimport Axios from 'axios';\r\n\r\nexport const getUserFromLas = (user_key) =>\r\n  Axios.get(`/gesUser/getUserInfo`, {\r\n    params: {\r\n      user_key,\r\n    },\r\n  });\r\n\r\nexport const registBlacklist = (is_user_no, black_type) => Axios.post(`/black/register`, { is_user_no, black_type });\r\n\r\nexport const postBlackList = async ({ is_user_no, black_type }) => {\r\n  try {\r\n    const response = await axios.post('black/register', {\r\n      is_user_no,\r\n      black_type,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getBanList = async ({ search_type = 'ID', search_value }) => {\r\n  try {\r\n    const response = await axios.get('/black/getBanList', {\r\n      search_type,\r\n      search_value,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const cancelBlackList = async ({ black_type, is_user_no }) => {\r\n  try {\r\n    const response = await axios.post('/black/release', {\r\n      black_type,\r\n      is_user_no,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import { Alert, Button, Descriptions, Input, Modal, Select, Space } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchGetBlackList } from '../../slice/BlackListSlice';\r\nimport { getUserFromLas, postBlackList, registBlacklist } from './BlackList.api';\r\nimport useGetBlackList from './useGetBlackList';\r\n\r\nconst InputWrapped = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ActionWrapped = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0px;\r\n`;\r\n\r\nconst MemberSearchModal = ({ isVisible, setIsVisible }) => {\r\n  const [user, setUser] = useState();\r\n  const [inputText, setInputText] = useState('');\r\n  const [stateCode, setStateCode] = useState();\r\n  const [type, setType] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const findUser = (user_key) => {\r\n    getUserFromLas(user_key)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data?.status_code !== 200) {\r\n          alert('일치하는 회원이 없습니다.');\r\n          // <Alert message=\"일치하는 회원이 없습니다\" type=\"warning\" />;\r\n          return;\r\n        }\r\n        setStateCode(res.data.status_code);\r\n        if (res.data.status_code === 200) {\r\n          setUser(res.data.response_body);\r\n        }\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 창 닫을 때\r\n    if (!isVisible) {\r\n      setInputText('');\r\n      setUser();\r\n      setStateCode();\r\n    }\r\n  }, [isVisible]);\r\n\r\n  return (\r\n    <Modal\r\n      footer={null}\r\n      title=\"블랙리스트 등록\"\r\n      visible={isVisible}\r\n      destroyOnClose\r\n      centered\r\n      onCancel={(e) => {\r\n        setIsVisible(false);\r\n      }}\r\n      maskClosable\r\n      onOk={(e) => {\r\n        setIsVisible(false);\r\n      }}\r\n      style={{ minWidth: '700px' }}\r\n    >\r\n      <div>회원번호 또는 ID 를 입력해주세요.</div>\r\n      <InputWrapped>\r\n        <Input\r\n          onChange={(e) => {\r\n            setInputText(e.target.value);\r\n          }}\r\n          onPressEnter={() => {\r\n            if (inputText.trim()) findUser(inputText.trim());\r\n          }}\r\n        />\r\n        <Button\r\n          onClick={() => {\r\n            findUser(inputText.trim());\r\n          }}\r\n          style={{ margin: '0px 10px' }}\r\n        >\r\n          검색\r\n        </Button>\r\n      </InputWrapped>\r\n      <ActionWrapped>\r\n        {stateCode === 200 && (\r\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n            <Descriptions\r\n              bordered\r\n              title=\"회원 정보\"\r\n              size=\"small\"\r\n              labelStyle={{\r\n                width: '93px !important',\r\n              }}\r\n            >\r\n              <Descriptions.Item label=\"ID\">{user?.is_user_id}</Descriptions.Item>\r\n              <Descriptions.Item label=\"이름\">{user?.is_user_nm}</Descriptions.Item>\r\n              <Descriptions.Item label=\"전화번호\">{user?.is_user_phone}</Descriptions.Item>\r\n            </Descriptions>\r\n            <div>\r\n              <Text>블랙리스트 타입 : </Text>\r\n              <Select\r\n                placeholder=\"타입을 선택해주세요\"\r\n                style={{ minWidth: '150px' }}\r\n                onChange={(e) => {\r\n                  setType(e);\r\n                }}\r\n              >\r\n                <Select.Option value=\"EVENT\">행사</Select.Option>\r\n                <Select.Option value=\"ITEM\">물품</Select.Option>\r\n              </Select>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              block\r\n              style={{ marginTop: '20px' }}\r\n              onClick={async () => {\r\n                if (user.is_user_no && type) {\r\n                  const res = await postBlackList({\r\n                    is_user_no: user.is_user_no,\r\n                    black_type: type,\r\n                  });\r\n                  if (res) {\r\n                    console.log(res);\r\n                    if (res?.status_code === 200) {\r\n                      dispatch(\r\n                        fetchGetBlackList({\r\n                          params: {\r\n                            search_type: 'ID',\r\n                          },\r\n                        })\r\n                      );\r\n                      setIsVisible(false);\r\n                    }\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              등록\r\n            </Button>\r\n          </Space>\r\n        )}\r\n\r\n        {stateCode === 404 && <div>회원을 찾을 수 없습니다.</div>}\r\n      </ActionWrapped>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default MemberSearchModal;\r\n","import { Button } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchGetBlackList, selectBlackList } from '../../slice/BlackListSlice';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BlackTable from './BlackTable';\r\nimport MemberSearchModal from './MemberSearchModal';\r\nimport MemberTable from './MemberTable';\r\nimport useGetBlackList from './useGetBlackList';\r\n\r\nconst BlackListContainerWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\nconst TableWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst BlackListContainer = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchGetBlackList({\r\n        params: {\r\n          search_type: 'ID',\r\n        },\r\n      })\r\n    );\r\n  }, []);\r\n  // const banList = useSelector(selectBlackList);\r\n  // const [dataSource, setDataSource] = useState([]);\r\n  // const source = useGetBlackList();\r\n\r\n  // useEffect(() => {\r\n  //   setDataSource(source);\r\n  // }, [source]);\r\n\r\n  // const\r\n\r\n  useEffect(() => {}, [isVisible]);\r\n  return (\r\n    <BlackListContainerWrapped>\r\n      <MenuGuide title={'블랙리스트'} subTitle={'도서관 회원의 행사/물품의 신청을 제한 할 수 있습니다.'} />\r\n      <Button\r\n        type=\"default\"\r\n        onClick={() => {\r\n          setIsVisible(true);\r\n        }}\r\n        style={{ margin: '10px 0px' }}\r\n      >\r\n        블랙리스트 등록하기\r\n      </Button>\r\n      <MemberSearchModal isVisible={isVisible} setIsVisible={(visible) => setIsVisible(visible)} />\r\n\r\n      <TableWrapped>\r\n        <BlackTable />\r\n      </TableWrapped>\r\n    </BlackListContainerWrapped>\r\n  );\r\n};\r\n\r\nexport default BlackListContainer;\r\n","import { Table } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst MemberTableWrapped = styled.div`\r\n  width: 49%;\r\n`;\r\n\r\nconst columns = [\r\n  {\r\n    title: 'NO',\r\n    dataIndex: '',\r\n    align: 'center',\r\n    width: 50,\r\n    key: uuid(),\r\n    render: (item, record, idx) => {\r\n      var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n      return idx + (currentPage - 1) * 10 + 1;\r\n    },\r\n  },\r\n  {\r\n    title: 'ID',\r\n    dataIndex: 'cSubject',\r\n    align: 'center',\r\n    width: 80,\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '이름',\r\n    dataIndex: 'eqpName',\r\n    align: 'center',\r\n    width: 80,\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '전화번호',\r\n    dataIndex: 'question_cnt',\r\n    width: 90,\r\n    align: 'center',\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '블랙',\r\n    dataIndex: 'question_cnt',\r\n    width: 80,\r\n    align: 'center',\r\n    key: uuid(),\r\n  },\r\n];\r\n\r\nconst MemberTable = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dataSource, setDataSource] = useState([]);\r\n  return (\r\n    <MemberTableWrapped>\r\n      <div>회원</div>\r\n      <Table\r\n        rowKey={(dataSource) => dataSource.dcs_idx}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        bordered\r\n        size='small'\r\n      />\r\n    </MemberTableWrapped>\r\n  );\r\n};\r\n\r\nexport default MemberTable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, DatePicker, Table, Space, Collapse, Input, Select, Button } from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport { getDvdLogs } from '../../../api/Dvd.api';\r\nimport { logDvdType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nconst DvdLogModal = ({ isDvdModal, setIsModal }: { isDvdModal: boolean; setIsModal: any }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [startDate, setStartDate] = useState(moment().add(-1, 'month').format('YYYY-MM-DD'));\r\n  const [endDate, setEndDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const [user_key, setUserKey] = useState('');\r\n  const [user_name, setUserName] = useState('');\r\n\r\n  const [dataSource, setDataSource] = useState<logDvdType[]>([]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'DVD Room Name',\r\n      dataIndex: 'room_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'type',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        const text = _item === 'RESERVE' ? '예약' : '취소';\r\n        return <h1>{text}</h1>;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        const date = moment(_item).format('YYYY-MM-DD HH:mm');\r\n        return <h1>{date}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const okOk = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await getDvdLogs({ params: { end_date: endDate, start_date: startDate, user_key, user_name } });\r\n      if (result.status_code === 200) {\r\n        setDataSource(result.response_body);\r\n      }\r\n      console.log(result.status_code);\r\n    } catch (err) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"item-history-modal\"\r\n      //   title={`${itemDetail.item_prop_subject} 대여 이력`}\r\n      visible={isDvdModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsModal(false);\r\n        // setIsItemHistoryModal(false);\r\n        // setDataSource([]);\r\n        // setCurrentPage(1);\r\n        // setFilter(new FilterObject());\r\n      }}\r\n    >\r\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => <FilterOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} />}\r\n              style={{ marginTop: '20px' }}\r\n            >\r\n              <Collapse.Panel header={<Text style={{ cursor: 'pointer' }}>이력 조회 설정</Text>} key=\"1\">\r\n                <Space direction=\"horizontal\" style={{ width: '100%' }} size=\"large\">\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[moment(startDate), moment(endDate)]}\r\n                      onChange={(e) => {\r\n                        if (e) {\r\n                          const [mStart, mEnd] = e;\r\n                          mStart && setStartDate(mStart?.format(dateFormat));\r\n                          mEnd && setEndDate(mEnd?.format(dateFormat));\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size=\"small\"\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserKey(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 이름 </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserName(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                  </Space>\r\n                  {/* <Space>\r\n                    <Text>처리 상태</Text>\r\n                    <Select\r\n                      //   value={filter.state}\r\n                      style={{ width: '150px' }}\r\n                      size=\"small\"\r\n                      onChange={(e) => {\r\n                        // filter.state = e;\r\n                        // setFilter(Map(filter).toJS());\r\n                      }}\r\n                    >\r\n                      <Select.Option key=\"total\">전체</Select.Option>\r\n                      <Select.Option key=\"loaning\">대여</Select.Option>\r\n                      <Select.Option key=\"return\">반납</Select.Option>\r\n                    </Select>\r\n                  </Space> */}\r\n                </Space>\r\n\r\n                {/* <Space></Space>\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'flex-end',\r\n                    marginTop: '0.5rem',\r\n                  }}\r\n                >\r\n                  <Space>\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                     <Button\r\n                      size=\"small\"\r\n                      onClick={async () => {\r\n                        // setFilter(new FilterObject());\r\n                      }}\r\n                    >\r\n                      초기화\r\n                    </Button> \r\n                  </Space>\r\n                </div> */}\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table\r\n          rowKey={(dataSource) => uuid()}\r\n          loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          //   pagination={{\r\n          //     pageSize: 10,\r\n          //     current: currentPage,\r\n          //     onChange: (e) => {\r\n          //       sessionStorage.setItem('currentPage', e);\r\n          //       setCurrentPage(e);\r\n          //     },\r\n          //   }}\r\n        />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DvdLogModal;\r\n","import { Table, Button, Badge } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport uuid from 'react-uuid';\r\nimport { Link } from 'react-router-dom';\r\nimport useGetDvdList from './useGetDvdList';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport DvdLogModal from './DvdLogModal';\r\nimport { selectDvdSlice, setDvdDetail, setDvdRoomName } from '../../../slice/DvdSlice';\r\n\r\nconst DvdContainer = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { room_name } = useSelector(selectDvdSlice);\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')!) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const [isModal, setIsModal] = useState(false);\r\n\r\n  const dataSource = useGetDvdList();\r\n\r\n  console.log(dataSource);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'DVD Room Name',\r\n      dataIndex: 'room_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <Link\r\n            onClick={() => {\r\n              dispatch(\r\n                setDvdDetail({\r\n                  room_name: _record.room_name,\r\n                  start_time: _record.start_time,\r\n                  end_time: _record.end_time,\r\n                  use_flag: _record.use_flag,\r\n                  hours_of_use: _record.hours_of_use,\r\n                  select_count: _record.select_count,\r\n                })\r\n              );\r\n              //   dispatch(setDvdRoomName({ room_name: _record.room_name }));\r\n            }}\r\n            to={{ pathname: `/dvd/detail/${_record.seq}` }}\r\n          >\r\n            {_item}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (_record.use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <DvdLogModal isDvdModal={isModal} setIsModal={setIsModal} />\r\n        <MenuGuide title={'실 등록 관리'} subTitle={'실 등록 / 수정 / 상태를 관리할 수 있습니다.'} />\r\n        <Table\r\n          rowKey={(_dataSource) => uuid()}\r\n          //   loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          //   pagination={{\r\n          //     pageSize: 10,\r\n          //     current: currentPage,\r\n          //     onChange: (e) => {\r\n          //       sessionStorage.setItem('currentPage', e);\r\n          //       setCurrentPage(e);\r\n          //     },\r\n          //   }}\r\n        />\r\n        <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n          <Button\r\n            type=\"dashed\"\r\n            onClick={(e) => {\r\n              setIsModal(true);\r\n            }}\r\n            style={{ width: '100px' }}\r\n          >\r\n            예약 조회\r\n          </Button>\r\n          <Link\r\n            to={{\r\n              pathname: '/dvd/form/new',\r\n            }}\r\n          >\r\n            <Button type=\"primary\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DvdContainer;\r\n","import { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Input, Popconfirm, Radio, Space, Table } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { noImg } from '../../CommonImage';\r\nimport MenuGuide from '../../MenuGuide';\r\n\r\nconst EventTableContaner = () => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [eventStatus, setEventStatus] = useState('total');\r\n  const keywordInput = useRef();\r\n\r\n  const [currentPage, setCurrentPage] = useState(sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : 1);\r\n\r\n  useEffect(() => {\r\n    getPrograms(keywordInput.current.clearableInput.props.value, eventStatus);\r\n  }, [eventStatus]);\r\n\r\n  const getPrograms = (keyword = '', filter = 'total') => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(`/event/index`, {\r\n        params: { keyword, filter },\r\n      })\r\n      .then((res) => {\r\n        setDataSource(res.data.response_body);\r\n        setIsLoading(false);\r\n        keywordInput.current.focus();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const deleteEvent = (event_master_idx) => {\r\n    setIsLoading(true);\r\n    axios\r\n      .delete(`/event/delete/${event_master_idx}`)\r\n      .then((res) => {\r\n        getPrograms();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: '등록번호',\r\n      dataIndex: 'event_master_idx',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '포스터',\r\n      dataIndex: 'event_poster',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, index) => {\r\n        return (\r\n          <img\r\n            alt=\"chungnam_logo\"\r\n            src={`${axios.defaults.baseURL}/files/event/${record.event_poster.event_poster_file_name}`}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n            style={{\r\n              width: '80px',\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '행사명',\r\n      dataIndex: 'event_title',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '신청수 / 정원수',\r\n      dataIndex: 'lmit',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (item, record, index) => {\r\n        return `${record.event_applicant_total_cnt}/${record.event_applicant_limit_cnt}`;\r\n      },\r\n    },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      width: 200,\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={(e) => {\r\n              e.stopPropagation();\r\n              deleteEvent(record.event_master_idx);\r\n            }}\r\n            onCancel={(e) => {\r\n              e.stopPropagation();\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      <MenuGuide title={'행사 등록 관리'} subTitle={'행사 등록을 관리할 수 있습니다.'} />\r\n      <Space direction=\"vertical\" style={{ margin: '10px' }}>\r\n        <Space style={{ margin: '10px 0px' }}>\r\n          <Text>행사명 검색 : </Text>\r\n          <Input\r\n            ref={keywordInput}\r\n            onPressEnter={(e) => {\r\n              getPrograms(e.target.value);\r\n            }}\r\n          />\r\n          <Button\r\n            onClick={(e) => {\r\n              getPrograms(keywordInput.current.clearableInput.props.value);\r\n            }}\r\n            type=\"primary\"\r\n          >\r\n            {`검 색`}\r\n          </Button>\r\n        </Space>\r\n\r\n        <Space>\r\n          <Text>행사 상태 검색 : </Text>\r\n          <Radio.Group\r\n            value={eventStatus}\r\n            onChange={(e) => {\r\n              setEventStatus(e.target.value);\r\n            }}\r\n          >\r\n            <Radio value=\"total\">전체</Radio>\r\n            <Radio value=\"recruit\">모집 중</Radio>\r\n            <Radio value=\"progress\">진행 중</Radio>\r\n            <Radio value=\"close\">종료</Radio>\r\n          </Radio.Group>\r\n        </Space>\r\n      </Space>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size=\"small\"\r\n        bordered\r\n        onRow={(record, rowIndex) => {\r\n          return {\r\n            onClick: (event) => {\r\n              history.push(`/event/detail/${record.event_master_idx}`);\r\n            }, // click row\r\n            onDoubleClick: (event) => {}, // double click row\r\n            onContextMenu: (event) => {}, // right button click row\r\n            onMouseEnter: (event) => {}, // mouse enter row\r\n            onMouseLeave: (event) => {}, // mouse leave row\r\n          };\r\n        }}\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n      <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n        <Link\r\n          to={{\r\n            pathname: '/event/form',\r\n          }}\r\n        >\r\n          <Button type=\"primary\" style={{ width: '100px' }}>\r\n            등 록\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventTableContaner;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, DatePicker, Table, Space, Collapse, Input, Select, Button } from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport { getDvdLogs } from '../../../api/Dvd.api';\r\nimport { logDvdType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { getItemLoanLogs } from '../../../api/ItemLoan.api';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nconst ItemLoanLogModal = ({ isDvdModal, setIsModal }: { isDvdModal: boolean; setIsModal: any }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [startDate, setStartDate] = useState(moment().add(-1, 'month').format('YYYY-MM-DD'));\r\n  const [endDate, setEndDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const [user_key, setUserKey] = useState('');\r\n  const [user_name, setUserName] = useState('');\r\n\r\n  const [dataSource, setDataSource] = useState<logDvdType[]>([]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'Item Name',\r\n      dataIndex: 'item_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'type',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        let text;\r\n        if (_item === 'RESERVE') {\r\n          text = '예약';\r\n        } else if (_item === 'CANCEL') {\r\n          text = '취소';\r\n        } else {\r\n          text = '반납';\r\n        }\r\n        // const text = _item === 'RESERVE' ? '예약' : '취소';\r\n        return <h1>{text}</h1>;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        const date = moment(_item).format('YYYY-MM-DD HH:mm');\r\n        return <h1>{date}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const okOk = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await getItemLoanLogs({ params: { end_date: endDate, start_date: startDate, user_key, user_name } });\r\n      if (result.status_code === 200) {\r\n        setDataSource(result.response_body);\r\n      }\r\n      console.log(result.status_code);\r\n    } catch (err) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"item-history-modal\"\r\n      visible={isDvdModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsModal(false);\r\n      }}\r\n    >\r\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => <FilterOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} />}\r\n              style={{ marginTop: '20px' }}\r\n            >\r\n              <Collapse.Panel header={<Text style={{ cursor: 'pointer' }}>이력 조회 설정</Text>} key=\"1\">\r\n                <Space direction=\"horizontal\" style={{ width: '100%' }} size=\"large\">\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[moment(startDate), moment(endDate)]}\r\n                      onChange={(e) => {\r\n                        if (e) {\r\n                          const [mStart, mEnd] = e;\r\n                          mStart && setStartDate(mStart?.format(dateFormat));\r\n                          mEnd && setEndDate(mEnd?.format(dateFormat));\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size=\"small\"\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserKey(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 이름 </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserName(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                  </Space>\r\n                </Space>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table rowKey={(dataSource) => uuid()} loading={isLoading} dataSource={dataSource} columns={columns} size=\"small\" bordered />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ItemLoanLogModal;\r\n","import { Table, Button, Badge } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport uuid from 'react-uuid';\r\nimport { Link } from 'react-router-dom';\r\nimport useGetItemList from './useGetItemList';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ItemLoanLogModal from './ItemLoanLogModal';\r\nimport { selectItemLoanSlice, setItemLoanDetail, setItemLoanName } from '../../../slice/ItemLoanSlice';\r\n\r\nconst ItemLoanContainer = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { item_name } = useSelector(selectItemLoanSlice);\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')!) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const [isModal, setIsModal] = useState(false);\r\n\r\n  const dataSource = useGetItemList(currentPage);\r\n\r\n  console.log(dataSource);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '일반물품',\r\n      dataIndex: 'item_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <Link\r\n            onClick={() => {\r\n              dispatch(\r\n                setItemLoanDetail({\r\n                  item_name: _record.item_name,\r\n                  start_time: _record.start_time,\r\n                  end_time: _record.end_time,\r\n                  use_flag: _record.use_flag,\r\n                  hours_of_use: _record.hours_of_use,\r\n                  select_count: _record.select_count,\r\n                })\r\n              );\r\n              //   dispatch(setDvdRoomName({ room_name: _record.room_name }));\r\n            }}\r\n            to={{ pathname: `/item/detail/${_record.seq}` }}\r\n          >\r\n            {_item}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (_record.use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ItemLoanLogModal isDvdModal={isModal} setIsModal={setIsModal} />\r\n        <MenuGuide title={'물품'} subTitle={'물품 등록 / 수정 / 상태를 관리할 수 있습니다.'} />\r\n        <Table\r\n          rowKey={(_dataSource) => uuid()}\r\n          //   loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          pagination={{\r\n            pageSize: 10,\r\n            current: typeof currentPage === 'number' ? currentPage : 1,\r\n            onChange: (e) => {\r\n              const pageNumber = e?.toString();\r\n              sessionStorage.setItem('currentPage', pageNumber);\r\n              setCurrentPage(e);\r\n            },\r\n          }}\r\n        />\r\n        <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n          <Button\r\n            type=\"dashed\"\r\n            onClick={(e) => {\r\n              setIsModal(true);\r\n            }}\r\n            style={{ width: '100px' }}\r\n          >\r\n            예약 조회\r\n          </Button>\r\n          <Link\r\n            to={{\r\n              pathname: '/item/form/new',\r\n            }}\r\n          >\r\n            <Button type=\"primary\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemLoanContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from '../item-loan/ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from '../item-loan/ItemLoanDetailItemComponent';\r\nimport '../item-loan/ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst OfficeDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: Constants.OFFICE_ITEM_MASTER_IDX,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`토론실 관리`}\r\n        subTitle={`토론실의 대실 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          토론실 정보\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          토론실 시간\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfficeDetailContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from '../item-loan/ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from '../item-loan/ItemLoanDetailItemComponent';\r\nimport '../item-loan/ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst TabletDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: Constants.TABLET_ITEM_MASTER_IDX,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`태블릿 관리`}\r\n        subTitle={`태블릿의 대여 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          태블릿 정보\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          태블릿 목록\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TabletDetailContainer;\r\n","import { Tabs } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { fetchGetBlackList } from '../slice/BlackListSlice';\r\nimport { MatchParams } from '../types/Common';\r\nimport BlackListContainer from './blacklist/BlackListContainer';\r\nimport DvdContainer from './is-system/dvd/DvdContainer';\r\nimport EventTableContaner from './is-system/event/EventTableContaner';\r\nimport ItemLoadTable from './is-system/item-loan/ItemLoanTable';\r\nimport ItemLoanContainer from './is-system/itemLoan/ItemLoanContainer';\r\nimport OfficeDetailContainer from './is-system/office/OfficeDetailContainer';\r\nimport TabletDetailContainer from './is-system/tablet/TabletDetailContainer';\r\n\r\nconst ManagementIs = () => {\r\n  const { TabPane } = Tabs;\r\n  const match = useRouteMatch<MatchParams>();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem('currentPage', '1');\r\n    history.push(`/is/${key}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { key } = match.params;\r\n    switch (key) {\r\n      case 'blacklist':\r\n        dispatch(\r\n          fetchGetBlackList({\r\n            params: {\r\n              search_type: 'ID',\r\n            },\r\n          })\r\n        );\r\n        break;\r\n      case 'dvd':\r\n        break;\r\n      case 'item':\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [match.params.key]);\r\n\r\n  return (\r\n    <Tabs onChange={callback} type=\"card\" defaultActiveKey=\"1\" activeKey={match.params.key}>\r\n      <TabPane tab=\"행사\" key=\"event\">\r\n        <EventTableContaner />\r\n      </TabPane>\r\n      <TabPane tab=\"DVD실\" key=\"dvd\">\r\n        <DvdContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"일반물품\" key=\"item\">\r\n        {/* \r\n        //2022-06-20 이전에 사용하던 컴포넌트\r\n        <ItemLoadTable />  */}\r\n        <ItemLoanContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"토론실\" key=\"2\">\r\n        <OfficeDetailContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"태블릿\" key=\"3\">\r\n        <TabletDetailContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"블랙리스트\" key=\"blacklist\">\r\n        <BlackListContainer />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementIs;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { message, Popconfirm, Table } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { deleteBanner } from '../../api/banner.api';\r\nimport { fetchBanners, selectBanner, setBannerType } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport { noImg } from '../CommonImage';\r\n\r\nexport default function BannerTable() {\r\n  const dispatch = useDispatch();\r\n  const bannerState = useSelector(selectBanner);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    dispatch(setBannerType({ banner_type: 'EVENT' }));\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    if (bannerState.banners) {\r\n      if (bannerState.banners.currentPage === null) {\r\n        dispatch(fetchBanners({ cur_page: 1, banner_type: 'EVENT' }));\r\n      } else {\r\n        dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n      }\r\n    }\r\n  }, [bannerState.banners.currentPage]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'banner_idx',\r\n      align: 'center',\r\n      width: 1,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '썸네일',\r\n      dataIndex: 'thumnail',\r\n      align: 'center',\r\n      width: 30,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        if (record.file_info && record.file_info.length > 0) {\r\n          return (\r\n            <img\r\n              src={`${axios.defaults.baseURL}/files/banner/${record.file_info[0].saved_file_name}`}\r\n              alt=\"thumnail\"\r\n              onError={(e) => {\r\n                e.currentTarget.src = noImg;\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '제목',\r\n      dataIndex: 'title',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        return (\r\n          <div\r\n            className=\"w-full h-full hover:text-blue-600\"\r\n            onClick={() => {\r\n              history.push(`/banner/${record.banner_idx}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '파일수',\r\n      dataIndex: 'file_count',\r\n      align: 'center',\r\n      width: 20,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '시작일',\r\n      dataIndex: 'banner_start_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '마감일',\r\n      dataIndex: 'banner_end_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 10,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text: any, record: { banner_idx: number }, index: any) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={async () => {\r\n              const response = await deleteBanner({\r\n                banner_idx: record.banner_idx,\r\n              });\r\n              if (response.data.status_code === 200) {\r\n                message.success(`삭제되었습니다.`);\r\n                dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n              }\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    bannerState?.banners && (\r\n      <Table\r\n        rowKey={() => uuid()}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: bannerState.banners.currentPage,\r\n          total: bannerState.banners.totalCount,\r\n          onChange: (page) => {\r\n            dispatch(fetchBanners({ cur_page: page, banner_type: 'EVENT' }));\r\n          },\r\n        }}\r\n        columns={columns}\r\n        dataSource={bannerState.banners.bannerDtoList}\r\n      />\r\n    )\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { IoMdCreate } from 'react-icons/io';\r\nimport { useHistory } from 'react-router';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerTable from './BannerTable';\r\n\r\nexport default function Banner() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classNames('w-full h-full')}>\r\n      <MenuGuide title=\"화면 관리 ▶ 행사안내(배너)\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('w-full flex justify-between items-end', 'my-3')}>\r\n        <Button\r\n          type=\"primary\"\r\n          className=\"text-white flex items-center\"\r\n          onClick={() => {\r\n            history.push('/banner/new');\r\n          }}\r\n        >\r\n          <IoMdCreate />\r\n          <div className=\"mx-3\">등 록</div>\r\n        </Button>\r\n      </div>\r\n      <BannerTable />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { message, Popconfirm, Table } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { deleteBanner } from '../../api/banner.api';\r\nimport { fetchBanners, selectBanner, setBannerType } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport { noImg } from '../CommonImage';\r\n\r\nexport default function RecommandTable() {\r\n  const dispatch = useDispatch();\r\n  const bannerState = useSelector(selectBanner);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(setBannerType({ banner_type: 'RECOMMEND' }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (bannerState.banners) {\r\n      if (bannerState.banners.currentPage === null) {\r\n        dispatch(fetchBanners({ cur_page: 1, banner_type: 'RECOMMEND' }));\r\n      } else {\r\n        dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'RECOMMEND' }));\r\n      }\r\n    }\r\n  }, [bannerState.banners.currentPage]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'banner_idx',\r\n      align: 'center',\r\n      width: 1,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '썸네일',\r\n      dataIndex: 'thumnail',\r\n      align: 'center',\r\n      width: 30,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        if (record.file_info && record.file_info.length > 0) {\r\n          return (\r\n            <img\r\n              src={`${axios.defaults.baseURL}/files/banner/${record.file_info[0].saved_file_name}`}\r\n              alt=\"thumnail\"\r\n              onError={(e) => {\r\n                e.currentTarget.src = noImg;\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '제목',\r\n      dataIndex: 'title',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        return (\r\n          <div\r\n            className=\"w-full h-full hover:text-blue-600\"\r\n            onClick={() => {\r\n              history.push(`/banner/${record.banner_idx}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '파일수',\r\n      dataIndex: 'file_count',\r\n      align: 'center',\r\n      width: 20,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '시작일',\r\n      dataIndex: 'banner_start_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '마감일',\r\n      dataIndex: 'banner_end_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 10,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text: any, record: { banner_idx: number }, index: any) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={async () => {\r\n              const response = await deleteBanner({\r\n                banner_idx: record.banner_idx,\r\n              });\r\n              if (response.data.status_code === 200) {\r\n                message.success(`삭제되었습니다.`);\r\n                dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'RECOMMEND' }));\r\n              }\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Table\r\n      rowKey={() => uuid()}\r\n      bordered\r\n      size=\"small\"\r\n      pagination={{\r\n        pageSize: 10,\r\n        current: bannerState.banners.currentPage,\r\n        total: bannerState.banners.totalCount,\r\n        onChange: (page) => {\r\n          dispatch(fetchBanners({ cur_page: page, banner_type: 'RECOMMEND' }));\r\n        },\r\n      }}\r\n      columns={columns}\r\n      dataSource={bannerState.banners.bannerDtoList}\r\n    />\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { IoMdCreate } from 'react-icons/io';\r\nimport { useHistory } from 'react-router';\r\nimport MenuGuide from '../MenuGuide';\r\nimport RecommandTable from './RecommandTable';\r\n\r\nexport default function Recommand() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classNames('w-full h-full')}>\r\n      <MenuGuide title=\"화면 관리 ▶ 사서추천\" subTitle=\"사서추천 이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('w-full flex justify-between items-end', 'my-3')}>\r\n        <Button\r\n          type=\"primary\"\r\n          className=\"text-white flex items-center\"\r\n          onClick={() => {\r\n            history.push('/recommandImage/new');\r\n          }}\r\n        >\r\n          <IoMdCreate />\r\n          <div className=\"mx-3\">등 록</div>\r\n        </Button>\r\n      </div>\r\n      <RecommandTable />\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  LectureListType,\r\n  CategoryType,\r\n  LectureDetailType,\r\n  LectureType,\r\n} from \"../types/Lecture\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const postLectureExcel = async (data: any, config?: any) => {\r\n  try {\r\n    const response = await axios.post(\"/lecture/excel\", data, config);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getLectureByType = async () => {\r\n  const response = await axios.get<ResponseVo<CategoryType[]>>(`/lecture`);\r\n  return response.data;\r\n};\r\n\r\nexport const postLectureType = async (params: LectureType) => {\r\n  const response = await axios.post(\"/lecture\", params);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteType = async (type_seq: number, pwd: string) => {\r\n  const response = await axios.delete<ResponseVo<any>>(`/lecture/${type_seq}`, {\r\n    data: { password: pwd },\r\n  });\r\n\r\n  return response;\r\n};\r\n\r\nexport const updateType = async (params: {\r\n  seq: number;\r\n  title: string;\r\n  password: string;\r\n}) => {\r\n  const response = await axios.put<ResponseVo<any>>(`/lecture`, params);\r\n  return response;\r\n};\r\n\r\nexport const getLectureListByType = async (type_seq: number) => {\r\n  const response = await axios.get<ResponseVo<LectureListType[]>>(\r\n    `/lecture/${type_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getLectureDetail = async ({\r\n  type_seq,\r\n  lecture_seq,\r\n}: {\r\n  type_seq: number;\r\n  lecture_seq: number;\r\n}) => {\r\n  const response = await axios.get<ResponseVo<LectureDetailType>>(\r\n    `/lecture/${type_seq}/${lecture_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// 강좌 수정,삭제 작업은  삼척 선생님이 엑셀로 작업후 재업로드 하기로 함 08/31 (미례)\r\nexport const deleteLecture = async (type_seq: number, lecture_seq: number) => {\r\n  const response = await axios.delete<ResponseVo<any>>(\r\n    `/lecture/${type_seq}/${lecture_seq}`\r\n  );\r\n  return response;\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport * as LectureType from \"../types/Lecture\";\r\nimport {\r\n  getLectureByType,\r\n  getLectureListByType,\r\n  getLectureDetail,\r\n} from \"../api/Lecture.api\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const LECTURE = \"LECTURE\";\r\n\r\ntype LectureTypes = {\r\n  categoryList: LectureType.CategoryType;\r\n  lectureList: LectureType.LectureListType;\r\n  lectureDetail: LectureType.LectureDetailType;\r\n  selectedCategory: { title: string; seq: number; password: string };\r\n};\r\n\r\ntype PayloadType = {\r\n  [LECTURE]: LectureTypes;\r\n};\r\n\r\nexport const fetchLectureCategory = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureCategory`,\r\n  getLectureByType\r\n);\r\n\r\nexport const fetchLectureList = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureList`,\r\n  getLectureListByType\r\n);\r\n\r\nexport const fetchLectureDetail = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureDetail`,\r\n  getLectureDetail\r\n);\r\n\r\nconst lectureSlice = createSlice({\r\n  name: `${LECTURE}`,\r\n  initialState: {\r\n    categoryList: [],\r\n    lectureList: [],\r\n    lectureDetail: {\r\n      seq: 0,\r\n      lectureTypeSeq: 0,\r\n      title: \"\",\r\n      method: \"\",\r\n      instructor: \"\",\r\n      recruitmentCount: 0,\r\n      roomNo: \"\",\r\n      weekDay: \"\",\r\n      lectureTime: \"\",\r\n      desc: \"\",\r\n      materialCosts: \"\",\r\n    },\r\n    selectedCategory: { seq: -1, title: \"\", password: \"\" },\r\n  } as LectureTypes,\r\n  reducers: {\r\n    setSelectedCategory: (state, action) => {\r\n      state.selectedCategory = action.payload;\r\n    },\r\n    resetLecture: (state) => {\r\n      console.log(\"reset lecture\");\r\n\r\n      state.lectureList = [];\r\n      state.selectedCategory = { seq: -1, title: \"\", password: \"\" };\r\n    },\r\n    resetLectureDetail: (state) => {\r\n      console.log(\"reset lecture detail\");\r\n\r\n      state.lectureDetail = {\r\n        seq: -1,\r\n        lectureTypeSeq: -1,\r\n        title: \"\",\r\n        method: \"\",\r\n        instructor: \"\",\r\n        recruitmentCount: -1,\r\n        roomNo: \"\",\r\n        weekDay: \"\",\r\n        lectureTime: \"\",\r\n        desc: \"\",\r\n        materialCosts: \"\",\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchLectureCategory.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.CategoryType>>\r\n    ) => {\r\n      state.categoryList = action.payload.response_body;\r\n    },\r\n    [fetchLectureCategory.rejected.type]: (state) => {},\r\n    [fetchLectureList.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.LectureListType>>\r\n    ) => {\r\n      state.lectureList = action.payload.response_body;\r\n    },\r\n    [fetchLectureList.rejected.type]: (state) => {},\r\n    [fetchLectureDetail.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.LectureDetailType>>\r\n    ) => {\r\n      state.lectureDetail = action.payload.response_body;\r\n    },\r\n    [fetchLectureDetail.rejected.type]: (state) => {},\r\n  },\r\n});\r\n\r\nexport const { resetLecture, setSelectedCategory, resetLectureDetail } =\r\n  lectureSlice.actions;\r\n\r\nexport default lectureSlice.reducer;\r\nexport const selectLectureSlice = (state: PayloadType) => state[LECTURE];\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { postLectureType } from \"../../../../api/Lecture.api\";\r\nimport {\r\n  fetchLectureCategory,\r\n  resetLecture,\r\n} from \"../../../../slice/LectureSlice\";\r\nimport { LectureType } from \"../../../../types/Lecture\";\r\n\r\nimport { Form, Button, Input, message } from \"antd/lib\";\r\nimport FormGuideComponent from \"../../../FormGuideComponent\";\r\n\r\nconst CenterAddForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n\r\n  const onSubmit = async (values: LectureType) => {\r\n    const res = await postLectureType(values);\r\n    if (res.status_code === 200) {\r\n      message.success(\"센터 등록이 완료되었습니다.\");\r\n      dispatch(resetLecture());\r\n      dispatch(fetchLectureCategory());\r\n      form.resetFields();\r\n    }\r\n  };\r\n\r\n  const validateMessages = {\r\n    required: \"필수 항목 입니다.\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"my-3\">\r\n      <Form onFinish={onSubmit} validateMessages={validateMessages} form={form}>\r\n        <div className=\"flex my-2 mb-5 px-5 justify-between items-start\">\r\n          <FormGuideComponent\r\n            title=\"센터명\"\r\n            className=\"border border-red-200\"\r\n          />\r\n          <Form.Item name=\"title\" rules={[{ required: true }]} className=\" m-0\">\r\n            <Input style={{ width: \"920px\" }} autoComplete=\"off\" />\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"flex my-2 px-5 justify-between items-start\">\r\n          <FormGuideComponent title=\"관리번호\" />\r\n          <Form.Item\r\n            name=\"password\"\r\n            rules={[{ required: true }]}\r\n            className=\" m-0\"\r\n          >\r\n            <Input style={{ width: \"920px\" }} name=\"password\" />\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"w-24 relative -right-2/4\">\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"mt-2\">\r\n              등록\r\n            </Button>\r\n          </Form.Item>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CenterAddForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { CategoryType } from \"../../../../types/Lecture\";\r\nimport {\r\n  fetchLectureCategory,\r\n  fetchLectureList,\r\n  resetLecture,\r\n  selectLectureSlice,\r\n  setSelectedCategory,\r\n} from \"../../../../slice/LectureSlice\";\r\nimport { deleteType, updateType } from \"../../../../api/Lecture.api\";\r\n\r\n// css\r\nimport classNames from \"classnames\";\r\nimport { Table, Popconfirm, message, Input, Tooltip } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport {\r\n  DeleteOutlined,\r\n  QuestionCircleOutlined,\r\n  EditOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nconst CenterTable = ({ categoryList }: { categoryList: CategoryType }) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const [editingSeq, setEditingSeq] = useState(-1);\r\n  const [editingTitle, setEditingTitle] = useState(\"\");\r\n  const [editingPwd, setEditingPwd] = useState(\"\");\r\n\r\n  const { selectedCategory } = useSelector(selectLectureSlice);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const editingHandler = (e: {\r\n    target: {\r\n      value: React.SetStateAction<string>;\r\n      name: React.SetStateAction<string>;\r\n    };\r\n  }) => {\r\n    const { name, value } = e.target;\r\n    if (name === \"center\") setEditingTitle(value);\r\n    else if (name === \"pwd\") setEditingPwd(value);\r\n  };\r\n\r\n  const cancelBtnHandler = () => setEditing(false);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: \"NO\",\r\n      dataIndex: \"no\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      render: (something, record, idx) => {\r\n        return <div>{idx + 1}</div>;\r\n      },\r\n    },\r\n    {\r\n      title: \"센터명\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      align: \"center\",\r\n      render: (text: any, record) => {\r\n        if (editing && record.seq === editingSeq) {\r\n          return (\r\n            <div>\r\n              <Tooltip title=\"센터명\" placement=\"topLeft\">\r\n                <Input\r\n                  value={editingTitle}\r\n                  onChange={editingHandler}\r\n                  style={{ width: \"300px\" }}\r\n                  size=\"small\"\r\n                  className=\"mr-3\"\r\n                  name=\"center\"\r\n                />\r\n              </Tooltip>\r\n              <Tooltip title=\"관리번호\" placement=\"topLeft\">\r\n                <Input.Password\r\n                  value={editingPwd}\r\n                  onChange={editingHandler}\r\n                  style={{ width: \"300px\" }}\r\n                  size=\"small\"\r\n                  name=\"pwd\"\r\n                  visibilityToggle={false}\r\n                />\r\n              </Tooltip>\r\n            </div>\r\n          );\r\n        } else {\r\n          const isClicked = record.seq === selectedCategory.seq;\r\n          return (\r\n            <div\r\n              className={classNames(\r\n                \"hover:text-blue-600\",\r\n                `${isClicked && \"font-bold\"}`\r\n              )}\r\n              onClick={() => {\r\n                dispatch(fetchLectureList(record.seq));\r\n                dispatch(setSelectedCategory(record));\r\n              }}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              {text}\r\n            </div>\r\n          );\r\n        }\r\n      },\r\n    },\r\n\r\n    {\r\n      title: \"수정\",\r\n      dataIndex: \"edit\",\r\n      key: \"edit\",\r\n      width: \"10%\",\r\n\r\n      align: \"center\",\r\n      render: (\r\n        something: any,\r\n        record: { seq: number; title: string; password: string }\r\n      ) => {\r\n        if (editing && record.seq === editingSeq) {\r\n          return (\r\n            <div>\r\n              <button\r\n                onClick={async (e) => {\r\n                  e.preventDefault();\r\n                  const title = editingTitle.trim();\r\n                  const password = editingPwd;\r\n                  if (title === \"\" || editingPwd === \"\") {\r\n                    message.warning(\"센터명과 비밀번호를 확인해주세요.\");\r\n                    return;\r\n                  }\r\n                  const response = await updateType({\r\n                    seq: editingSeq,\r\n                    title,\r\n                    password,\r\n                  });\r\n\r\n                  if (response.status === 200) {\r\n                    setEditing(false);\r\n                    message.success(\"수정이 완료되었습니다.\");\r\n                    dispatch(fetchLectureCategory());\r\n                    dispatch(resetLecture());\r\n                  }\r\n                }}\r\n                className=\"mr-2 hover:text-blue-600\"\r\n              >\r\n                저장\r\n              </button>\r\n              <button\r\n                className=\" hover:text-blue-600\"\r\n                onClick={cancelBtnHandler}\r\n              >\r\n                취소\r\n              </button>\r\n            </div>\r\n          );\r\n        }\r\n        return (\r\n          <Popconfirm\r\n            title=\"수정하시겠습니까?\"\r\n            onConfirm={async () => {\r\n              setEditing(true);\r\n              setEditingSeq(record.seq);\r\n              setEditingTitle(record.title);\r\n              setEditingPwd(record.password);\r\n            }}\r\n          >\r\n            <EditOutlined\r\n              style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"삭제\",\r\n      dataIndex: \"delete\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n\r\n      render: (something: any, record: { seq: number }) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n            onConfirm={async (e) => {\r\n              e?.preventDefault();\r\n\r\n              const parsedPwd = prompt(\"센터 관리번호를 입력해주세요.\");\r\n              if (parsedPwd) {\r\n                const response = await deleteType(record.seq, parsedPwd);\r\n\r\n                if (response.data.status_code === 200) {\r\n                  message.success(`삭제되었습니다.`);\r\n                  dispatch(fetchLectureCategory());\r\n                  dispatch(resetLecture());\r\n                } else if (response.data.status_code === 4001) {\r\n                  message.error(\"센터 관리번호를 확인해주세요.\");\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Table bordered dataSource={categoryList} columns={columns} size=\"small\" />\r\n  );\r\n};\r\n\r\nexport default CenterTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectLectureSlice } from \"../../../../slice/LectureSlice\";\r\n\r\nimport CenterAddForm from \"./CenterAddForm\";\r\nimport CenterTable from \"./CenterTable\";\r\n\r\nimport { Collapse } from \"antd\";\r\nimport Text from \"antd/lib/typography/Text\";\r\n\r\nconst CenterForLecture = () => {\r\n  const { categoryList } = useSelector(selectLectureSlice);\r\n  //todo categorylist 없어서 에러뜨는거 0913\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"my-3 mb-5\">\r\n        <Collapse bordered={false}>\r\n          <Collapse.Panel\r\n            header={\r\n              <Text\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\" relative top-0.5\"\r\n              >{`센터 등록 `}</Text>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            <CenterAddForm />\r\n          </Collapse.Panel>\r\n        </Collapse>\r\n      </div>\r\n\r\n      <CenterTable\r\n        categoryList={categoryList.length >= 1 ? categoryList : []}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CenterForLecture;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { Table, Popconfirm, message, Modal } from \"antd\";\r\nimport { DeleteOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\r\nimport { deleteLecture } from \"../../../api/Lecture.api\";\r\nimport { LectureListType } from \"../../../types/Lecture\";\r\nimport { fetchLectureDetail } from \"../../../slice/LectureSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\n\r\nconst LectureTable = ({\r\n  lectureList,\r\n  pickedType,\r\n  setIsVisible,\r\n  page,\r\n  setPage,\r\n}: {\r\n  lectureList?: LectureListType;\r\n  pickedType: number;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  page: number;\r\n  setPage: React.Dispatch<React.SetStateAction<number>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const DEFAULT_PAGESIZE = 20;\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: \"NO\",\r\n      dataIndex: \"no\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      render: (something: any, record: { seq: number }, idx: any) => {\r\n        const unit = page - 1;\r\n        const no = page === 1 ? idx : unit * DEFAULT_PAGESIZE + idx;\r\n        return <div>{no + 1}</div>;\r\n      },\r\n    },\r\n    {\r\n      title: \"프로그램명\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      align: \"center\",\r\n      render: (text: any) => <div className=\"hover:text-blue-600\">{text}</div>,\r\n    },\r\n    // {\r\n    //   title: \"강사명\",\r\n    //   dataIndex: \"instructor\",\r\n    //   key: \"instructor\",\r\n    //   width: \"20%\",\r\n    //   align: \"center\",\r\n    // },\r\n    // {\r\n    //   title: \"삭제\",\r\n    //   dataIndex: \"delete\",\r\n    //   render: (something: any, record: { seq: number }) => {\r\n    //     return (\r\n    //       <Popconfirm\r\n    //         title=\"삭제하시겠습니까?\"\r\n    //         icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n    //         onConfirm={async () => {\r\n    //           const response = await deleteLecture(pickedType, record.seq);\r\n    //           //삭제, 수정은 엑셀 파일 내에서 하기로함\r\n    //           if (response.data.status_code === 200) {\r\n    //             message.success(`삭제되었습니다.`);\r\n\r\n    //             // dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n    //             // console.log(response.data.response_body);\r\n    //           }\r\n    //         }}\r\n    //         onCancel={() => {\r\n    //           return;\r\n    //         }}\r\n    //         okText=\"예\"\r\n    //         cancelText=\"아니오\"\r\n    //       >\r\n    //         <DeleteOutlined\r\n    //           style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n    //           onClick={(e) => {\r\n    //             e.preventDefault();\r\n    //           }}\r\n    //         />\r\n    //       </Popconfirm>\r\n    //     );\r\n    //   },\r\n    // },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center text-center\">\r\n      <Table\r\n        style={{\r\n          width: \"100%\",\r\n        }}\r\n        size=\"small\"\r\n        bordered\r\n        dataSource={lectureList}\r\n        columns={columns}\r\n        onRow={(record: any, rowIndex) => {\r\n          return {\r\n            onClick: (event) => {\r\n              dispatch(\r\n                fetchLectureDetail({\r\n                  type_seq: pickedType,\r\n                  lecture_seq: record.seq,\r\n                })\r\n              );\r\n\r\n              setIsVisible(true);\r\n            },\r\n          };\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: DEFAULT_PAGESIZE,\r\n          current: page,\r\n          onChange: (page) => {\r\n            console.log(\"page changed\");\r\n            setPage(page);\r\n          },\r\n          showSizeChanger: false,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureTable;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst DetailHeader = styled.span`\r\n  font-weight: bold;\r\n`;\r\n\r\nconst LectureModalText = ({\r\n  field,\r\n  content,\r\n}: {\r\n  field: string;\r\n  content: number | string;\r\n}) => {\r\n  return (\r\n    <li>\r\n      <DetailHeader>{field}</DetailHeader> : <span>{content}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default LectureModalText;\r\n","import React from \"react\";\r\nimport { Modal, Button } from \"antd\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  resetLectureDetail,\r\n  selectLectureSlice,\r\n} from \"../../../slice/LectureSlice\";\r\nimport LectureModalText from \"./LectureModalText\";\r\nimport { LectureDetailType } from \"../../../types/Lecture\";\r\n\r\nconst LectureModalDetail = ({\r\n  visible,\r\n  setIsVisible,\r\n}: {\r\n  visible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const { lectureDetail } = useSelector(selectLectureSlice);\r\n\r\n  const handleDetailModal = () => {\r\n    setIsVisible(false);\r\n    dispatch(resetLectureDetail());\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      title=\"강좌 상세정보\"\r\n      onOk={handleDetailModal}\r\n      onCancel={handleDetailModal}\r\n      footer={[\r\n        <Button key=\"submit\" type=\"primary\" onClick={handleDetailModal}>\r\n          확인\r\n        </Button>,\r\n      ]}\r\n      width={600}\r\n    >\r\n      <ul className=\"flex-col items-center list-disc mx-5\">\r\n        {/* {Object.keys(lectureDetail).map(\r\n          (key: keyof LectureDetailType) =>\r\n            lectureDetail[key] && (\r\n              <LectureModalText field={key} content={lectureDetail[key]} />\r\n            )\r\n        )} */}\r\n        {lectureDetail.title && (\r\n          <LectureModalText\r\n            field={\"프로그램명\"}\r\n            content={lectureDetail.title}\r\n          />\r\n        )}\r\n        {lectureDetail.instructor && (\r\n          <LectureModalText\r\n            field={\"강사명\"}\r\n            content={lectureDetail.instructor}\r\n          />\r\n        )}\r\n        {lectureDetail.desc && (\r\n          <LectureModalText field={\"강좌소개\"} content={lectureDetail.desc} />\r\n        )}\r\n        {lectureDetail.roomNo && (\r\n          <LectureModalText field={\"강의실\"} content={lectureDetail.roomNo} />\r\n        )}\r\n        {lectureDetail.recruitmentCount && (\r\n          <LectureModalText\r\n            field={\"모집인원\"}\r\n            content={lectureDetail.recruitmentCount}\r\n          />\r\n        )}\r\n        {lectureDetail.weekDay && (\r\n          <LectureModalText field={\"요일\"} content={lectureDetail.weekDay} />\r\n        )}\r\n        {lectureDetail.method && (\r\n          <LectureModalText field={\"수업방법\"} content={lectureDetail.method} />\r\n        )}\r\n        {lectureDetail.materialCosts && (\r\n          <LectureModalText\r\n            field={\"비고\"}\r\n            content={lectureDetail.materialCosts}\r\n          />\r\n        )}\r\n      </ul>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LectureModalDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, message, Upload, Progress } from \"antd\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchLectureList,\r\n  fetchLectureCategory,\r\n  selectLectureSlice,\r\n} from \"../../../slice/LectureSlice\";\r\nimport { postLectureExcel } from \"../../../api/Lecture.api\";\r\n\r\nconst LectureExcelAddForm = ({ selected }: { selected: boolean }) => {\r\n  const [centerObj, setCenterObj] = useState({ title: \"\", password: \"\" });\r\n  const [progress, setProgress] = useState(0);\r\n  const [defaultFileList, setDefaultFileList] = useState([]);\r\n  const [showFile, setShowFile] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { selectedCategory } = useSelector(selectLectureSlice);\r\n\r\n  useEffect(() => {\r\n    setShowFile(false);\r\n  }, [selectedCategory]);\r\n\r\n  const beforeUpload = (file: any) => {\r\n    const isExcel =\r\n      file.type ===\r\n      (\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" ||\r\n        \"application/haansoftxlsx\");\r\n\r\n    if (!isExcel) {\r\n      message.error(\r\n        `${file.name} 업로드에 실패했습니다. 엑셀 파일만 업로드 가능합니다.`\r\n      );\r\n      return isExcel;\r\n    }\r\n\r\n    const parsedPwd = prompt(\"센터 관리번호를 입력해주세요.\");\r\n\r\n    if (parsedPwd !== selectedCategory.password) {\r\n      message.error(`관리번호가 일치하지 않습니다.`);\r\n      return false;\r\n    }\r\n\r\n    setCenterObj({ title: selectedCategory.title, password: parsedPwd });\r\n  };\r\n\r\n  const customRequest = async (options: any) => {\r\n    const { onSuccess, onError, file, onProgress } = options;\r\n\r\n    const data = new FormData();\r\n    const config = {\r\n      onUploadProgress: (event: any) => {\r\n        const percent = Math.floor((event.loaded / event.total) * 100);\r\n        setProgress(percent);\r\n        if (percent === 100) {\r\n          setTimeout(() => setProgress(0), 1000);\r\n        }\r\n        onProgress({ percent: (event.loaded / event.total) * 100 });\r\n      },\r\n    };\r\n\r\n    const json = JSON.stringify(centerObj);\r\n    const centerBlob = new Blob([json], { type: \"application/json\" });\r\n\r\n    data.append(\"file\", options.file);\r\n    data.append(\"center\", centerBlob);\r\n\r\n    const response = await postLectureExcel(data, config);\r\n    if (response) {\r\n      if (response.response_body === \"SUCCESS\") {\r\n        onSuccess(file);\r\n        message.success(\"파일 업로드가 정상적으로 이루어졌습니다.\");\r\n        dispatch(fetchLectureList(selectedCategory.seq));\r\n      }\r\n    } else {\r\n      message.error(\"파일 업로드에 실패했습니다.\");\r\n      setShowFile(true);\r\n      onError(file);\r\n    }\r\n    console.log(options);\r\n  };\r\n\r\n  const onChangeHandler = (info: any) => {\r\n    console.log(info);\r\n    const { fileList } = info;\r\n    setDefaultFileList(fileList);\r\n  };\r\n\r\n  return (\r\n    <div className=\"my-2\">\r\n      <Upload\r\n        name=\"file\"\r\n        maxCount={1}\r\n        accept={\".xlsx, .xls\"}\r\n        showUploadList={showFile}\r\n        beforeUpload={beforeUpload}\r\n        customRequest={customRequest}\r\n        onChange={onChangeHandler}\r\n        defaultFileList={defaultFileList}\r\n      >\r\n        <Button\r\n          type=\"primary\"\r\n          className=\"text-white flex items-center mb-3\"\r\n          icon={<UploadOutlined />}\r\n          disabled={!selected}\r\n        >\r\n          <div className=\"mx-3\">엑셀 등록</div>\r\n        </Button>\r\n      </Upload>\r\n      {progress > 0 ? <Progress percent={progress} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureExcelAddForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectLectureSlice } from \"../../../slice/LectureSlice\";\r\nimport { Divider } from \"antd\";\r\n\r\nimport Text from \"antd/lib/typography/Text\";\r\nimport MenuGuide from \"../../MenuGuide\";\r\nimport LectureTable from \"./LectureTable\";\r\nimport LectureDetailModal from \"./LectureModalDetail\";\r\nimport LectureExcelAddForm from \"./LectureExcelAddForm\";\r\n\r\nconst LectureList = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  const { lectureList, selectedCategory } = useSelector(selectLectureSlice);\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [lectureList]);\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <Divider>\r\n        <Text style={{ fontWeight: \"bold\", fontFamily: \"NanumGothic\" }}>{`${\r\n          selectedCategory.title || \"강좌정보\"\r\n        }`}</Text>\r\n      </Divider>\r\n\r\n      {/* <MenuGuide title={`${selectedCategory.title}`} /> */}\r\n\r\n      <LectureExcelAddForm selected={Boolean(selectedCategory.title)} />\r\n      <LectureDetailModal visible={isVisible} setIsVisible={setIsVisible} />\r\n      <LectureTable\r\n        lectureList={lectureList}\r\n        setIsVisible={setIsVisible}\r\n        page={page}\r\n        setPage={setPage}\r\n        pickedType={selectedCategory.seq}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureList;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { fetchLectureCategory } from \"../../../slice/LectureSlice\";\r\n\r\nimport MenuGuide from \"../../MenuGuide\";\r\nimport CenterForLecture from \"./center/CenterForLecture\";\r\nimport LectureList from \"./LectureList\";\r\n\r\nconst Lecture = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchLectureCategory());\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title=\"화면 관리 ▶ 강좌안내\"\r\n        subTitle=\"센터별 강좌 등록 및 조회가 가능합니다.\"\r\n      />\r\n\r\n      <CenterForLecture />\r\n      <LectureList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lecture;\r\n","import { Tabs } from \"antd\";\r\nimport React from \"react\";\r\nimport { useHistory, useRouteMatch } from \"react-router\";\r\nimport { MatchParams } from \"../types/Common\";\r\nimport Banner from \"./banner/Banner\";\r\nimport Recommand from \"./banner/Recommand\";\r\nimport SimpleDcs from \"./banner/SimpleDcs\";\r\nimport ManagementCaption from \"./caption/ManagementCaption\";\r\nimport ManagementDcs from \"./dcs/ManagementDcs\";\r\nimport Lecture from \"./is-system/lecture/Lecture\";\r\nimport LgsTableContainer from \"./lgs/LgsTableContainer\";\r\nimport ManagementLss from \"./lss/ManagementLss\";\r\nimport ManagementPoll from \"./poll/ManagementPoll\";\r\n\r\nconst ManagementScreen = (props: any) => {\r\n  const { TabPane } = Tabs;\r\n  const history = useHistory();\r\n  const match = useRouteMatch<MatchParams>();\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem(\"currentPage\", \"1\");\r\n    history.push(`/screen/${key}`);\r\n  }\r\n\r\n  return (\r\n    <Tabs\r\n      onChange={callback}\r\n      destroyInactiveTabPane\r\n      type=\"card\"\r\n      activeKey={match.params.key}\r\n    >\r\n      {/* <TabPane tab=\"DCS\" key=\"dcs\">\r\n        <ManagementDcs />\r\n      </TabPane> */}\r\n      <TabPane tab=\"행사안내(배너)\" key=\"banner\">\r\n        <Banner />\r\n      </TabPane>\r\n\r\n      {/* <TabPane tab=\"행사안내(영상배너)\" key=\"moviebanner\">\r\n        <SimpleDcs />\r\n      </TabPane> */}\r\n      <TabPane tab=\"사서추천\" key=\"recommand\">\r\n        <Recommand />\r\n      </TabPane>\r\n      {/* <TabPane tab=\"LSS\" key=\"lss\">\r\n        <ManagementLss />\r\n      </TabPane> */}\r\n      {/* \r\n      <TabPane tab=\"설문 관리\" key=\"poll\">\r\n        <ManagementPoll />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"포스터 관리\" key=\"5\">\r\n        <ManagementPoster history={props.history} />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"LGS\" key=\"lgs\">\r\n        <LgsTableContainer />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"자막 관리\" key=\"caption\">\r\n        <ManagementCaption />\r\n      </TabPane> */}\r\n      <TabPane tab=\"강좌안내\" key=\"lecture\">\r\n        <Lecture />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementScreen;\r\n","import { Button, Form, Input } from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst ManagementUser = (props) => {\r\n  const onFinish = (values) => {\r\n    axios\r\n      .post(`/user/regist`, values)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        onFinish={onFinish}\r\n        style={{\r\n          width: '500px',\r\n          margin: 'auto',\r\n          marginTop: '150px',\r\n        }}\r\n      >\r\n        <Form.Item\r\n          label='ID'\r\n          name='adminID'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              whitespace: true,\r\n              message: '사용자 ID를 입력해주세요',\r\n            },\r\n          ]}\r\n        >\r\n          <Input autoFocus />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='PW'\r\n          name='password'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              whitespace: true,\r\n              message: '사용자 password를 입력해주세요',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type='primary' htmlType='submit' block>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementUser;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Input, Col, Row, Select, Radio, Checkbox } from 'antd';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport DragHandleIcon from '@material-ui/icons/DragHandle';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Droppable, Draggable, DragDropContext } from 'react-beautiful-dnd';\r\nimport uuid from 'react-uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst ManagementPollContentCard = (props) => {\r\n  const { Option } = Select;\r\n  const { onChangeQuestion, onChangeItemType, onDeleteItem } = props;\r\n  const questionId = props.id;\r\n  const [type, setType] = useState(props.type ? props.type : 'single');\r\n  const [questionTitle, setQuestionTitle] = useState(\r\n    props.questionTitle ? props.questionTitle : ''\r\n  );\r\n  const [items, setItems] = useState(props.items ? props.items : []);\r\n  const dragHandleProps = props.dragHandleProps;\r\n  const [mode, setMode] = useState(\r\n    props.mode === 'regist' ? 'regist' : 'modify'\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (mode === 'regist') {\r\n      addQuestions();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    onChangeQuestion(questionId, questionTitle, items);\r\n  }, [questionTitle, items]);\r\n\r\n  const closeIconStyle = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    marginLeft: '5px',\r\n  };\r\n\r\n  const onDeleteQuestion = (questionId) => {\r\n    var copiedQuestions = Array.from(items);\r\n    var targetIdx = 0;\r\n    copiedQuestions.forEach((question, idx) => {\r\n      if (question.item_id === questionId) {\r\n        targetIdx = idx;\r\n      }\r\n    });\r\n    copiedQuestions.splice(targetIdx, 1);\r\n    setItems(copiedQuestions);\r\n  };\r\n  const grid = 2;\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  // 보기 추가하기 버튼 - start\r\n  const StyledAddElementButton = styled.span`\r\n    color: #3498db;\r\n    cursor: pointer;\r\n    font-family: NotoSansKR-Bold;\r\n    &:hover {\r\n      color: #2980b9;\r\n    }\r\n    margin-top: 5px;\r\n    display: ${type !== 'narrative' ? 'block' : 'none'};\r\n  `;\r\n  const AddElementButton = (addProps) => {\r\n    return (\r\n      <div style={{ margin: '5px', width: '100%' }}>\r\n        <StyledAddElementButton onClick={addQuestions}>\r\n          보기 추가하기\r\n        </StyledAddElementButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // 보기 추가 함수\r\n  const addQuestions = () => {\r\n    var copiedQuestions = Array.from(items);\r\n    var uid = uuid();\r\n    copiedQuestions.push({\r\n      question_id: questionId,\r\n      item_id: uid,\r\n      content: '',\r\n      seq: items.length,\r\n    });\r\n    setItems(copiedQuestions);\r\n  };\r\n  // 보기 추가하기 버튼 - end\r\n\r\n  const onDelete = (id, e) => {\r\n    onDeleteItem(id);\r\n  };\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const fixedItems = reorder(\r\n      items,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n\r\n    setItems(fixedItems);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n        padding: '5px',\r\n      }}\r\n    >\r\n      <div {...dragHandleProps} style={{ textAlign: 'center' }}>\r\n        <DragHandleIcon style={{ fontSize: '30' }} />\r\n      </div>\r\n      <Row>\r\n        <Col span={20} style={{ padding: '5px' }}>\r\n          <Input\r\n            placeholder='질문'\r\n            style={{\r\n              backgroundColor: '#f1f3f4',\r\n              border: '0',\r\n            }}\r\n            value={questionTitle}\r\n            onChange={(e) => {\r\n              setQuestionTitle(e.target.value);\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col span={4} style={{ padding: '5px' }}>\r\n          <Select\r\n            style={{ width: '100%' }}\r\n            defaultValue={type}\r\n            onChange={(value) => {\r\n              setType(value);\r\n              onChangeItemType(questionId, value);\r\n            }}\r\n          >\r\n            <Option value='single'>\r\n              <RadioButtonCheckedIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                단일선택\r\n              </span>\r\n            </Option>\r\n            <Option value='multi'>\r\n              <CheckCircleOutlineIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                다중선택\r\n              </span>\r\n            </Option>\r\n            <Option value='narrative'>\r\n              <QuestionAnswerIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                주관식\r\n              </span>\r\n            </Option>\r\n          </Select>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24} style={{ padding: '5px' }}>\r\n          <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId={uuid()}>\r\n              {(provided, snapshot) => {\r\n                return (\r\n                  <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                    {/* 타입을 분별하기 위한 삼항연산자 - start */}\r\n                    {type !== 'narrative' ? (\r\n                      items.map((item, index) => {\r\n                        return (\r\n                          <Draggable\r\n                            key={item.item_id}\r\n                            draggableId={item.item_id}\r\n                            index={index}\r\n                          >\r\n                            {(provided, snapshot) => (\r\n                              <div\r\n                                ref={provided.innerRef}\r\n                                {...provided.draggableProps}\r\n                                style={getItemStyle(\r\n                                  snapshot.isDragging,\r\n                                  provided.draggableProps.style\r\n                                )}\r\n                              >\r\n                                <span {...provided.dragHandleProps}>\r\n                                  <DragIndicatorIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                </span>\r\n                                {/* 아이콘 변경을 위한삼항연산자 - start */}\r\n                                {type === 'single' ? (\r\n                                  <RadioButtonUncheckedIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                ) : (\r\n                                  <CheckBoxOutlineBlankIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                )}\r\n                                {/* 아이콘 변경을 위한 삼항연산자 - end */}\r\n                                <Input\r\n                                  key={item.item_id}\r\n                                  placeholder='보기'\r\n                                  style={{\r\n                                    border: '0',\r\n                                    marginLeft: '10px',\r\n                                    maxWidth: '90%',\r\n                                  }}\r\n                                  onChange={(e) => {\r\n                                    e.preventDefault();\r\n                                    var copiedQuestions = Array.from(items);\r\n                                    var targetIdx = 0;\r\n                                    for (\r\n                                      var i = 0;\r\n                                      i < copiedQuestions.length;\r\n                                      i++\r\n                                    ) {\r\n                                      if (\r\n                                        copiedQuestions[i].item_id ===\r\n                                        item.item_id\r\n                                      ) {\r\n                                        targetIdx = i;\r\n                                        break;\r\n                                      }\r\n                                    }\r\n                                    copiedQuestions[targetIdx].content =\r\n                                      e.target.value;\r\n                                    setItems(copiedQuestions);\r\n                                  }}\r\n                                  value={item.content}\r\n                                />\r\n                                <CloseIcon\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    onDeleteQuestion(item.item_id);\r\n                                  }}\r\n                                  style={closeIconStyle}\r\n                                />\r\n                              </div>\r\n                            )}\r\n                          </Draggable>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div\r\n                        style={{\r\n                          border: '0',\r\n                          borderBottom: '1px dotted #dfe6e9',\r\n                          width: '90%',\r\n                          color: '#7f8c8d',\r\n                          margin: '10px',\r\n                        }}\r\n                      >\r\n                        <span style={{ color: '#dfe6e9' }}>주관식 입력</span>\r\n                      </div>\r\n                    )}\r\n                    {/* 타입을 분별하기 위한 삼항연산자 - end */}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                );\r\n              }}\r\n            </Droppable>\r\n          </DragDropContext>\r\n          <AddElementButton />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24} style={{ textAlign: 'right' }}>\r\n          <DeleteOutlineIcon\r\n            style={{ fontSize: '2.5em', cursor: 'pointer' }}\r\n            onClick={(e) => {\r\n              onDelete(questionId, e);\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollContentCard;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport { Input, Switch } from 'antd';\r\n\r\nconst ManagementPollTitleCard = (props) => {\r\n  const { pollTitle, setPollTitle } = props;\r\n  const { pollDesc, setPollDesc } = props;\r\n  const { useYn, setUseYn } = props;\r\n\r\n  const UnderLineInput = styled.input`\r\n    width: 100%;\r\n    height: 40px;\r\n    font-size: 1.3em;\r\n    color: #2c3e50;\r\n    font-family: NotoSansKR-Bold;\r\n    outline: none;\r\n    border: 0px;\r\n    border-bottom: 1px dash rgba(255, 0, 0, 1);\r\n    &:focus {\r\n      animation-duration: 0.5s;\r\n      animation-name: move;\r\n      animation-fill-mode: both;\r\n      @keyframes move {\r\n        from {\r\n          border-bottom: 1px dotted rgba(255, 0, 0, 0);\r\n        }\r\n\r\n        to {\r\n          border-bottom: 2px solid rgba(255, 0, 0, 1);\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderTop: '0px',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: '#576574',\r\n          borderTopRightRadius: '8px',\r\n          borderTopLeftRadius: '8px',\r\n          width: '100%',\r\n          height: '15px',\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          padding: '10px 30px 20px 30px',\r\n        }}\r\n      >\r\n        {/* <UnderLineInput placeholder='제목' /> */}\r\n        <div style={{ display: 'flex' }}>\r\n          <Input\r\n            placeholder='제목'\r\n            style={{\r\n              border: '0',\r\n              resize: 'none',\r\n              fontSize: '1.3em',\r\n              color: '#2c3e50',\r\n              fontFamily: 'NotoSansKR-Bold',\r\n            }}\r\n            value={pollTitle}\r\n            onChange={(e) => setPollTitle(e.target.value)}\r\n          />\r\n          <div\r\n            style={{\r\n              width: '150px',\r\n              display: 'flex',\r\n              justifyContent: 'space-evenly',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <div style={{ fontFamily: 'NanumGothic' }}>사용여부 : </div>\r\n            <div>\r\n              <Switch\r\n                checked={useYn === 'Y'}\r\n                onChange={(e) => {\r\n                  setUseYn(e ? 'Y' : 'N');\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <TextArea\r\n          autoSize={true}\r\n          placeholder='설명'\r\n          style={{\r\n            marginTop: '10px',\r\n            border: '0',\r\n            resize: 'none',\r\n          }}\r\n          value={pollDesc}\r\n          onChange={(e) => setPollDesc(e.target.value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollTitleCard;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Affix, Button, message } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Prompt } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport * as Constants from '../Constants';\r\nimport ManagementPollContentCard from './ManagementPollContentCard';\r\nimport './ManagementPollForm.css';\r\nimport ManagementPollTitleCard from './ManagementPollTitleCard';\r\nimport MenuGuide from '../MenuGuide';\r\n\r\nconst ManagementPollForm = (props) => {\r\n  const [items, setItems] = useState([]); //questions으로 변수명 변경해야되는데...\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : 'regist'\r\n  );\r\n\r\n  const [masterId, setMasterId] = useState(\r\n    props.location.record ? props.location.record.master_id : uuid()\r\n  );\r\n  const [pollTitle, setPollTitle] = useState(\r\n    mode === 'modify' ? props.location.record.title : ''\r\n  );\r\n  const [pollDesc, setPollDesc] = useState(\r\n    mode === 'modify' ? props.location.record.description : ''\r\n  );\r\n\r\n  const [useYn, setUseYn] = useState(\r\n    props.location.record && props.location.record.useYN\r\n  );\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post('/poll/useYn', {\r\n        master_id: masterId,\r\n        useYn: useYn,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, [useYn]);\r\n\r\n  useEffect(() => {\r\n    enablePrevent();\r\n    document.body.className = 'form-body';\r\n\r\n    if (mode === 'regist') {\r\n      setItems(createQuestion());\r\n    } else if (mode === 'modify') {\r\n      getPollDetail();\r\n    }\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const getPollDetail = () => {\r\n    axios\r\n      .get('/poll/detail', {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setItems(res.data.questions);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  // fake data generator\r\n  const createQuestion = () => {\r\n    var copiedItems = Array.from(items);\r\n    copiedItems.push({\r\n      question_id: uuid(),\r\n      type: 'single',\r\n      questionTitle: '',\r\n      items: [],\r\n    });\r\n    setItems(copiedItems);\r\n    return copiedItems;\r\n  };\r\n\r\n  const onChangeItemType = (id, type) => {\r\n    var copiedItems = Array.from(items);\r\n    copiedItems.forEach((item) => {\r\n      if (item.question_id == id) {\r\n        item.type = type;\r\n      }\r\n    });\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  const onChangeQuestion = (id, questionTitle, questions) => {\r\n    var copiedItems = Array.from(items);\r\n    var targetIdx = 0;\r\n    for (var i = 0; i < copiedItems.length; i++) {\r\n      if (copiedItems[i].question_id == id) {\r\n        targetIdx = i;\r\n        break;\r\n      }\r\n    }\r\n    copiedItems[targetIdx]['items'] = questions;\r\n    copiedItems[targetIdx]['questionTitle'] = questionTitle;\r\n    copiedItems[targetIdx]['seq'] = targetIdx;\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  const onDeleteItem = (id) => {\r\n    var copiedItems = Array.from(items);\r\n    var targetIdx = 0;\r\n    copiedItems.forEach((item, idx) => {\r\n      if (item.question_id == id) {\r\n        targetIdx = idx;\r\n      }\r\n    });\r\n    copiedItems.splice(targetIdx, 1);\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  // a little function to help us with reordering the result\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n  };\r\n\r\n  const grid = 2;\r\n\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  const getListStyle = (isDraggingOver) => ({\r\n    padding: grid,\r\n    width: '100%',\r\n  });\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(\r\n      items,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n\r\n    setItems(fixedItems);\r\n  };\r\n\r\n  const registPoll = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (pollTitle.trim().length === 0) {\r\n      setPollTitle('제목없음');\r\n    }\r\n    if (items.length === 0) {\r\n      message.error('작성된 설문이 없습니다.');\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post('/poll', {\r\n        master_id: masterId,\r\n        title: pollTitle,\r\n        description: pollDesc,\r\n        questions: items,\r\n        useYn: useYn ? useYn : 'Y',\r\n      })\r\n      .then((res) => {\r\n        setIsBack(false);\r\n        props.history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title={'화면 관리 ▶ 설문 조사 등록'}\r\n        subTitle={'설문 조사를 완성해주세요'}\r\n      />\r\n      <ManagementPollTitleCard\r\n        pollTitle={pollTitle}\r\n        setPollTitle={setPollTitle}\r\n        pollDesc={pollDesc}\r\n        setPollDesc={setPollDesc}\r\n        useYn={useYn}\r\n        setUseYn={setUseYn}\r\n      />\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={uuid()}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              {...provided.droppableProps}\r\n              ref={provided.innerRef}\r\n              style={getListStyle(snapshot.isDraggingOver)}\r\n            >\r\n              {items.map((item, index) => {\r\n                return (\r\n                  <Draggable\r\n                    key={item.question_id}\r\n                    draggableId={item.question_id}\r\n                    index={index}\r\n                  >\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        style={getItemStyle(\r\n                          snapshot.isDragging,\r\n                          provided.draggableProps.style\r\n                        )}\r\n                      >\r\n                        <ManagementPollContentCard\r\n                          id={item.question_id}\r\n                          type={item.type}\r\n                          items={item.items}\r\n                          questionTitle={item.question_title}\r\n                          onChangeItemType={onChangeItemType}\r\n                          onChangeQuestion={onChangeQuestion}\r\n                          onDeleteItem={onDeleteItem}\r\n                          dragHandleProps={{ ...provided.dragHandleProps }}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                );\r\n              })}\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      <div>\r\n        <Affix offsetBottom={60} style={{ float: 'left' }}>\r\n          <Button style={{ width: '87px' }} onClick={registPoll}>\r\n            저장\r\n          </Button>\r\n        </Affix>\r\n        <Affix offsetBottom={60} style={{ float: 'right' }}>\r\n          <Button onClick={createQuestion}>\r\n            <PlusCircleOutlined /> 설문 추가\r\n          </Button>\r\n        </Affix>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementPollForm;\r\n","import React, { useState, useEffect, PureComponent } from 'react';\r\nimport * as Constants from '../Constants';\r\nimport axios from 'axios';\r\nimport { Row, Col, Alert, Modal } from 'antd';\r\nimport { MoreOutlined } from '@ant-design/icons';\r\nimport {\r\n  PieChart,\r\n  Pie,\r\n  Sector,\r\n  Cell,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  BarChart,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Bar,\r\n} from 'recharts';\r\nimport { randomColor } from 'randomcolor';\r\n\r\nconst ResultTitleCard = (props) => {\r\n  const [record, setRecord] = useState(props.record);\r\n\r\n  useEffect(() => {\r\n    setRecord(props.record);\r\n  }, [props]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', marginTop: '20px' }}>\r\n      <div style={{ width: '70%', margin: 'auto' }}>\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            border: '1px solid #7f8c8d',\r\n            borderTop: '0px',\r\n            borderRadius: '8px',\r\n            minHeight: '120px',\r\n            backgroundColor: 'white',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: '#576574',\r\n              borderTopRightRadius: '8px',\r\n              borderTopLeftRadius: '8px',\r\n              width: '100%',\r\n              height: '15px',\r\n            }}\r\n          ></div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px 30px 20px 30px',\r\n            }}\r\n          >\r\n            <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>\r\n              {record ? record.title : ''}\r\n            </p>\r\n            <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>\r\n              총 응답자 : {record ? record.response_cnt : ''} 명\r\n            </pre>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// pie settings -- start\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index,\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? 'start' : 'end'}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {percent !== 0 ? `${(percent * 100).toFixed(0)}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n\r\n// pie settings -- end\r\n\r\nconst ResultContentCard = (props) => {\r\n  const [questionResults, setQuestionResults] = useState([]);\r\n  const [isNarrativeModal, setIsNarrativeModal] = useState(false);\r\n  const [questionResultsIdx, setQuestionResultsIdx] = useState();\r\n  const [narrativeResultList, setNarrativeResultList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    console.log(';------');\r\n    console.log(props.questionResults);\r\n    setQuestionResults(props.questionResults);\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    if (isNarrativeModal) {\r\n      console.log(questionResults);\r\n      setNarrativeResultList(\r\n        questionResults[questionResultsIdx]['questionResultMap']\r\n      );\r\n    }\r\n  }, [isNarrativeModal]);\r\n\r\n  const cardStyle = {\r\n    width: '70%',\r\n    margin: 'auto',\r\n    border: '1px solid #7f8c8d',\r\n    borderRadius: '8px',\r\n    minHeight: '120px',\r\n    padding: '20px',\r\n    marginTop: '10px',\r\n    backgroundColor: 'white',\r\n  };\r\n\r\n  const onClickNarrative = (e, item) => {\r\n    e.preventDefault();\r\n    console.log(item);\r\n    setQuestionResultsIdx(item);\r\n    setIsNarrativeModal(true);\r\n  };\r\n\r\n  const onCloseNarrativeModal = (e) => {\r\n    e.preventDefault();\r\n    setIsNarrativeModal(false);\r\n  };\r\n\r\n  const resultList = questionResultsIdx\r\n    ? questionResults[questionResultsIdx]['questionResultMap']\r\n    : [];\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={questionResults[questionResultsIdx]?.question_title}\r\n        centered\r\n        visible={isNarrativeModal}\r\n        onCancel={onCloseNarrativeModal}\r\n        footer={null}\r\n      >\r\n        {narrativeResultList.map((item, idx) => {\r\n          return (\r\n            <div key={item.user_id} style={{ padding: '5px' }}>\r\n              <Alert message={item.answer} type=\"info\" />\r\n            </div>\r\n          );\r\n        })}\r\n      </Modal>\r\n      {questionResults.map((item, questionResultsIdx) => {\r\n        const resultList = item.questionResultMap;\r\n        const dataList = [];\r\n        var totalCnt = 0;\r\n        if (item.type !== 'narrative') {\r\n          resultList.map((result, idx) => {\r\n            var data = {};\r\n            data.name = result.content;\r\n            data.formattingName = result.content.substring(0, 15) + '...';\r\n            data.value = result.answer_cnt;\r\n            totalCnt += result.answer_cnt;\r\n            dataList.push(data);\r\n          });\r\n        } else {\r\n          totalCnt = resultList.length;\r\n        }\r\n\r\n        if (item.type === 'single') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <Row>\r\n                <Col span={24}>\r\n                  <div>\r\n                    <pre>\r\n                      설문 {questionResultsIdx + 1} 번 : {item.question_title}{' '}\r\n                      (총 {totalCnt} 건)\r\n                    </pre>\r\n                  </div>\r\n                  <div style={{ width: '100%', height: 300 }}>\r\n                    <ResponsiveContainer>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={dataList}\r\n                          cx={150}\r\n                          cy={150}\r\n                          labelLine={false}\r\n                          label={renderCustomizedLabel}\r\n                          outerRadius={120}\r\n                          fill=\"#8884d8\"\r\n                          legendType=\"square\"\r\n                        >\r\n                          {dataList.map((entry, index) => {\r\n                            return (\r\n                              <Cell\r\n                                key={item.question_id}\r\n                                fill={randomColor({\r\n                                  luminosity: 'dark',\r\n                                })}\r\n                              />\r\n                            );\r\n                          })}\r\n                        </Pie>\r\n                        <Tooltip\r\n                          formatter={(value, name, props) => {\r\n                            return (\r\n                              <span style={{ color: 'blue' }}>{value}건</span>\r\n                            );\r\n                          }}\r\n                        />\r\n                        <Legend\r\n                          layout=\"vetical\"\r\n                          verticalAlign=\"middle\"\r\n                          align=\"right\"\r\n                          iconSize={20}\r\n                          iconType=\"circle\"\r\n                          width={400}\r\n                          formatter={(value = '', entry, index) => {\r\n                            if (value.length > 40) {\r\n                              return value.substring(0, 40) + '...';\r\n                            } else {\r\n                              return value;\r\n                            }\r\n                          }}\r\n                        />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          );\r\n        } else if (item.type === 'multi') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <div>\r\n                <pre>\r\n                  설문 {questionResultsIdx + 1} 번 : {item.question_title} (총{' '}\r\n                  {totalCnt} 건)\r\n                </pre>\r\n              </div>\r\n              <div style={{ width: '100%', height: 300 }}>\r\n                <ResponsiveContainer>\r\n                  <BarChart data={dataList}>\r\n                    <XAxis dataKey=\"name\" name=\"test\" hide={true} />\r\n                    <YAxis />\r\n                    <Tooltip\r\n                      formatter={(value, name, props) => {\r\n                        return <span style={{ color: 'blue' }}>{value}건</span>;\r\n                      }}\r\n                    />\r\n                    <Bar\r\n                      dataKey=\"value\"\r\n                      fill={randomColor({\r\n                        luminosity: 'dark',\r\n                      })}\r\n                    />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            </div>\r\n          );\r\n        } else if (item.type === 'narrative') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <div>\r\n                <pre>\r\n                  설문 {questionResultsIdx + 1} 번 : {item.question_title} (총{' '}\r\n                  {totalCnt} 건)\r\n                </pre>\r\n              </div>\r\n\r\n              {resultList.map((item, idx) => {\r\n                if (idx < 5) {\r\n                  return (\r\n                    <div key={item.user_id} style={{ padding: '5px' }}>\r\n                      <Alert message={item.answer} type=\"info\" />\r\n                    </div>\r\n                  );\r\n                } else if (idx === 6) {\r\n                  return (\r\n                    <div\r\n                      key={`key-${idx}`}\r\n                      style={{\r\n                        width: '100%',\r\n                        textAlign: 'center',\r\n                        cursor: 'pointer',\r\n                      }}\r\n                      onClick={(e) => {\r\n                        onClickNarrative(e, questionResultsIdx);\r\n                      }}\r\n                    >\r\n                      <MoreOutlined style={{ fontSize: '2em' }} />\r\n                    </div>\r\n                  );\r\n                } else {\r\n                  return;\r\n                }\r\n              })}\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst ManagementPollResult = (props) => {\r\n  const [record, setRecord] = useState();\r\n  const [masterId, setMasterId] = useState(props.match.params.master_id);\r\n  const [questionResults, setQuestionResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getQuestionResultTitle();\r\n    getQuestionResults();\r\n  }, []);\r\n\r\n  const getQuestionResultTitle = () => {\r\n    axios\r\n      .get(`/poll/index`, {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setRecord(res.data.pollIndex[0]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getQuestionResults = () => {\r\n    axios\r\n      .get(`/poll/result`, {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setQuestionResults(res.data.questionResults);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '100px' }}>\r\n      <ResultTitleCard record={record} />\r\n      <ResultContentCard questionResults={questionResults} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollResult;\r\n","import Axios from 'axios';\r\nimport { m } from 'framer-motion';\r\nimport moment from 'moment';\r\n\r\nexport const requestEventStatisticPerDayForChart = (\r\n  start_date = moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n  end_date = moment().format('YYYY-MM-DD')\r\n) =>\r\n  Axios.get(`/event/statistic/perPeriod`, {\r\n    params: {\r\n      start_date,\r\n      end_date,\r\n    },\r\n  });\r\n\r\nexport const requestEventStatisticPerEventForSheet = () =>\r\n  Axios.get(`/event/statistic/perEvent`);\r\n\r\nexport const requestEventStatisticPerAgedForSheet = () =>\r\n  Axios.get(`/event/statistic/perAged`);\r\n","import React from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\n\r\nconst StatisticEventAgedChart = ({ agedData = [] }) => {\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      <ResponsiveContainer>\r\n        <BarChart data={agedData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='연령대' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='신청자 수' fill='#2980b9' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventAgedChart;\r\n","import * as Constants from '../Constants';\r\nimport axios from 'axios';\r\n\r\nexport const requestEventJoinStatisticForPeriod = (period = 7) => {\r\n  console.log('execute getEventJoinStatisticForPeriod');\r\n  return axios.get(`/ay/static/getEventJoinStatisticForPeriod`, {\r\n    params: {\r\n      period: period,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestEventJoinDataSheetStatistic = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getEventJoinDataSheetStatistic`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestDlsAgeStatisticForChart = () => {\r\n  return axios.get(`/dls/statistic/getAgeStatistic`, {\r\n    params: {},\r\n  });\r\n};\r\n\r\nexport const requestDlsAgeStatisticForSheet = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/dls/statistic/getAgeStatisticForSheet`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticForPeriod = (period = 7) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticForPeriod`, {\r\n    params: {\r\n      date_diff: period,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticPerHours = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticPerHours`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\nexport const requestItemUseTimeAvg = () => {\r\n  return axios.get(`/ay/static/getItemUseTimeAvg`, {});\r\n};\r\n\r\nexport const requestItemLoaningCnt = (start_date = '', end_date = '') => {\r\n  return axios.get(`/ay/static/getItemLoaningCnt`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticPerDateDataSheetStatistic = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticPerDate`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeHistory = (start_date = '', end_date = '') => {\r\n  return axios.get(`/ay/static/getOfficeHistory`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestExportExcel = (\r\n  dataList = [],\r\n  title = 'ayang_statistic_data_sheet'\r\n) => {\r\n  return axios\r\n    .post(\r\n      `/ay/static/exportExcel`,\r\n      {\r\n        dataList: dataList,\r\n      },\r\n      {\r\n        responseType: 'arraybuffer',\r\n      }\r\n    )\r\n    .then((response) => {\r\n      console.log(response);\r\n      var blob = new Blob([response.data], {\r\n        type:\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      });\r\n      var blobURL = window.URL.createObjectURL(blob);\r\n      var tempLink = document.createElement('a');\r\n      tempLink.style.display = 'none';\r\n      tempLink.href = blobURL;\r\n      tempLink.setAttribute('download', `${title}.xlsx`);\r\n      document.body.appendChild(tempLink);\r\n      tempLink.click();\r\n      document.body.removeChild(tempLink);\r\n      window.URL.revokeObjectURL(blobURL);\r\n    });\r\n};\r\n","import { FileExcelOutlined } from '@ant-design/icons';\r\nimport { Button, Space, Table } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { requestExportExcel } from '../StatisticHttpService';\r\n\r\nconst StatisticEventPerEventDataSheet = ({ dataSource = [] }) => {\r\n  const history = useHistory();\r\n  const columns = [\r\n    {\r\n      title: '행사',\r\n      dataIndex: 'B행사',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        return (\r\n          <Button\r\n            type='link'\r\n            onClick={() => {\r\n              history.push(`/event/detail/${record['A행사일련번호']}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </Button>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '신청수',\r\n      dataIndex: 'C신청',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '취소수',\r\n      dataIndex: 'D취소',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '총 합계',\r\n      dataIndex: 'E합계',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Space direction='vertical' style={{ width: '100%' }}>\r\n      <div>\r\n        <Button\r\n          onClick={(e) => {\r\n            requestExportExcel(dataSource, '행사별 신청취소 데이터 시트');\r\n          }}\r\n        >\r\n          <FileExcelOutlined />\r\n          Excel 다운로드\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size='small'\r\n        bordered\r\n      />\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPerEventDataSheet;\r\n","import React from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\n\r\nconst StatisticEventPeriodChart = ({ periodData = [] }) => {\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      <ResponsiveContainer>\r\n        <BarChart data={periodData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='일자' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='신청' stackId='a' fill='#8884d8' />\r\n          <Bar dataKey='취소' stackId='a' fill='#82ca9d' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPeriodChart;\r\n","import { Divider } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport {\r\n  requestEventStatisticPerAgedForSheet,\r\n  requestEventStatisticPerDayForChart,\r\n  requestEventStatisticPerEventForSheet,\r\n} from './requestEventStatistic';\r\nimport StatisticEventAgedChart from './StatisticEventAgedChart';\r\nimport StatisticEventPerEventDataSheet from './StatisticEventPerEventDataSheet';\r\nimport StatisticEventPeriodChart from './StatisticEventPeriodChart';\r\n\r\nconst StatisticEventContainer = () => {\r\n  const [chartData, setChartData] = useState([]);\r\n  const [sheetData, setSheetData] = useState([]);\r\n  const [agedData, setAgedData] = useState([]);\r\n  useEffect(() => {\r\n    getChartData();\r\n    getSheetData();\r\n    getAgedData();\r\n  }, []);\r\n\r\n  const getChartData = async () => {\r\n    requestEventStatisticPerDayForChart()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setChartData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n\r\n  const getSheetData = async () => {\r\n    requestEventStatisticPerEventForSheet()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setSheetData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n\r\n  const getAgedData = async () => {\r\n    requestEventStatisticPerAgedForSheet()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setAgedData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div>\r\n        <FormGuideComponent\r\n          title='전체 행사 차트'\r\n          guide={<div>최근 14일 간 전체 행사 신청/취소 데이터</div>}\r\n        />\r\n        <StatisticEventPeriodChart periodData={chartData} />\r\n      </div>\r\n\r\n      <Divider />\r\n      <div>\r\n        <FormGuideComponent\r\n          title='연령대 별 신청 현황 차트'\r\n          guide={<div>행사 신청의 연령대</div>}\r\n        />\r\n        <StatisticEventAgedChart agedData={agedData} />\r\n      </div>\r\n      <Divider />\r\n      <div>\r\n        <FormGuideComponent\r\n          title='행사별 신청/취소 데이터 시트'\r\n          guide={\r\n            <>\r\n              <div>행사별 신청/취소 조회</div>\r\n            </>\r\n          }\r\n        />\r\n        <StatisticEventPerEventDataSheet dataSource={sheetData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventContainer;\r\n","import Axios from 'axios';\r\nimport moment from 'moment';\r\nimport api from './api';\r\n\r\nconst API = api.SmartSearch;\r\n\r\nexport const SITE = {\r\n  GES_DEV: 'GES_DEV',\r\n  LOCALHOST: 'LOCALHOST',\r\n  NONHYEON: 'NONHYEON',\r\n};\r\n\r\nexport const requestLogInfo = async (\r\n  start_date = moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n  end_date = moment().format('YYYY-MM-DD'),\r\n  code_name = ''\r\n) => {\r\n  try {\r\n    const result = await Axios.get(\r\n      `http://ec2-52-79-99-74.ap-northeast-2.compute.amazonaws.com:38080/log/`,\r\n      {\r\n        params: {\r\n          site: SITE.NONHYEON,\r\n          start_date,\r\n          end_date,\r\n          code_name,\r\n        },\r\n      }\r\n    );\r\n    return result;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return undefined;\r\n  }\r\n};\r\n","import { ResponseBodySmartSearch } from '../types/SmartSearch';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { requestSmartSearch } from '../api/SmartSearch';\r\nimport { ResponseVo } from '../types/Common';\r\nimport { message } from 'antd';\r\nimport moment from 'moment';\r\nimport { requestLogInfo } from '../api/TotalLog';\r\nexport const TOTAL_LOG = 'totalLog';\r\n\r\ntype SliceState = {\r\n  index: number;\r\n  chartData: [];\r\n  rawChartData: [];\r\n  start_date: string;\r\n  end_date: string;\r\n  title: string;\r\n};\r\ntype PayloadType = {\r\n  [TOTAL_LOG]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nexport const fetchRawTotalLog = createAsyncThunk(\r\n  `${TOTAL_LOG}/fetchTotalLog`,\r\n  async ({ start_date, end_date, code_name }: TotalLogType) => {\r\n    // 무언가를 함\r\n    const response = await requestLogInfo(start_date, end_date, code_name);\r\n\r\n    if (!!!response) return undefined;\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst totalLogSlice = createSlice({\r\n  name: `${TOTAL_LOG}`,\r\n  initialState: {\r\n    index: 0,\r\n    chartData: [],\r\n    rawChartData: [],\r\n    start_date: moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n    end_date: moment().format('YYYY-MM-DD'),\r\n    title: '',\r\n  } as SliceState,\r\n  reducers: {\r\n    setTitle: (\r\n      state,\r\n      action: PayloadAction<{\r\n        title: string;\r\n      }>\r\n    ) => {\r\n      state.title = action.payload.title;\r\n    },\r\n    setChartData: (\r\n      state,\r\n      action: PayloadAction<{\r\n        chartData: [];\r\n      }>\r\n    ) => {\r\n      state.chartData = action.payload.chartData;\r\n    },\r\n    setLogDate: (\r\n      state,\r\n      action: PayloadAction<{\r\n        start_date: string;\r\n        end_date: string;\r\n      }>\r\n    ) => {\r\n      state.start_date = action.payload.start_date;\r\n      state.end_date = action.payload.end_date;\r\n    },\r\n    // resetBooks: (state) => {\r\n    //   state.books = [];\r\n    // },\r\n  },\r\n  extraReducers: {\r\n    [fetchRawTotalLog.pending.type]: (state) => {\r\n      // state.isLoading = true;\r\n    },\r\n    [fetchRawTotalLog.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<any>>\r\n    ) => {\r\n      if (action.payload === undefined) {\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        // state.books = result.bookVoList;\r\n        console.log(action);\r\n        state.rawChartData = result;\r\n      } else {\r\n        // state.books = [];\r\n        state.rawChartData = [];\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setTitle, setChartData, setLogDate } = totalLogSlice.actions;\r\nexport default totalLogSlice.reducer;\r\nexport const selectTotalLog = (state: PayloadType) => state[TOTAL_LOG];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport moment, { now } from 'moment';\r\nimport { DatePicker } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\n// import ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { Bar, PieChart, Pie, Cell, Legend, BarChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\r\nimport { randomColor } from 'randomcolor';\r\nimport { Col, Row } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTotalLog, setLogDate } from '../../../slice/totalLogSlice';\r\nimport Button from 'antd/es/button';\r\nimport styled from 'styled-components';\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n      {percent !== 0 ? `${(percent * 100).toFixed(0)}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst cardStyle = {\r\n  width: '70%',\r\n  margin: 'auto',\r\n  border: '1px solid #7f8c8d',\r\n  borderRadius: '8px',\r\n  minHeight: '120px',\r\n  padding: '20px',\r\n  marginTop: '10px',\r\n  backgroundColor: 'white',\r\n};\r\nconst StatisticEventPieChart = ({ dataList = [], onClick, backClick }) => {\r\n  const { title, start_date, end_date } = useSelector(selectTotalLog);\r\n  const dispatch = useDispatch();\r\n  const { RangePicker } = DatePicker;\r\n\r\n  return (\r\n    <div style={cardStyle}>\r\n      <Row>\r\n        <Col span={24}>\r\n          <div>\r\n            <pre>DLS 시스템 사용 현황</pre>\r\n            <Text>기간 선택 : </Text>\r\n            <RangePicker\r\n              size=\"small\"\r\n              value={[moment(start_date), moment(end_date)]}\r\n              onChange={(values) => {\r\n                console.log(values);\r\n                if (values)\r\n                  dispatch(\r\n                    setLogDate({\r\n                      start_date: values[0].format('YYYY-MM-DD'),\r\n                      end_date: values[1].format('YYYY-MM-DD'),\r\n                    })\r\n                  );\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            {/* <Text>뒤로 가기 : </Text> */}\r\n            <Button\r\n              style={{\r\n                marginTop: '0.5rem',\r\n              }}\r\n              type=\"primary\"\r\n              onClick={backClick}\r\n              disabled={title === ''}\r\n            >\r\n              {/* 뒤로가기 */}\r\n              <ArrowBackIcon />\r\n            </Button>\r\n          </div>\r\n          <div style={{ width: '100%', height: 300 }}>\r\n            {dataList.length > 0 && (\r\n              <ResponsiveContainer>\r\n                <PieChart>\r\n                  <Pie\r\n                    onClick={onClick}\r\n                    data={dataList}\r\n                    cx={150}\r\n                    cy={150}\r\n                    labelLine={false}\r\n                    label={renderCustomizedLabel}\r\n                    outerRadius={120}\r\n                    fill=\"#8884d8\"\r\n                    legendType=\"square\"\r\n                  >\r\n                    {dataList.map((entry, index) => {\r\n                      return (\r\n                        <Cell\r\n                          key={`item${index}`}\r\n                          fill={randomColor({\r\n                            luminosity: 'dark',\r\n                          })}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Pie>\r\n                  <Tooltip\r\n                    formatter={(value, name, props) => {\r\n                      return <span style={{ color: 'blue' }}>{value}%</span>;\r\n                    }}\r\n                  />\r\n                  <Legend\r\n                    layout=\"vetical\"\r\n                    verticalAlign=\"middle\"\r\n                    align=\"right\"\r\n                    iconSize={20}\r\n                    iconType=\"circle\"\r\n                    width={400}\r\n                    formatter={(value = '', entry, index) => {\r\n                      if (value.length > 40) {\r\n                        return `${value.substring(0, 40)}+...(터치횟수 : ${entry.payload.count}, 퍼센트 : ${(entry.payload.percent * 100).toFixed(2)}%)`;\r\n                      } else {\r\n                        // ${value}(${(${value}(${(\r\n                        //   entry.payload.percent * 100\r\n                        // ).toFixed(2)})%,\r\n                        return `${value}(터치횟수 : ${entry.payload.count}, 퍼센트 : ${(entry.payload.percent * 100).toFixed(2)}%)`;\r\n                      }\r\n                    }}\r\n                  />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            )}\r\n            {dataList.length === 0 && (\r\n              <>\r\n                <Wrapper>세부 로그 데이터가 존재하지 않습니다.</Wrapper>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPieChart;\r\n","import { Divider } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  fetchRawTotalLog,\r\n  selectTotalLog,\r\n  setChartData,\r\n  setTitle,\r\n} from '../../../slice/totalLogSlice';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport {\r\n  requestEventStatisticPerAgedForSheet,\r\n  requestEventStatisticPerDayForChart,\r\n  requestEventStatisticPerEventForSheet,\r\n} from './requestEventStatistic';\r\nimport StatisticEventAgedChart from './StatisticEventAgedChart';\r\nimport StatisticEventPerEventDataSheet from './StatisticEventPerEventDataSheet';\r\nimport StatisticEventPeriodChart from './StatisticEventPeriodChart';\r\nimport StatisticEventPieChart from './StatisticEventPieChart';\r\n\r\nconst StaticsTotalLogs = () => {\r\n  // const [index, setIndex] = useState(0);\r\n  // const [chartData, setChartData] = useState([]); // 배열에 차트데이터들을 순서대로 집어넣는다.\r\n  // const [searchTitle, setSearchTitle] = useState('');\r\n  const [drawData, setDrawData] = useState([]); //\r\n  const { chartData, title, rawChartData, start_date, end_date } =\r\n    useSelector(selectTotalLog);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getChartData = async () => {\r\n    const prevData = JSON.parse(JSON.stringify([...chartData]));\r\n    const rawData = JSON.parse(JSON.stringify([...rawChartData]));\r\n    console.log(rawData);\r\n    // if (rawData.length === 0) {\r\n    //   return;\r\n    // }\r\n    prevData.push({\r\n      code_name: title,\r\n      array: rawData,\r\n    });\r\n    dispatch(setChartData({ chartData: prevData }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    // dispatch(fetchRawTotalLog({ code_name: '' }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getChartData();\r\n  }, [rawChartData]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRawTotalLog({ code_name: title, start_date, end_date }));\r\n  }, [start_date, end_date]);\r\n\r\n  useEffect(() => {\r\n    if (chartData?.length > 0) {\r\n      const obj = chartData[chartData.length - 1]?.array?.map((item) => {\r\n        let dummy = {};\r\n        const name = Object.keys(item)[0];\r\n        const percent = item[`${name}`]['percent'];\r\n        const count = item[`${name}`]['count'];\r\n        dummy.name = name;\r\n        //   dummy.formattingName = name;\r\n        dummy.count = count;\r\n        dummy.value = percent;\r\n        return dummy;\r\n      });\r\n      console.log(obj);\r\n      setDrawData(obj);\r\n    }\r\n  }, [chartData]);\r\n\r\n  // useEffect(() => {}, [title]);\r\n\r\n  const onClick = (e) => {\r\n    dispatch(setTitle({ title: e.name }));\r\n    dispatch(fetchRawTotalLog({ code_name: e.name, start_date, end_date }));\r\n  };\r\n\r\n  const backClick = (e) => {\r\n    const prevData = JSON.parse(JSON.stringify([...chartData]));\r\n    prevData.splice(-1, 1);\r\n    // 최상위 로그라면\r\n    if (prevData[prevData.length - 1].code_name === '') {\r\n      dispatch(setTitle({ title: '' }));\r\n    }\r\n    dispatch(setChartData({ chartData: prevData }));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div>\r\n        <FormGuideComponent\r\n          title=\"DLS 시스템 사용 현황\"\r\n          guide={<div>선택한 일정 기간 동안의 DLS 사용률</div>}\r\n        />\r\n        <StatisticEventPieChart\r\n          dataList={drawData}\r\n          onClick={onClick}\r\n          backClick={backClick}\r\n        />\r\n      </div>\r\n\r\n      <Divider />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaticsTotalLogs;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\nimport { requestDlsAgeStatisticForChart } from './StatisticHttpService';\r\n\r\nconst StatisticDlsAgeStatisticChartComponent = (props) => {\r\n  const [periodData, setPeriodData] = useState([]);\r\n\r\n  const getDlsAgeStatisticForChart = () => {\r\n    requestDlsAgeStatisticForChart()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setPeriodData(res.data.datas);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {});\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDlsAgeStatisticForChart();\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      {/* <div>\r\n        <Select\r\n          defaultValue={period}\r\n          onChange={(e) => {\r\n            setPeriod(e);\r\n            getOfficeStatisticForPeriod(e);\r\n          }}\r\n        >\r\n          <Select.Option value={7}>최근 7일간</Select.Option>\r\n          <Select.Option value={30}>최근 30일간</Select.Option>\r\n        </Select>\r\n      </div> */}\r\n\r\n      <ResponsiveContainer>\r\n        <BarChart data={periodData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='연령' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='조회수' fill='#8884d8' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\nexport default StatisticDlsAgeStatisticChartComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Table, Button } from 'antd';\r\nimport uuid from 'react-uuid';\r\nimport {\r\n  requestEventJoinDataSheetStatistic,\r\n  requestExportExcel,\r\n  requestDlsAgeStatisticForSheet,\r\n} from './StatisticHttpService';\r\nimport { DatePicker } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport moment from 'moment';\r\nimport { FileExcelOutlined } from '@ant-design/icons';\r\n\r\nconst StatisticDlsAgeStatisticSheetComponent = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState();\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const [selectedDate, setSelectedDate] = useState({\r\n    start_date: moment().add(-1, 'month').format('YYYY-MM-DD'),\r\n    end_date: moment().format('YYYY-MM-DD'),\r\n  });\r\n  const columns = [\r\n    {\r\n      title: '일자',\r\n      dataIndex: 'A일자',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '영유아(0~5 세)',\r\n      dataIndex: 'B영유아(0~5 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '유아(6~7 세)',\r\n      dataIndex: 'C유아(6~7 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '초등(8~13 세)',\r\n      dataIndex: 'D초등(8~13 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '청소년(14~19 세)',\r\n      dataIndex: 'E청소년(14~19 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '20 대',\r\n      dataIndex: 'F20 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '30 대',\r\n      dataIndex: 'G30 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '40 대',\r\n      dataIndex: 'H40 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '50 대',\r\n      dataIndex: 'I50 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '60 세 이상',\r\n      dataIndex: 'J60 세 이상',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fillDateInTable(selectedDate.start_date, selectedDate.end_date);\r\n    return () => {};\r\n  }, []);\r\n\r\n  const fillDateInTable = (start_date, end_date) => {\r\n    setIsLoading(true);\r\n    requestDlsAgeStatisticForSheet(start_date, end_date).then((res) => {\r\n      console.log(res);\r\n      setDataSource(res.data.datas);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <div>\r\n        <Text>기간 선택 : </Text>\r\n        <RangePicker\r\n          style={{ width: '400px', margin: '10px 0px' }}\r\n          defaultValue={[\r\n            moment(selectedDate.start_date),\r\n            moment(selectedDate.end_date),\r\n          ]}\r\n          onChange={(e) => {\r\n            console.log(e);\r\n            if (e) {\r\n              selectedDate.start_date = e[0].format('YYYY-MM-DD');\r\n              selectedDate.end_date = e[1].format('YYYY-MM-DD');\r\n              fillDateInTable(\r\n                e[0].format('YYYY-MM-DD'),\r\n                e[1].format('YYYY-MM-DD')\r\n              );\r\n            }\r\n          }}\r\n        />\r\n        <Button\r\n          type='link'\r\n          onClick={(e) => {\r\n            requestExportExcel(\r\n              dataSource,\r\n              '기간별 DLS 스마트 추천 연령 현황 시트'\r\n            );\r\n          }}\r\n        >\r\n          <FileExcelOutlined />\r\n          Excel 다운로드\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size='small'\r\n        bordered\r\n        // pagination={{\r\n        //   pageSize: 10,\r\n        // }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticDlsAgeStatisticSheetComponent;\r\n","import { Divider } from 'antd';\r\nimport React from 'react';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport StatisticDlsAgeStatisticChartComponent from './StatisticDlsAgeStatisticChartComponent';\r\nimport StatisticDlsAgeStatisticSheetComponent from './StatisticDlsAgeStatisticSheetComponent';\r\n\r\nconst StatisticDlsStatisticChartContainer = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div className='priodChartWrap'>\r\n        <FormGuideComponent\r\n          title='연령별 스마트 추천 도서 데이터 차트'\r\n          guide='최근 30일 간 연령 스마트 추천 도서 조회 데이터'\r\n        />\r\n        <StatisticDlsAgeStatisticChartComponent />\r\n      </div>\r\n      <Divider />\r\n      <div className='priodChartWrap'>\r\n        <FormGuideComponent\r\n          title='연령별 스마트 추천 도서 데이터 차트'\r\n          guide='기간별 연령 스마트 추천 도서 조회 데이터'\r\n        />\r\n        <StatisticDlsAgeStatisticSheetComponent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticDlsStatisticChartContainer;\r\n","import { Tabs } from 'antd';\r\nimport React from 'react';\r\nimport StatisticEventContainer from './event/StatisticEventContainer';\r\nimport StaticsTotalLogs from './event/StaticsTotalLogs';\r\nimport StatisticDlsStatisticChartContainer from './StatisticDlsStatisticChartContainer';\r\n\r\nconst StatisticContainer = () => {\r\n  function callback(key) {\r\n    sessionStorage.setItem('currentPage', 1);\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100%',\r\n      }}\r\n    >\r\n      <Tabs onChange={callback} type=\"card\">\r\n        <Tabs.TabPane tab=\"시스템별 사용 현황\" key=\"1\">\r\n          <StaticsTotalLogs />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"사서 추천 시스템\" key=\"2\">\r\n          <StatisticDlsStatisticChartContainer />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"행사\" key=\"3\">\r\n          <StatisticEventContainer />\r\n        </Tabs.TabPane>\r\n        {/* <Tabs.TabPane tab='토론실' key='2'>\r\n          <StatisticOfficeContainer />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab='태블릿/일반물품' key='3'>\r\n          <StatisticItemContainer />\r\n        </Tabs.TabPane> */}\r\n        {/* <Tabs.TabPane tab='문자서비스' key='4'></Tabs.TabPane> */}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticContainer;\r\n","import React from 'react';\r\nimport MenuGuide from '../MenuGuide';\r\nimport StatisticContainer from './StatisticContainer';\r\n\r\nconst ManagementStatic = (props) => {\r\n  return (\r\n    <>\r\n      <MenuGuide\r\n        title='통계관리'\r\n        subTitle='시스템의 통계를 확인할 수 있습니다.'\r\n      />\r\n      <StatisticContainer />\r\n    </>\r\n  );\r\n};\r\nexport default ManagementStatic;\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport BannerForm from \"./banner/BannerForm\";\r\nimport RecommandImageForm from \"./banner/RecommandImageForm\";\r\nimport SimpleDcsForm from \"./banner/SimpleDcsForm\";\r\nimport ManagementBook from \"./book/ManagementBook\";\r\nimport ManagementBookForm from \"./book/ManagementBookForm\";\r\nimport ManagementCaptionForm from \"./caption/ManagementCaptionForm\";\r\nimport ManagementDcsFormV2 from \"./dcs/ManagementDcsFormV2\";\r\nimport ManagementEquip from \"./equip/ManagementEquip\";\r\nimport ManagementEquipForm from \"./equip/ManagementEquipForm\";\r\nimport Help from \"./Help\";\r\nimport Home from \"./home/HomeAsan\";\r\nimport DvdAddForm from \"./is-system/dvd/DvdAddForm\";\r\nimport DvdDetailForm from \"./is-system/dvd/DvdDetailForm\";\r\nimport EventDetailContainer from \"./is-system/event/EventDetailContainer\";\r\nimport EventFormContainer from \"./is-system/event/EventFormContainer\";\r\nimport ItemLoanDetailContainer from \"./is-system/item-loan/ItemLoanDetailContainer\";\r\nimport ItemLoanForm from \"./is-system/item-loan/ItemLoanForm\";\r\nimport ItemLoanAddForm from \"./is-system/itemLoan/ItemLoanAddForm\";\r\nimport ItemLoanDetailForm from \"./is-system/itemLoan/ItemLoanDetailForm\";\r\nimport ManagementLssScreen from \"./lss/ManagementLssScreen\";\r\nimport ManagementMagForm from \"./mag/ManagementMagForm\";\r\nimport ManagementIs from \"./ManagementIs\";\r\nimport ManagementScreen from \"./ManagementScreen\";\r\nimport ManagementUser from \"./ManagementUser\";\r\nimport ManagementPollForm from \"./poll/ManagementPollForm\";\r\nimport ManagementPollResult from \"./poll/ManagementPollResult\";\r\n// import ManagementPosterForm from './poster/ManagementPosterForm';\r\nimport ManagementStatic from \"./statistic/ManagementStatic\";\r\nimport LectureList from \"./is-system/lecture/LectureList\";\r\n\r\nexport default function MainRouter() {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route exact path={match.path} component={ManagementScreen} />\r\n      <Route exact path=\"/help\" component={Help} />\r\n      <Route exact path=\"/equip/form\" component={ManagementEquipForm} />\r\n      <Route\r\n        exact\r\n        path={[\"/equip\", `/equip/:key`]}\r\n        component={ManagementEquip}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/screen\", \"/screen/:key\"]}\r\n        component={ManagementScreen}\r\n      />\r\n      <Route exact path=\"/book\" component={ManagementBook} />\r\n      {/* <Route exact path=\"/poster/form\" component={ManagementPosterForm} /> */}\r\n      <Route exact path=\"/statistic\" component={ManagementStatic} />\r\n      <Route exact path=\"/mag/form\" component={ManagementMagForm} />\r\n      <Route exact path=\"/book/form\" component={ManagementBookForm} />\r\n      <Route exact path=\"/poll/form\" component={ManagementPollForm} />\r\n      <Route\r\n        exact\r\n        path=\"/poll/result/:master_id\"\r\n        component={ManagementPollResult}\r\n      />\r\n      <Route exact path=\"/dcs/form\" component={ManagementDcsFormV2} />\r\n      <Route exact path=\"/user/form\" component={ManagementUser} />\r\n      <Route exact path=\"/event/form\" component={EventFormContainer} />\r\n      <Route\r\n        exact\r\n        path=\"/event/form/:event_master_idx\"\r\n        component={EventFormContainer}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/event/detail/:event_master_idx\"\r\n        component={EventDetailContainer}\r\n      />\r\n      <Route exact path=\"/loanitem/form/:loan_idx\" component={ItemLoanForm} />\r\n      <Route exact path=\"/dvd/form/new\" component={DvdAddForm} />\r\n      <Route exact path=\"/item/form/new\" component={ItemLoanAddForm} />\r\n      <Route exact path=\"/dvd/detail/:room_seq\" component={DvdDetailForm} />\r\n      <Route\r\n        exact\r\n        path=\"/item/detail/:item_seq\"\r\n        component={ItemLoanDetailForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/loanitem/detail/:item_master_idx\"\r\n        component={ItemLoanDetailContainer}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/lss/form/:equip_idx\"\r\n        component={ManagementLssScreen}\r\n      />\r\n      <Route exact path=\"/caption/form/\" component={ManagementCaptionForm} />\r\n      <Route\r\n        exact\r\n        path=\"/caption/form/:equip_idx\"\r\n        component={ManagementCaptionForm}\r\n      />\r\n      <Route exact path={[\"/is\", \"/is/:key\"]} component={ManagementIs} />\r\n      <Route exact path={[\"/banner/:banner_idx\"]} component={BannerForm} />\r\n      <Route\r\n        exact\r\n        path={[\"/recommandImage/:banner_idx\"]}\r\n        component={RecommandImageForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/moviebanner/:banner_idx\"]}\r\n        component={SimpleDcsForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/moviebanner/:banner_idx\"]}\r\n        component={SimpleDcsForm}\r\n      />\r\n      <Route exact path={[\"/lecture/:lecture_idx\"]} component={LectureList} />\r\n    </Switch>\r\n  );\r\n}\r\n","import InsertChartIcon from \"@material-ui/icons/InsertChart\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport PhonelinkIcon from \"@material-ui/icons/Phonelink\";\r\nimport TabletMacIcon from \"@material-ui/icons/TabletMac\";\r\nimport TvIcon from \"@material-ui/icons/Tv\";\r\nimport { Divider } from \"antd\";\r\nimport classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { kBodyWidth } from \"./Constants\";\r\n\r\nconst Menu = ({\r\n  children,\r\n  active,\r\n}: {\r\n  children: React.ReactNode;\r\n  active?: boolean;\r\n}): JSX.Element => {\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        \"font-bmjua text-lg w-40\",\r\n        \"flex justify-center items-center hover:text-yellow-500\",\r\n        `${active ? \"text-yellow-500\" : \"text-white\"}`\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Navbar = () => {\r\n  const location = useLocation();\r\n\r\n  const isActive = (_pathname: string) => location.pathname.includes(_pathname);\r\n\r\n  return (\r\n    <div className={classNames(\"w-full bg-transparent flex items-center\")}>\r\n      <div>\r\n        <Link\r\n          to={{\r\n            pathname: \"/\",\r\n          }}\r\n          style={{ color: \"white\", fontSize: \"2rem\", fontStyle: \"italic\" }}\r\n        >\r\n          CMS\r\n        </Link>\r\n      </div>\r\n      {/* <Link to=\"/equip\">\r\n        <Menu active={isActive(\"/equip\")}>\r\n          <PhonelinkIcon />\r\n          <div className={\"ml-2\"}>장비관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      {/* <Link to=\"/is\">\r\n        <Menu active={isActive(\"/is\")}>\r\n          <TabletMacIcon />\r\n          <div className={\"ml-2\"}>예약관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      <Link to=\"/screen\">\r\n        <Menu active={isActive(\"/screen\")}>\r\n          <TvIcon />\r\n          <div className={\"ml-2\"}>화면관리</div>\r\n        </Menu>\r\n      </Link>\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      {/* <Link to=\"/book\">\r\n        <Menu active={isActive('/book')}>\r\n          <MenuBookIcon />\r\n          <div className={'ml-2'}>사서추천도서</div>\r\n        </Menu>\r\n      </Link>\r\n      <Divider type=\"vertical\" className={classNames('bg-white w-px h-5')} /> */}\r\n      {/* <Link to=\"/statistic\">\r\n        <Menu active={isActive('/statistic')}>\r\n          <InsertChartIcon />\r\n          <div className={'ml-2'}>통계관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { HomeOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport { Divider } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Menu = (props: React.PropsWithChildren<{}>): JSX.Element => (\r\n  <div\r\n    className={classNames(\r\n      'flex font-bmjua cursor-pointer',\r\n      'hover:text-blue-600'\r\n    )}\r\n  >\r\n    {props.children}\r\n  </div>\r\n);\r\n\r\nconst Navsub = () => {\r\n  const [, setIsAuth] = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className='flex justify-evenly items-center'>\r\n      <Link to='/' style={{ fontFamily: 'bmjua', color: '#000000' }}>\r\n        <Menu>\r\n          <HomeOutlined />\r\n          <div className='ml-1'>HOME</div>\r\n        </Menu>\r\n      </Link>\r\n      <Divider type='vertical' className='bg-gray-800' />\r\n      <Link\r\n        to=''\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          setIsAuth(false);\r\n          sessionStorage.clear();\r\n        }}\r\n        className={classNames('font-bmjua text-black')}\r\n      >\r\n        <Menu>\r\n          <LogoutOutlined />\r\n          <div className='ml-1'>LOGOUT</div>\r\n        </Menu>\r\n      </Link>\r\n      {/* <Divider type='vertical' className='bg-gray-800' />\r\n      <Link to='/help'>\r\n        <Menu>\r\n          <QuestionCircleOutlined style={{ cursor: 'pointer' }} />\r\n          <div>HELP</div>\r\n        </Menu>\r\n      </Link> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navsub;\r\n","import axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { kBodyWidth } from './Constants';\r\nimport MainFooter from './MainFooter';\r\nimport MainRouter from './MainRouter';\r\nimport Navbar from './Navbar';\r\nimport Navsub from './Navsub';\r\n\r\nconst Main = () => {\r\n  const [isAuth] = useContext(AuthContext);\r\n\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      if (config.headers)\r\n        config.headers['userInfo'] =\r\n          sessionStorage.getItem('userInfo') || 'guest';\r\n\r\n      return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n  );\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to='/login' />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classNames('w-full h-screen', 'flex flex-col items-center')}\r\n    >\r\n      <div className={classNames('w-full bg-gray-800')}>\r\n        <div\r\n          className={classNames('mx-auto my-3')}\r\n          style={{ width: kBodyWidth }}\r\n        >\r\n          <Navbar />\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={classNames('flex justify-end mt-2')}\r\n        style={{ width: kBodyWidth }}\r\n      >\r\n        <Navsub />\r\n      </div>\r\n      <div\r\n        className={classNames('w-full flex-1 mx-auto')}\r\n        style={{ width: kBodyWidth }}\r\n      >\r\n        <MainRouter />\r\n      </div>\r\n      <div\r\n        className={classNames('w-full bg-gray-800 flex justify-center')}\r\n        style={{ minHeight: 60 }}\r\n      >\r\n        <MainFooter />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../Constants';\r\nimport { Row, Col, Radio, Checkbox, Button } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport uuid from 'react-uuid';\r\nimport './ManagementPollDetail.css';\r\n\r\nconst TitleCard = (props) => {\r\n  const [pollTitle, setPollTitle] = useState('');\r\n  const [pollDescription, setPollDescription] = useState('');\r\n\r\n  // 오른쪽 클릭 방지\r\n  oncontextmenu = (e) => {\r\n    if (e.button === 2) {\r\n      e.preventDefault();\r\n      return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPollTitle(props.pollTitle);\r\n    setPollDescription(props.pollDescription);\r\n    return () => {\r\n      // 오른쪽 클릭 방지 해제\r\n      oncontextmenu = (e) => {};\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderTop: '0px',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n        backgroundColor: 'white',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: '#576574',\r\n          borderTopRightRadius: '8px',\r\n          borderTopLeftRadius: '8px',\r\n          width: '100%',\r\n          height: '15px',\r\n        }}\r\n      ></div>\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          padding: '10px 30px 20px 30px',\r\n        }}\r\n      >\r\n        <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>{props.pollTitle}</p>\r\n        <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>{props.pollDescription}</pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ManagementPollDetail = (props) => {\r\n  const [masterId, setMasterId] = useState(props.match.params.master_id);\r\n  const [pollTitle, setPollTitle] = useState('');\r\n  const [pollDescription, setPollDescription] = useState('');\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [userId, setUserId] = useState(uuid());\r\n\r\n  useEffect(() => {\r\n    getPollDetail();\r\n  }, []);\r\n\r\n  const getPollDetail = () => {\r\n    axios\r\n      .get('/poll/detail', {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setPollTitle(res.data.pollMaster.title);\r\n        setPollDescription(res.data.pollMaster.description);\r\n        setQuestions(res.data.questions);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const cardStyle = {\r\n    width: '100%',\r\n    border: '1px solid #7f8c8d',\r\n    borderRadius: '8px',\r\n    minHeight: '120px',\r\n    padding: '20px',\r\n    marginTop: '10px',\r\n    backgroundColor: 'white',\r\n  };\r\n\r\n  const radioStyle = {\r\n    display: 'block',\r\n    height: '30px',\r\n    lineHeight: '30px',\r\n    width: '100%',\r\n  };\r\n\r\n  const checkboxStyle = {\r\n    display: 'block',\r\n    height: '30px',\r\n    lineHeight: '30px',\r\n    width: '100%',\r\n  };\r\n\r\n  const onChangeAnswer = (e, type = '', question_id = '') => {\r\n    var theAnswer = {\r\n      master_id: masterId,\r\n      question_id: question_id,\r\n      user_id: userId,\r\n      answer: '',\r\n    };\r\n    var copiedAnswers = Array.from(answers);\r\n\r\n    if (type === 'single') {\r\n      var removeTargetIdx = null;\r\n\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.question_id === theAnswer.question_id) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      theAnswer['answer'] = e.target.value;\r\n      copiedAnswers.push(theAnswer);\r\n    } else if (type === 'multi') {\r\n      var removeTargetIdx = null;\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.answer === e.target.value) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      if (e.target.checked) {\r\n        theAnswer['answer'] = e.target.value;\r\n        copiedAnswers.push(theAnswer);\r\n      }\r\n    } else if (type === 'narrative') {\r\n      var removeTargetIdx = null;\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.question_id === theAnswer.question_id) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      theAnswer['answer'] = e.target.value ? e.target.value : '답변없음';\r\n      copiedAnswers.push(theAnswer);\r\n    }\r\n\r\n    setAnswers(copiedAnswers);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(`/poll/submit`, { answers })\r\n      .then((res) => {\r\n        props.history.push({\r\n          pathname: '/poll/complete',\r\n          masterId: masterId,\r\n          pollTitle: pollTitle,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px', width: '100%', height: '100%' }}>\r\n      <div style={{ width: '50%', minWidth: '350px', margin: 'auto' }}>\r\n        <Row>\r\n          <Col span={24}>\r\n            <TitleCard pollTitle={pollTitle} pollDescription={pollDescription} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24}>\r\n            {questions.map((question, idx) => {\r\n              var items = question.items ? question.items : [];\r\n\r\n              if (question.type === 'single') {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <pre\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </pre>\r\n                    <Radio.Group\r\n                      name={question.question_id}\r\n                      style={{ width: '100%' }}\r\n                      onChange={(e) => {\r\n                        onChangeAnswer(e, question.type, question.question_id);\r\n                      }}\r\n                    >\r\n                      {items.map((item, idx) => {\r\n                        return (\r\n                          <Radio key={item.item_id} value={item.item_id} style={radioStyle}>\r\n                            {item.content}\r\n                          </Radio>\r\n                        );\r\n                      })}\r\n                    </Radio.Group>\r\n                  </div>\r\n                );\r\n              } else if (question.type === 'multi') {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <pre\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </pre>\r\n                    <Checkbox.Group name={question.question_id} style={{ width: '100%' }}>\r\n                      {items.map((item, idx) => {\r\n                        return (\r\n                          <Checkbox\r\n                            key={item.item_id}\r\n                            value={item.item_id}\r\n                            style={radioStyle}\r\n                            onChange={(e) => {\r\n                              onChangeAnswer(e, question.type, question.question_id);\r\n                            }}\r\n                          >\r\n                            {item.content}\r\n                          </Checkbox>\r\n                        );\r\n                      })}\r\n                    </Checkbox.Group>\r\n                  </div>\r\n                );\r\n              } else {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <p\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </p>\r\n                    <TextArea\r\n                      autoSize={true}\r\n                      placeholder=\"설명\"\r\n                      style={{\r\n                        border: '0',\r\n                        resize: 'none',\r\n                      }}\r\n                      onChange={(e) => {\r\n                        onChangeAnswer(e, question.type, question.question_id);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                );\r\n              }\r\n            })}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24} style={{ paddingTop: '10px' }}>\r\n            <Button type=\"primary\" style={{ width: '100px', backgroundColor: 'rgb(87, 101, 116)' }} onClick={onSubmit}>\r\n              제출\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollDetail;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ManagementPollComplete = (props) => {\r\n  const [pollTitle, setPollTitle] = useState(\r\n    props.history.location.pollTitle ? props.history.location.pollTitle : ''\r\n  );\r\n  const [masterId, setMasterId] = useState(\r\n    props.history.location.masterId ? props.history.location.masterId : ''\r\n  );\r\n\r\n  return (\r\n    <div style={{ width: '100%', padding: '20px' }}>\r\n      <div style={{ width: '50%', minWidth: '800px', margin: 'auto' }}>\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            border: '1px solid #7f8c8d',\r\n            borderTop: '0px',\r\n            borderRadius: '8px',\r\n            minHeight: '120px',\r\n            backgroundColor: 'white',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: '#576574',\r\n              borderTopRightRadius: '8px',\r\n              borderTopLeftRadius: '8px',\r\n              width: '100%',\r\n              height: '15px',\r\n            }}\r\n          ></div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px 30px 20px 30px',\r\n            }}\r\n          >\r\n            <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>\r\n              {pollTitle}\r\n            </p>\r\n            <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>\r\n              설문을 완료해 주셔서 감사합니다!\r\n            </pre>\r\n\r\n            {masterId ? (\r\n              <Link to={`/poll/detail/${masterId}`}>다른 응답 제출하기</Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollComplete;\r\n","import { Result } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Result\r\n      status=\"404\"\r\n      title=\"404\"\r\n      subTitle=\"페이지를 찾을 수 없습니다. 관리자에게 문의하세요\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { ConfigProvider, message } from 'antd';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport SignInSide from './login/SignInSideAsan';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport ko_KR from 'antd/es/locale/ko_KR';\r\nimport Main from './main/Main';\r\nimport ManagementPollDetail from './main/poll/ManagementPollDetail';\r\nimport ManagementPollComplete from './main/poll/ManagementPollComplete';\r\nimport NotFound from './main/NotFound';\r\nimport Axios from 'axios';\r\nimport { DEV_SERVER } from './main/Constants';\r\n\r\nconst App = (props: any) => {\r\n  message.config({\r\n    top: 30,\r\n    duration: 2,\r\n    maxCount: 3,\r\n    // rtl: true,\r\n  });\r\n\r\n  // Axios.defaults.baseURL = DEV_SERVER;\r\n\r\n  return (\r\n    <ConfigProvider locale={ko_KR}>\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n            <Route exact path=\"/login\" component={SignInSide} />\r\n            <Route exact path=\"/poll/detail/:master_id\" component={ManagementPollDetail} />\r\n            <Route exact path=\"/poll/complete\" component={ManagementPollComplete} />\r\n            <Route path=\"/\" component={Main} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import axios from \"axios\";\r\nimport qs from \"qs\";\r\n// index.tsx에서 호출\r\nexport const setAxiosDefaultUrl = () => {\r\n  process.env.NODE_ENV === \"development\"\r\n    ? (axios.defaults.baseURL = SERVER_URL[SITE.SAMCHEOK_LEARNINGCENTER].DEV)\r\n    : (axios.defaults.baseURL = SERVER_URL[SITE.SAMCHEOK_LEARNINGCENTER].PROD);\r\n};\r\naxios.defaults.paramsSerializer = (params) => {\r\n  return qs.stringify(params);\r\n};\r\n\r\nexport type ServerUrl = {\r\n  PROD: string;\r\n  DEV: string;\r\n};\r\n\r\nexport const SITE = {\r\n  GES_DEV: \"GES_DEV\",\r\n  LOCALHOST: \"LOCALHOST\",\r\n  TAK: \"TAK\",\r\n  NONHYEON: \"NONHYEON\",\r\n  SAMCHEOK_LEARNINGCENTER: \"SAMCHEOK_LEARNINGCENTER\",\r\n} as const;\r\n\r\nexport const SERVER_URL: { [key: string]: ServerUrl } = {\r\n  [SITE.GES_DEV]: {\r\n    PROD: \"http://183.102.131.99:28080\",\r\n    DEV: \"http://183.102.131.99:28080\",\r\n  },\r\n  [SITE.LOCALHOST]: {\r\n    PROD: \"http://localhost:28080\",\r\n    DEV: \"http://localhost:28080\",\r\n  },\r\n  [SITE.TAK]: {\r\n    // PROD: 'http://192.168.0.54:28080',\r\n    // DEV: 'http://192.168.0.54:28080',\r\n\r\n    PROD: \"http://183.102.131.99:28081\",\r\n    DEV: \"http://183.102.131.99:28081\",\r\n\r\n    // PROD: 'http://localhost:28080',\r\n    // DEV: 'http://localhost:28080',\r\n  },\r\n  [SITE.NONHYEON]: {\r\n    PROD: \"http://192.168.11.238:28080\",\r\n    DEV: \"http://211.226.147.37:28080\",\r\n  },\r\n  [SITE.SAMCHEOK_LEARNINGCENTER]: {\r\n    PROD: \"http://61.73.191.214:80\",\r\n    //삼척 lis\r\n    DEV: \"http://61.73.191.214:80\",\r\n    // DEV: \"http://183.102.131.99:28080\",\r\n  },\r\n};\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { createHashHistory } from 'history';\r\nimport logger, { createLogger } from 'redux-logger';\r\nimport createRootReducer from './rootReducer';\r\n\r\nexport const history = createHashHistory();\r\nconst rootReducer = createRootReducer(history);\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nconst excludeLoggerEnvs = ['test', 'production'];\r\nconst shouldIncludeLogger = !excludeLoggerEnvs.includes(\r\n  process.env.NODE_ENV || ''\r\n);\r\n\r\nif (shouldIncludeLogger) {\r\n  const logger = createLogger({\r\n    level: 'info',\r\n    collapsed: true,\r\n  });\r\n}\r\n\r\nexport const configuredStore = (initialState?: RootState) => {\r\n  // Create Store\r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({ serializableCheck: false }).concat(logger),\r\n  });\r\n\r\n  if (process.env.NODE_ENV === 'development' && module.hot) {\r\n    module.hot.accept(\r\n      './rootReducer',\r\n      // eslint-disable-next-line global-require\r\n      () => store.replaceReducer(require('./rootReducer').default)\r\n    );\r\n  }\r\n  return store;\r\n};\r\nexport type Store = ReturnType<typeof configuredStore>;\r\n","import { connectRouter } from \"connected-react-router\";\r\nimport { History } from \"history\";\r\nimport { combineReducers } from \"redux\";\r\nimport BannerReducer, { BANNER } from \"./slice/BannerSlice\";\r\nimport TotalLogReducer, { TOTAL_LOG } from \"./slice/totalLogSlice\";\r\nimport CaptionSettingsReduecer, { CAPTION } from \"./slice/CaptionSlice\";\r\nimport LssSettingsReducer, { LSS_DETAIL } from \"./slice/LssSlice\";\r\nimport DvdSliceReducer, { DVD } from \"./slice/DvdSlice\";\r\nimport ItemLoanSliceReducer, { ITEMLOAN } from \"./slice/ItemLoanSlice\";\r\nimport SmartSearchSettingsReducer, {\r\n  SMART_SEARCH,\r\n} from \"./slice/SmartSearchSlice\";\r\nimport userReducer, { USER } from \"./slice/userSlice\";\r\nimport blackListReducer, { BLACKLIST } from \"./slice/BlackListSlice\";\r\nimport lectureSlice, { LECTURE } from \"./slice/LectureSlice\";\r\n\r\nexport default function createRootReducer(history: History) {\r\n  return combineReducers({\r\n    router: connectRouter(history),\r\n    [LSS_DETAIL]: LssSettingsReducer,\r\n    [CAPTION]: CaptionSettingsReduecer,\r\n    [SMART_SEARCH]: SmartSearchSettingsReducer,\r\n    [BANNER]: BannerReducer,\r\n    [TOTAL_LOG]: TotalLogReducer,\r\n    [ITEMLOAN]: ItemLoanSliceReducer,\r\n    [DVD]: DvdSliceReducer,\r\n    [USER]: userReducer,\r\n    [BLACKLIST]: blackListReducer,\r\n    [LECTURE]: lectureSlice,\r\n  });\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport { setAxiosDefaultUrl } from './constants/SERVER_INFO';\r\nimport './index.css';\r\nimport { configuredStore } from './store';\r\n\r\nsetAxiosDefaultUrl();\r\n\r\nconst store = configuredStore();\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App></App>\r\n  </Provider>,\r\n\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sunday\":\"HolidaySettingModal_sunday__celXq\",\"day\":\"HolidaySettingModal_day__H0DnC\",\"picker\":\"HolidaySettingModal_picker__5ZECk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calendar\":\"Holiday_calendar__2Gl-Y\",\"badgeActive\":\"Holiday_badgeActive__qJKuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"NoticeCards_text__2T5PN\",\"card\":\"NoticeCards_card__1KvgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Notice_drawer__3U1Qv\",\"text\":\"Notice_text__3sfCp\"};"],"sourceRoot":""}