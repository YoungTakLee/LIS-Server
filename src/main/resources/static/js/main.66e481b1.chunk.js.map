{"version":3,"sources":["main/lss/pages/components/Holiday/HolidaySettingModal.module.scss","main/lss/pages/components/Holiday/Holiday.module.scss","main/lss/pages/components/Notice/NoticeCards.module.scss","main/lss/pages/components/Notice/Notice.module.scss","context/AuthContext.tsx","images/cms_as_logo.png","images/noImage.png","images/complete-dcs/01.png","images/dcs_multi_layout_h/01.png","images/dcs_multi_layout_h/02.png","images/dcs_multi_layout_h/03.png","images/dcs_multi_layout_h/04.png","images/dcs_multi_layout_h/05.png","images/dcs_multi_layout_h/06.png","images/dcs_multi_layout_h/07.png","images/dcs_multi_layout_h/08.png","images/dcs_multi_layout_h/09.png","images/complete-dcs/02.png","images/complete-dcs/03.png","images/complete-dcs/04.png","images/complete-dcs/05.png","images/complete-dcs/06.png","images/complete-dcs/07.png","images/complete-dcs/08.png","images/complete-dcs/09.png","images/complete-dcs/10.png","images/complete-dcs/1000.png","video/login_background_video.mp4","login/SignInSideAsan.tsx","main/Constants.js","images/greeneffect_icon.png","main/MainFooter.tsx","api/banner.api.ts","slice/BannerSlice.ts","main/FormGuideComponent.js","main/MenuGuide.tsx","main/banner/BannerDropzone.tsx","main/banner/BannerFile.tsx","main/banner/BannerFilelist.tsx","main/banner/BannerRangePicker.tsx","main/banner/BannerForm.tsx","main/banner/RecommandImageForm.tsx","main/banner/SimpleDcsDropZone.tsx","main/banner/SimpleDcsForm.tsx","main/book/ManagementBook.js","api/api.ts","api/SmartSearch.ts","slice/SmartSearchSlice.ts","images/noimages.png","main/book/Pagination.tsx","main/book/SmartSearch.styled.tsx","main/book/Smartsearch.tsx","main/book/ManagementBookForm.tsx","api/LssApis.ts","api/CaptionApis.ts","slice/CaptionSlice.ts","main/caption/components/CaptionList.styled.tsx","main/caption/components/CaptionListHeader.styled.tsx","main/caption/components/CaptionListHeader.tsx","main/caption/components/CaptionList.tsx","main/ConfirmModal.js","main/caption/ManagementCaptionForm.tsx","main/dcs/ManagementDcsFileUploadComponent.tsx","main/dcs-layout/Layout.styled.ts","main/dcs-layout/Layout1000.tsx","main/dcs-layout/Layout101.tsx","main/dcs-layout/Layout102.tsx","main/dcs-layout/Layout103.tsx","main/dcs-layout/Layout104.tsx","main/dcs-layout/Layout105.tsx","main/dcs-layout/Layout106.tsx","main/dcs-layout/Layout107.tsx","main/dcs-layout/Layout108.tsx","main/dcs-layout/Layout109.tsx","main/dcs-layout/Layout110.tsx","main/dcs/ApplyLayout.tsx","main/dcs/ManagementDcsFilePreviewComponent.js","main/dcs/ManagementDcsContentsList.js","main/dcs/ManagementDcsLayout.tsx","main/dcs/ManagementDcsPlaylistTimeControlPanel.tsx","main/dcs/UploadingProgressIndicator.tsx","main/dcs/ManagementDcsFormV2.tsx","api/equipments.api.ts","main/equip/equipmentList/components/EquipItem.tsx","main/equip/equipmentList/components/EquipList.tsx","main/equip/equipmentList/EquipListTab.tsx","main/equip/powerManagement/shared/DisplaySysName.tsx","main/equip/powerManagement/selected/SettingUsageAndTime.tsx","main/equip/powerManagement/all/SettingOperation.tsx","main/equip/powerManagement/all/SettingTime.tsx","main/equip/powerManagement/all/DaysItem.tsx","main/equip/powerManagement/all/SettingDays.tsx","main/equip/powerManagement/selected/OperationManagement.tsx","main/equip/powerManagement/selected/SelectedSysControl.tsx","main/equip/powerManagement/EquipManageTab.tsx","main/equip/ManagementEquip.tsx","main/equip/ManagementEquipForm.js","main/Help.js","api/Dvd.api.ts","slice/DvdSlice.ts","main/is-system/dvd/DvdDailyAddForm.tsx","main/is-system/dvd/DvdAddForm.jsx","main/is-system/dvd/useGetDvdDetail.tsx","main/is-system/dvd/useGetDvdList.tsx","api/user.api.ts","slice/userSlice.ts","main/is-system/dvd/DvdMakeReservation.tsx","main/is-system/dvd/DvdDetailForm.tsx","main/is-system/event/EventPosterUploadComponent.js","main/is-system/event/EventDetailComponent.js","main/is-system/event/EventDetailEnrolleeListComponent.js","main/CommonUtils.js","main/is-system/event/EventDetailContainer.js","main/is-system/event/EventFormComponent.js","main/is-system/event/EventFormContainer.js","main/is-system/item-loan/ItemLoanDetailMasterBlockComponent.js","main/is-system/item-loan/ItemLoanDetailMasterEquipComponent.js","main/is-system/item-loan/ItemLoanDetailMasterLoanReturnStatusComponent.js","main/is-system/item-loan/ItemLoanDetailMasterOperationTimeComponent.js","main/is-system/item-loan/ItemLoanDetailMasterStatusComponent.js","main/is-system/item-loan/ItemLoanDetailMasterComponent.js","main/is-system/item-loan/ItemLoanDetailPropStatusComponent.js","main/is-system/item-loan/ItemLoanDetailItemHistoryComponent.js","main/is-system/item-loan/ItemLoanDetailItemComponent.js","main/is-system/item-loan/ItemLoanDetailContainer.js","main/is-system/item-loan/ItemLoanItemEditor.js","main/is-system/item-loan/ItemLoanForm.js","api/ItemLoan.api.ts","slice/ItemLoanSlice.ts","main/is-system/itemLoan/ItemDailyAddForm.tsx","main/is-system/itemLoan/ItemLoanAddForm.jsx","main/is-system/itemLoan/useGetItemDetail.tsx","main/is-system/itemLoan/useGetItemList.tsx","main/is-system/itemLoan/ItemLoanMakeReservation.tsx","main/is-system/itemLoan/ItemLoanDetailForm.tsx","slice/LssSlice.ts","main/lss/pages/components/RadioMode/RadioMode.styled.tsx","main/lss/pages/components/RadioMode/RadioMode.tsx","main/lss/pages/components/ReturnDate/ReturnDate.styled.tsx","main/lss/pages/components/ReturnDate/ReturnDate.tsx","main/lss/ManagementLssScreen.styled.tsx","main/lss/pages/components/Notice/NoticeCards.styled.tsx","main/lss/pages/components/Notice/NoticeCards.tsx","main/lss/pages/components/Notice/NoticeDrawTitle.styled.tsx","main/lss/pages/components/Notice/NoticeDrawTitle.tsx","main/lss/pages/components/Notice/Notice.styled.tsx","main/lss/pages/components/Notice/Notice.tsx","main/lss/pages/components/Notice/hooks/useGetUseNotice.tsx","main/lss/pages/components/Caption/Caption.styled.tsx","main/lss/pages/components/Caption/CaptionDrawTitle.styled.tsx","main/lss/pages/components/Caption/CaptionDrawTitle.tsx","main/lss/pages/components/Caption/CaptionItems.styled.tsx","main/lss/pages/components/Caption/CaptionItems.tsx","main/lss/pages/components/Caption/Caption.tsx","main/lss/pages/components/Holiday/HolidaySettingModal.styled.tsx","main/lss/pages/components/Holiday/options.ts","main/lss/pages/components/Holiday/hooks/useGenerateDayOfTheWeekKey.ts","main/lss/pages/components/Holiday/HolidaySettingModal.tsx","main/lss/pages/components/Holiday/hooks/useMotionOpacity.ts","main/lss/pages/components/Holiday/HolidayAddModal.styled.tsx","main/lss/pages/components/Holiday/hooks/useMotionMovingAxisY.ts","main/lss/pages/components/Holiday/HolidayAddModal.tsx","main/lss/pages/components/Holiday/hooks/useGenerateHolidayUuid.ts","util/Date/getDatesStartToLast.ts","util/Date/getIncludesHolidayOfDay.ts","main/lss/pages/components/Holiday/Holiday.styled.tsx","main/lss/pages/components/Holiday/HolidayDetailModal.styled.tsx","main/lss/pages/components/Holiday/HolidayDetailModal.tsx","main/lss/pages/components/Holiday/Holiday.tsx","main/lss/ManagementLssScreen.tsx","main/mag/ManagementMagImageUpload.js","main/mag/ManagementMagForm.js","api/BlackList.api.ts","slice/BlackListSlice.ts","main/blacklist/BlackTable.js","main/blacklist/BlackList.api.js","main/blacklist/MemberSearchModal.js","main/blacklist/BlackListContainer.js","main/blacklist/MemberTable.js","main/is-system/dvd/DvdLogModal.tsx","main/is-system/dvd/DvdContainer.tsx","main/is-system/event/EventTableContaner.js","main/is-system/itemLoan/ItemLoanLogModal.tsx","main/is-system/itemLoan/ItemLoanContainer.tsx","main/is-system/office/OfficeDetailContainer.js","main/is-system/tablet/TabletDetailContainer.js","main/ManagementIs.tsx","main/banner/BannerTable.tsx","main/banner/Banner.tsx","main/banner/RecommandTable.tsx","main/banner/Recommand.tsx","api/Lecture.api.ts","slice/LectureSlice.ts","main/is-system/lecture/LectureTable.tsx","main/is-system/lecture/LectureExcelAddForm.tsx","main/is-system/lecture/LectureModalText.tsx","main/is-system/lecture/LectureDetailModal.tsx","main/is-system/lecture/Lecture.tsx","main/ManagementScreen.tsx","main/ManagementUser.js","main/poll/ManagementPollContentCard.js","main/poll/ManagementPollTitleCard.js","main/poll/ManagementPollForm.js","main/poll/ManagementPollResult.js","main/statistic/event/requestEventStatistic.js","main/statistic/event/StatisticEventAgedChart.js","main/statistic/StatisticHttpService.js","main/statistic/event/StatisticEventPerEventDataSheet.js","main/statistic/event/StatisticEventPeriodChart.js","main/statistic/event/StatisticEventContainer.js","api/TotalLog.ts","slice/totalLogSlice.ts","main/statistic/event/StatisticEventPieChart.js","main/statistic/event/StaticsTotalLogs.js","main/statistic/StatisticDlsAgeStatisticChartComponent.js","main/statistic/StatisticDlsAgeStatisticSheetComponent.js","main/statistic/StatisticDlsStatisticChartContainer.js","main/statistic/StatisticContainer.js","main/statistic/ManagementStatic.js","main/is-system/lecture/LectureDetailForm.tsx","main/MainRouter.tsx","main/Navbar.tsx","main/Navsub.tsx","main/Main.tsx","main/poll/ManagementPollDetail.js","main/poll/ManagementPollComplete.js","main/NotFound.tsx","App.tsx","constants/SERVER_INFO.ts","store.ts","rootReducer.ts","index.tsx"],"names":["module","exports","AuthContext","createContext","AuthProvider","props","useState","sessionStorage","getItem","state","setState","useEffect","setItem","Provider","value","children","Copyright","document","body","className","Typography","variant","color","align","style","zIndex","margin","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","spacing","display","flexDirection","alignItems","avatar","width","form","marginTop","submit","SignInSide","classes","useContext","setIsAuth","id","setId","pw","setPw","Grid","container","component","classNames","loop","muted","autoPlay","playsInline","objectFit","top","padding","position","filter","src","backgroundVideo","type","Avatar","marginBottom","alt","logoImg","onError","error","currentTarget","noImg","cursor","fontFamily","fontWeight","fontSize","minWidth","noValidate","onSubmit","e","preventDefault","axios","get","params","adminID","trim","password","then","res","data","login","history","push","alert","catch","err","console","paddingRight","paddingLeft","marginLeft","UserOutlined","marginRight","maxWidth","border","borderRadius","textAlign","onChange","target","placeholder","LockOutlined","length","Button","fullWidth","boxShadow","Box","mt","DEV_SERVER","adminPW","kBodyWidth","MainFooter","GesIcon","getBanners","a","cur_page","banner_type","per_page","client_type","response","getBanner","banner_idx","createBanner","banner","log","post","modifyBanner","put","deleteBanner","delete","BANNER","fetchBanners","createAsyncThunk","fetchBanner","orderBanners","newOrder","returnOrder","forEach","order","idx","file_seq","slice","createSlice","name","initialState","banners","bannerDtoList","currentPage","totalPage","totalCount","file_info","reducers","editBanner","action","payload","setBannerType","addBannerFiles","files","addSingleBannerFiles","emptyBanner","undefined","emptyBanners","deleteFile","filtered","file","saved_file_name","extraReducers","fulfilled","response_body","actions","selectBanner","FormGuideComponent","title","guide","required","overflow","MenuGuide","subTitle","BannerDropzone","progress","setProgress","dispatch","useDispatch","dropzoneOptions","multiple","onDrop","acceptedFiles","config","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","formData","FormData","fileInfo","fileExt","split","pop","renamedFile","File","uuid","append","original_file_name","defaults","baseURL","accept","useDropzone","getRootProps","getInputProps","isDragAccept","size","strokeColor","percent","VideoWrapper","styled","ReactPlayer","BannerFile","getType","setGetType","includes","offsetSize","setOffsetSize","onLoad","offsetWidth","offsetHeight","onClick","Modal","info","modalRender","node","icon","closeIcon","maskClosable","closable","okButtonProps","okText","content","DeleteOutlined","attributes","controlsList","url","playing","heigth","BannerFilelist","bannerState","useSelector","onReorder","useCallback","Reorder","Group","axis","values","map","Item","whileDrag","scale","borderColor","BannerRangePicker","RangePicker","DatePicker","dateFormat","banner_start_date","moment","now","format","banner_end_date","add","BannerForm","match","useRouteMatch","useHistory","dashed","block","message","success","replace","RecommandImageForm","SimpleDcsDropZone","SimpleDcsForm","msg","ManagementBook","Option","Select","isLoading","setIsLoading","dataSource","setDataSource","setFilter","Number","parseInt","setCurrentPage","filterValue","setFilterValue","isUse","setIsUse","columns","dataIndex","key","render","item","record","text","index","to","pathname","mode","QuestionCircleOutlined","onConfirm","master_no","getBookIndex","onCancel","cancelText","useYN","setTimeout","books","selectFilter","defaultValue","span","checked","disabled","addonBefore","enterButton","onSearch","rowKey","loading","bordered","pagination","pageSize","current","api","SmartSearch","API","requestSmartSearch","keyword","curPageNo","perPage","Axios","SMART_SEARCH","fetchSmartSearch","current_page","smartSearchSlice","setKeyword","resetBooks","pending","description","toLowerCase","result","bookVoList","selectSmartSearch","PaginationWrapped","div","bottom","PaginationSvgButton","PaginationNumber","isActive","Pagination","totalPages","itemTypeToComponent","ITEM_TYPES","PAGE","isDisabled","ELLIPSIS","FIRST_PAGE_LINK","PREVIOUS_PAGE_LINK","NEXT_PAGE_LINK","LAST_PAGE_LINK","UltimatePaginationMaterialUi","createUltimatePagination","boundaryPagesRange","siblingPagesRange","hideFirstAndLastPageLinks","hidePreviousAndNextPageLinks","hideEllipsis","SmartSearchWrapped","visible","SmartSearchLi","li","SmartSearchUl","ul","CloseButton","NotFoundResult","ViewImage","img","noImage","SmartSearchText","SmartSearchCallNum","SmartSearchSpan","setVisible","page","setPage","setTotalPages","totalCnt","per","calPages","rest","returnPage","floor","calculateTotalPages","smartSearch","spinning","tip","mediaType","spc_code","imageUrl","call_no","ManagementBookForm","location","book","setBook","setGenre","setSpinning","isBack","setIsBack","inputKeyword","useRef","Form","useForm","genreSelectGenerator","setFieldsValue","spcCode","genre","author","publisher","publication_year","librarian_cmt","shelf_loc_name","inputStyle","AutoSearch","mKeyword","delayedQuery","_","debounce","q","onClickSearchLI","dataset","spccode","resBook","when","validateMessages","types","email","number","range","onFinish","goBack","noStyle","rules","autoComplete","readOnly","rows","maxLength","htmlType","requestLssGetForReturnDate","code_id","apiStrings","lss","returnDate","requestLssPutForMode","modeData","requestLssPutForReturnDate","returnData","requestLssGetForMode","equip_idx","requestLssGetForContents","contents","requestLssPostForContents","NoticeContent","requestLssPostForCaption","CaptionContent","requestLssPutForCaptionContents","requestLssPutForNoticeContents","requestLssDeleteForNoticeContents","lss_content_idx","lss_master_idx","requestLssDeleteForCaptionContents","CaptionContents","requestLssGetForHoliday","holiday","requestLssPutChangeForHolidy","HolidayElement","requestLssPatchChangeHoliday","patch","requestLssDeleteHoliday","requestLssPostHoliday","element","requestLssGetHolidayInfo","holidayInfo","caption","requestPutCaption","caption_idx","requestCreateCaption","requestGetCaption","requestGetCaptionList","requestDeleteCaption","CAPTION","fetchGetCaptionList","fetchCreateCaption","fetchGetCaption","fetchDeleteCaption","fetchPutCaption","captionSlice","desc","captionsList","isSpin","isProgress","setCaptionDesc","setCaptionTitle","setCaptionEquipIdx","setCaptionContents","setCaptionSelectedIdx","rejected","selectCaption","CaptionListWrapped","NoticeBox","isEdit","CaptionItemWrapped","isSelected","ItemsWrapped","DragIndicatorIconWrapped","DragIndicatorIcon","SpanIconWrapped","CaptionSpan","DeleteOutlinedWrapped","Wrapped","IconWrapped","DrawerTitle","memo","PlusCircleOutlined","reorder","list","startIndex","endIndex","Array","from","splice","removed","CaptionList","storeContents","captionIdx","setContents","captionList","seq","innerText","setCaptionList","selectedItemUUID","setSelectedItemUUID","selectedCaption","setSelectedCaption","editMode","setEditMode","InputTextRef","initData","$el","querySelector","addEventListener","classList","contains","resetDefaultState","CatpionContent","stopPropagation","JSON","parse","stringify","okType","ChangeModeComponent","onKeyDown","code","setValue","focus","preventScroll","ref","onPressEnter","inputText","sendData","onDragEnd","destination","fixedItems","source","droppableId","provided","snapshot","droppableProps","innerRef","set","onCaptionClick","draggableId","draggableProps","isDragging","draggableStyle","userSelect","grid","background","dragHandleProps","confirm","onOk","onCancle","ExclamationCircleOutlined","ManagementCaptionForm","equipIdx","equipList","setEquipList","setTitle","setDescription","applyEquip","setApplyEquip","equipIdxList","equipsIdxList","getEquipList","eqpType","formBlockStyle","showArrow","eqpName","keyboard","justifyContent","ContentsBtn","UploadWrapped","ManagementDcsFileUploadComponent","fileInfoForScreen","onChangeFileInfo","onSelectScreen","showUploadList","beforeUpload","customRequest","onSuccess","fileList","copiedFileList","file_status","duration","LayoutWrapped","Screen","flexGrow","Row","Col","Layout1000","Layout101","Layout102","Layout103","Layout104","Layout105","Layout106","Layout107","Layout108","Layout109","Layout110","ApplyLayout","layoutType","modalDcsPreview","sourceUrl","saveName","URL","createObjectURL","originFileObj","imagePlayer","videoPlayer","ManagementDcsContentsListComponent","setFileList","selectedScreen","setSelectedScreen","onChangeFileList","createSeqFileList","verticalAlign","substring","offset","isNaN","test","targetIdx","onChangeDuration","EyeOutlined","copiedFile","onDeleteFile","fontStyle","ManagementDcslayout","onChangeLayout","dcsType","setDcsType","HorizontalLayoutComponent","colStyle","defaultActiveKey","TabPane","tab","layout101","layout102","layout103","layout104","layout105","layout106","layout107","layout108","layout109","layout110","layout1000","NumberInput","Input","ManagementDcsPlaylistTimeControlPanelWrapped","ManagementDcsPlaylistTimeControlPanel","setPlayDuration","inputValue","setInputValue","suffix","min","Overray","ProgressWrapped","UploadingProgressIndicator","progressPercentage","ManagementDcsFormV2","isLayoutModal","setIsLayoutModal","setLayoutType","dcsEquipList","setDcsEquipList","immutableDcsEquipList","setImmutableDcsEquipList","dcsSelectedEquip","setDcsSelectedEquip","setFileInfo","setSelectedFileList","setIsProgress","setProgressPercentage","dspType","setDspType","dcsTitle","setDcsTitle","setMode","setCmsMasterIdx","playDuration","usePreventLeave","enablePrevent","disablePrevent","setRecord","getDcsEquipList","Object","keys","sort","b","screenId","fileType","startsWith","rotationTime","layout_type","cSubject","master_idx","getAppliedEquipList","getFileInfo","cms_master_idx","cmsMasterIdx","appliedEquipList","fileInfoKeys","dcsList","fikIdx","file_type","String","uid","org_name","ref_idx","onChangeEquip","fileInfoParam","tempFileInfo","screen","footer","ManagementDcsLayout","layoutTypeParam","dspTypeParam","screen1","screen2","screen3","i","entries","cContents","cType","ManagementDcsContentsList","copiedFileInfo","assign","getAll","settingAllPower","getAllSync","settingAllUse","eqpIsPowerBatch","settingAllPowerTime","eqpPowerStartTime","eqpPowerEndTime","settingAllDays","eqpPowerWeekday","getCurrSync","eqpOS","pwrMgtAddress","getReset","settingSysReservation","currStartTime","currEndTime","controlCurrPower","status","EquipItem","sys","ict","os","WindowsFilled","AndroidFilled","prompt","Constants","eqpCPU","eqpMEM","eqpIP","EquipList","EquipListTab","DisplaySysName","power","selected","usage","PowerSettingsNewOutlined","AccessTimeOutlined","SettingUsageAndTime","getEquipIndex","startTime","endTime","complete","setComplete","start","totalTime","diff","formatedTime","utc","h","hour","toggleChange","usingReservation","sendTime","time","timeType","checkedChildren","unCheckedChildren","strokeWidth","onSelect","prevData","SettingOperation","LoadingSpin","powerBatch","BTN_STYLE","powerOnOffHandler","placement","PowerOutlined","PowerOffOutlined","SyncOutlined","SettingTime","allPowerTime","setAllPowerTime","shape","DaysItem","day","SettingDays","pickedDays","picked","setPicked","setLoading","daysSettingHandler","sortedArr","toString","find","el","Boolean","d","prev","OperationManagement","statusIcon","mem","cpu","powerOn","OPERATION_DIV","SmileOutlined","MehOutlined","SelectedSysControl","sysName","syncSpinning","setSyncSpinning","resetSpinning","setResetSpinning","antIcon","LoadingOutlined","spin","SYS_BTN","resetHandler","syncHandler","powerHandler","PoweroffOutlined","RedoOutlined","indicator","RightOutlined","CloudSyncOutlined","Header","Layout","Sider","Content","EquipManageTab","setIndex","powerYN","memNumber","cpuNumber","ManagementEquip","Tabs","setPowerBatch","allUse","some","activeKey","animated","ManagementEquipForm","SN","eqpID","eqpCpuCore","eqpCpuHz","eqpUniqueID","eqpPowerModule","onClose","initialValue","hidden","Help","getDvdLists","getDvdDetail","room_seq","deleteDvdItem","postDvdItem","putDvdItem","postCancelReserve","postRoomReserve","getDvdLogs","DVD","DvdSlice","room_name","use_flag","bookable_count","start_time","end_time","hours_of_use","select_count","setDvdRoomName","setDvdDetail","selectDvdSlice","DvdDailyAddForm","available_time","setAvailable_time","tabKey","daily","setDaily","days","reset","arr","fill","settingWeekday","weekend","endIdx","startIdx","settingDailyTime","DvdAddForm","setStartTime","setEndTime","maxHour","setMaxHour","maxCount","setMaxCount","currVal","setCurrVal","sameEveryday","setSameEveryday","setHoursOfUse","status_code","destroyInactiveTabPane","validateStatus","help","max","useGetDvdDetail","getDvdDetailData","useGetDvdList","getReserverDate","getUser","user_key","card_password","USER","fetchUser","user","birthDay","is_user_id","is_user_nm","is_user_phone","is_user_no","is_user_birth","reg_date","is_user_pwd","userDvdReserveTimes","userRoomSeq","userRoomName","resetUser","setUserPassword","pwd","setUserDvdReserveTimes","setUserDvdEndTimes","userDvdEndTimes","setUserRoomSeq","setUserRoomName","roomName","selectUser","DvdMakeReservation","openModal","setIsModal","selectedTimes","onReserveRoom","changeRoomName","sortedData","_item","_record","closeModal","DvdDetailForm","rooms","setChangeRoomName","mStartTime","setmStartTime","mEndTime","setmEndTime","mUseFlag","setmUseFlag","mHours","setmHours","mCount","setmCount","availableTime","setAvailableTime","totalHour","setTotalHour","selectedRowkeys","setSelectedRowkeys","setSelectedTimes","isModal","setErr","parsedUserNo","extractHour","separator","bookedUser","bookable","warning","onFix","end","putData","onDeleteClick","onChangeInput","rowSelection","selectedObj","getCheckboxProps","obj","selectedRows","maxSeq","hideSelectAll","userKey","reserve_time","userInfo","userNo","reserveInfo","details","onCancelReserve","isY","user_name","label","expandIcon","SettingOutlined","rotate","Panel","header","CaretDownOutlined","isNull","danger","autoFocus","EventPosterUploadComponent","previewVisible","setPreviewVisible","previewImage","setPreviewImage","getBase64","eventPoster","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","handlePreview","preview","listType","onPreview","UploadOutlined","EventDetailComponent","eventMaster","eventTarget","event_master_idx","event_title","event_description","event_apply_start_date","event_apply_end_date","event_activity_start_date","event_activity_end_date","daysStr","dayArray","daysStrArray","covertDays","event_activity_weekday","event_activity_start_time","event_activity_end_time","event_place","age","getAgeName","event_target_age","event_target_sex","event_is_group","event_group_limit_cnt","event_is_public","EventDetailEnrolleeListComponent","getEvent","enrolleeList","setEnrolleeList","eventApplicantState","setEventApplicantState","formatPhoneNumber","eventValues","event_applicant_state","event_applicant_idx","getEnrolleeList","EventDetailContainer","event","setEvent","sendImages","getEventPoster","event_poster","event_poster_file_name","extension","tempFileList","imageList","event_master","event_target","deleteEvent","EventFormComponent","eventIsGroup","setEventIsGroup","maxGroupCnt","setMaxGroupCnt","event_applicant_limit_cnt","event_apply_period_date","event_activity_period_date","event_activity_time","rangeConfig","startDate","endDate","initialValues","formatter","EventFormContainer","ItemLoanDetailMasterBlockComponent","itemMaster","blockScheduleList","setItemMaster","datePickerValue","setDatePickerValue","getClosureSchedule","closureList","setClosureList","block_start_date","block_end_date","blockPeriod","setBlockPeriod","disabledDate","closure","closure_date","startOf","renderExtraFooter","Map","toJS","renderItem","CaretRightOutlined","deleteBlockPeriod","ItemLoanDetailMasterEquipComponent","selectedEquipList","ItemLoanDetailMasterLoanReturnStatusComponent","item_master_loan_mode","item_master_loan_days","item_master_end_date","ItemLoanDetailMasterOperationTimeComponent","item_master_operation_start_time","item_master_operation_end_time","isEditable","setIsEditable","timeValue","setTimeValue","item_master_idx","ItemLoanDetailMasterStatusComponent","isBlockSettingVisible","setIsBlockSettingVisible","modifyIsItemMasterIsBlock","direction","item_master_is_block","item_master_is_block_origin","trigger","ItemLoanDetailMasterComponent","setSelectedEquipList","item_master_subject","item_master_desc","total_item_cnt","item_status_state","is_item_loaning_cnt","is_item_ready_cnt","is_reserve_cnt","is_inspection_cnt","is_block_cnt","group_concat_equip_idx","item_master_is_editable","getIsEquipList","YN","item_master_is_del","ItemLoanDetailPropStatusComponent","itemDetail","isVisible","setIsVisible","modifyIsItemPropState","itemDetailParam","calcLeftTime","item_prop_subject","reserve_left_time","reserve_left_time_for_office","minutes","PropsStateComponent","FilterObject","this","item_prop_uuid","start_date","end_date","user_id","ItemLoanDetailItemHistoryComponent","is_user_info","item_prop_idx","item_prop_reg_date","item_prop_seq","item_status_is_sys","item_status_reg_date","item_status_start_dttm","item_status_user","isItemHistoryModal","setIsItemHistoryModal","getItemHistory","histList","FilterOutlined","allowClear","ItemLoanDetailItemComponent","item_status_end_dttm","ItemLoanDetailContainer","itemList","getItemMasterAndStatus","sortBy","ItemLoanItemEditor","items","setItems","item_prop_desc","getTime","addonAfter","deleteItem","ItemLoanForm","loanMode","setLoanMode","loan_idx","getLoanItem","closureDate","closureDateBoolean","itemMasterIdx","LoanModeComponent","animation","itemArray","resultMap","getItemLoanList","getItemLoanDetail","deleteItemLoan","postItemLoan","putItemLoan","postReturnReserve","postItemLoanReserve","getItemLoanLogs","ITEMLOAN","ItemLoanSlice","item_name","setItemLoanName","setItemLoanDetail","selectItemLoanSlice","ItemDailyAddForm","ItemLoanAddForm","item_seq","useGetItemDetail","getItemDetailData","useGetItemList","ItemLoanMakeReservation","ItemLoanDetailForm","changeItemName","setChangeItemName","onReturnReserve","EnterOutlined","LSS_DETAIL","fetchGetDefaultInfo","args","fetchPutMode","fetchGetReturnDate","fetchPutReturnDate","codeName","fetchGetContents","fetchPutCaptionContents","fetchPostNoticeContents","fetchPostCaptionContents","fetchPutNoticeContents","fetchDeleteNoticeContents","fetchDeleteCaptionContents","fetchGetHoliday","fetchPutChangeHoliday","fetchPatchChangeHoliday","fetchDeleteHoliday","fetchPostHoliday","fetchGetHolidayInfo","lssSlice","notice","LegalHoliday","date","period1","period2","setEquipIdx","setReturnDate","setEqpName","NOTICE","휴일","공휴일","selectLssDetail","RadioMode","prevMode","setPrevMode","onConfirmPutMode","onChangeMode","onCancelMode","Inner","Title","InputNumberWrapped","InputNumber","ReturnDateComponent","onChangeDate","onChangeDateSave","codeGroup","codeID","InnerWrapped","TabsWrapped","TabWrapped","SpanWrapped","SettingIconWrapped","CalendarIconWrapped","CalendarOutlined","IconButton","RedIconButton","BaddgeWrapped","CardWrapped","Card","DeleteIcon","TextFieldsWrapped","TextArea","NoticeCards","is_used","modeState","setModeState","setIsDisabled","isUsed","setIsUsed","lssContentIdx","setLssContentIdx","lssMasterIdx","mContent","setmContent","prevContent","setPrevContent","textRef","onNoticeContentPutChange","fixedData","onChangeUsed","onChangeText","onSaveText","resizableTextArea","onDeleteIcon","onNoticeDelete","Textfields","styles","autoSize","maxRows","cols","BadgeIcon","ModifyIconBtn","EditOutlined","UsedIconBtn","CheckOutlined","DeleteIconBtn","card","cover","CardsWrapped","TextWrapped","DrawerWrapped","Drawer","SettingTwoTone","TextAreaWrapped","Notice","selectedContent","selectedContents","setSelectedContents","o","useGetUsedNotice","onClickAddIcon","twoToneColor","drawer","getContainer","maskStyle","CaptionWrapped","CaptionItems","Caption","TitleWrapped","SelectWrapped","RadioWrapped","RadioAntWrapped","Radio","RadioButtonAntWrapped","RadioTitle","h2","ExplanWrapped","MonthWrapped","WeeklyWrapped","FortnightlyWrapped","BaseDateWrapped","ChangeButton","RadioGroupWrapped","DatePickerWrapped","TitleTextWrapped","p","SelectGroupWrapped","ArticleWrapped","article","FooterWrapped","MainWrapped","main","useGenerateDayOfTheWeekKey","dayOfTheWeek","keyOfWeek","setKeyOfWeek","weekData","HolidaySettingModal","setHolidayInfo","prevHolidayInfo","setPrevHolidayInfo","dayOfWeek","setDayOfWeek","WeekCnt","OddEven","Text","onCancelHolidayInfo","getPopupContainer","parentElement","handleCancel","SelectComponent","init","options","RadioComponent","BaseDayComponent","picker","dateRender","sunday","onMouseOver","oddOrEven","oddeven","querySelectorAll","setProperty","onMouseOut","TitleComponent","strong","underline","useMotionOpacity","framterControl","opacity","transition","DateWrapped","RangePickerWrapped","InnerColumnButton","DivideWrapped","Divider","ButtonWrapped","InputWrapped","MotionDivWrapped","motion","useMotionMovingAxisY","y","HolidayAddModal","selectedDate","addForHolidayDate","setAddForHolidayDate","startMonth","startDay","endMonth","endDay","addForInputDesc","setAddForInputDesc","selectedDateInCalendar","ModalControls","useAnimation","StartTitleControls","EndTitleControls","animate","justify","h1","onCalendarChange","startday","useGenerateHolidayUuid","Holiday","Legal","holidayArray","setHolidayArray","badge","badgeType","getDatesStartToLast","regex","RegExp","curDate","toISOString","setDate","getDate","getIncludesHolidayOfDay","parentItem","ArrayStartAndEnd","period","SetupIconWrapped","HeaderWrapped","BadgeWrapped","HeaderButtonWrapped","TitileDescWrapped","HolidayDetailModal","setDesc","setStartDate","setEndDate","Footer","onChangeConfirm","onDeleteConfirm","onUsedChange","onDescChange","defaultChecked","settingModalVisible","setSettingModalVisible","addModalVisible","setAddModalVisible","detailModalVisible","setDetailModalVisible","selectedModalData","setSelectedModalData","setSelectedDate","DrawCalendarColor","$title","timerId","clearTimeout","showAddModal","showModal","onClickHoliday","HolidayBadgeItem","onMouseEnter","toggle","badgeActive","onMouseLeave","onPanelChange","PlusCircleTwoTone","calendar","fullscreen","dateCellRender","holidays","ManagementLssScreen","setTabKey","isVisibleNotice","setIsVisibleNotice","isVisibleCaption","setIsVisibleCaption","myeqid","exec","EquipIdx","ReturnDate","ManagementMagImageUpload","setParentImageList","setImageList","Dragger","Upload","draggerProps","showPreviewIcon","showDownloadIcon","showRemoveIcon","ManagementMagForm","isSpinning","setIsSpinning","getMagEquipList","getFileList","equip","duration_sec","mag_idx","orgName","modifyImages","doneInfo","uploadingInfo","registBlackList","extendBlackList","cancelBlackList","getBanList","BLACKLIST","fetchExtendBlackList","fetchCancelBlackList","fetchGetBlackList","banList","selectBlackList","BlackTableWrapped","BlackTable","blackList","black_type","_idx","search_type","extend_day","PlusOutlined","postBlackList","ActionWrapped","MemberSearchModal","setUser","setInputText","stateCode","setStateCode","setType","findUser","getUserFromLas","destroyOnClose","centered","labelStyle","BlackListContainerWrapped","TableWrapped","BlackListContainer","DvdLogModal","isDvdModal","setUserKey","setUserName","okOk","mStart","mEnd","DvdContainer","_dataSource","EventTableContaner","eventStatus","setEventStatus","keywordInput","getPrograms","clearableInput","event_applicant_total_cnt","onRow","rowIndex","onDoubleClick","onContextMenu","ItemLoanLogModal","ItemLoanContainer","pageNumber","OfficeDetailContainer","TabletDetailContainer","ManagementIs","BannerTable","Banner","RecommandTable","Recommand","getLectureByType","getLectureListByType","type_seq","getLectureDetail","lecture_seq","LECTURE","fetchLectureCategory","fetchLectureList","fetchLectureDetail","lectureSlice","categoryList","lectureList","lectureDetail","lectureTypeSeq","method","instructor","recruitmentCount","roomNo","weekDay","lectureTime","materialCosts","resetLectureDetail","selectLectureSlice","LectureTable","pickedType","something","no","defaultPageSize","LectureExcelAddForm","isExcel","DetailHeader","LectureModalText","field","LectureDetailModal","handleDetailModal","Lecture","pickedCategory","setPickedCategory","ManagementScreen","ManagementUser","whitespace","Password","ManagementPollContentCard","onChangeQuestion","onChangeItemType","onDeleteItem","questionId","questionTitle","setQuestionTitle","addQuestions","closeIconStyle","StyledAddElementButton","AddElementButton","addProps","copiedQuestions","question_id","item_id","minHeight","question","onDeleteQuestion","borderBottom","ManagementPollTitleCard","pollTitle","setPollTitle","pollDesc","setPollDesc","useYn","setUseYn","input","borderTop","borderTopRightRadius","borderTopLeftRadius","resize","ManagementPollForm","master_id","masterId","createQuestion","getPollDetail","questions","copiedItems","isDraggingOver","question_title","offsetBottom","float","ResultTitleCard","response_cnt","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","radius","x","cos","sin","textAnchor","dominantBaseline","toFixed","ResultContentCard","questionResults","setQuestionResults","isNarrativeModal","setIsNarrativeModal","questionResultsIdx","setQuestionResultsIdx","narrativeResultList","setNarrativeResultList","cardStyle","answer","resultList","questionResultMap","dataList","formattingName","answer_cnt","labelLine","legendType","entry","randomColor","luminosity","layout","iconSize","iconType","dataKey","hide","onClickNarrative","MoreOutlined","ManagementPollResult","getQuestionResultTitle","getQuestionResults","pollIndex","requestEventStatisticPerDayForChart","subtract","StatisticEventAgedChart","agedData","strokeDasharray","domain","allowDecimals","unit","requestExportExcel","responseType","blob","Blob","blobURL","window","tempLink","createElement","setAttribute","appendChild","click","removeChild","revokeObjectURL","StatisticEventPerEventDataSheet","FileExcelOutlined","StatisticEventPeriodChart","periodData","stackId","StatisticEventContainer","chartData","setChartData","sheetData","setSheetData","setAgedData","getChartData","getSheetData","getAgedData","SITE","requestLogInfo","code_name","site","TOTAL_LOG","fetchRawTotalLog","totalLogSlice","rawChartData","setLogDate","selectTotalLog","Wrapper","StatisticEventPieChart","backClick","count","StaticsTotalLogs","drawData","setDrawData","rawData","array","dummy","StatisticDlsAgeStatisticChartComponent","setPeriodData","getDlsAgeStatisticForChart","datas","finally","StatisticDlsAgeStatisticSheetComponent","fillDateInTable","requestDlsAgeStatisticForSheet","StatisticDlsStatisticChartContainer","StatisticContainer","ManagementStatic","LectureDetailForm","MainRouter","exact","path","Menu","active","Navbar","_pathname","useLocation","Navsub","HomeOutlined","clear","LogoutOutlined","Main","isAuth","interceptors","request","use","TitleCard","setPollDescription","oncontextmenu","button","pollDescription","ManagementPollDetail","setQuestions","answers","setAnswers","userId","pollMaster","radioStyle","lineHeight","onChangeAnswer","theAnswer","copiedAnswers","removeTargetIdx","shift","paddingTop","ManagementPollComplete","NotFound","App","locale","ko_KR","paramsSerializer","qs","GES_DEV","LOCALHOST","TAK","NONHYEON","SAMCHEOK_LEARNINGCENTER","SERVER_URL","PROD","DEV","rootReducer","combineReducers","router","connectRouter","LssSettingsReducer","CaptionSettingsReduecer","SmartSearchSettingsReducer","BannerReducer","TotalLogReducer","ItemLoanSliceReducer","DvdSliceReducer","userReducer","blackListReducer","createRootReducer","createHashHistory","process","createLogger","level","collapsed","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","concat","logger","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.66e481b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sunday\":\"HolidaySettingModal_sunday__22QM9\",\"day\":\"HolidaySettingModal_day__2afKP\",\"picker\":\"HolidaySettingModal_picker__2g33z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calendar\":\"Holiday_calendar__hDjKi\",\"badgeActive\":\"Holiday_badgeActive__20zbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"NoticeCards_text__2yFNw\",\"card\":\"NoticeCards_card__32IwB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Notice_drawer__3ooSJ\",\"text\":\"Notice_text__1fp9X\"};","import React, { createContext, useState, useEffect } from 'react';\r\n\r\n// Context구현 참고 사이트\r\n// https://velopert.com/3606\r\n// https://www.robinwieruch.de/react-usecontext-hook\r\n// https://upmostly.com/tutorials/how-to-use-the-usecontext-hook-in-react\r\n\r\nconst AuthContext = createContext<\r\n  [boolean, React.Dispatch<React.SetStateAction<boolean>>]\r\n>([false, () => {}]);\r\n\r\nconst AuthProvider = (props: {\r\n  children:\r\n    | boolean\r\n    | React.ReactChild\r\n    | React.ReactFragment\r\n    | React.ReactPortal\r\n    | null\r\n    | undefined;\r\n}) => {\r\n  const [state, setState] = useState(\r\n    sessionStorage.getItem('isAuth') == 'true'\r\n  );\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem('isAuth', state ? 'true' : 'false');\r\n  }, [state]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={[state, setState]}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","export default __webpack_public_path__ + \"static/media/cms_as_logo.1cc11a3b.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/01.59580efe.png\";","export default __webpack_public_path__ + \"static/media/01.fe77914d.png\";","export default __webpack_public_path__ + \"static/media/02.275ce6f2.png\";","export default __webpack_public_path__ + \"static/media/03.2981c9ec.png\";","export default __webpack_public_path__ + \"static/media/04.73dd7eba.png\";","export default __webpack_public_path__ + \"static/media/05.477008fc.png\";","export default __webpack_public_path__ + \"static/media/06.91190d18.png\";","export default __webpack_public_path__ + \"static/media/07.0829df2d.png\";","export default __webpack_public_path__ + \"static/media/08.dff77f7a.png\";","export default __webpack_public_path__ + \"static/media/09.d9402bc9.png\";","export default __webpack_public_path__ + \"static/media/02.a639411d.png\";","export default __webpack_public_path__ + \"static/media/03.ea6a65d2.png\";","export default __webpack_public_path__ + \"static/media/04.79936b05.png\";","export default __webpack_public_path__ + \"static/media/05.578d0fe0.png\";","export default __webpack_public_path__ + \"static/media/06.7803ebc4.png\";","export default __webpack_public_path__ + \"static/media/07.a6ca6a54.png\";","export default __webpack_public_path__ + \"static/media/08.0b7557f4.png\";","export default __webpack_public_path__ + \"static/media/09.230c819a.png\";","export default __webpack_public_path__ + \"static/media/10.8a658a37.png\";","export default __webpack_public_path__ + \"static/media/1000.66447d06.png\";","export default __webpack_public_path__ + \"static/media/login_background_video.34993fce.mp4\";","import { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Input } from \"antd\";\r\nimport axios from \"axios\";\r\nimport classNames from \"classnames\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport logoImg from \"../images/cms_as_logo.png\";\r\nimport { noImg } from \"../main/CommonImage\";\r\nimport backgroundVideo from \"../video/login_background_video.mp4\";\r\nimport \"./SignInSide.css\";\r\n\r\nfunction Copyright() {\r\n  useEffect(() => {\r\n    document.body.className = \"cms-login\";\r\n  }, []);\r\n\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"textSecondary\"\r\n      align=\"center\"\r\n      style={{ zIndex: 2 }}\r\n    >\r\n      {/* {'Copyright © '} */}\r\n      <span style={{ color: \"white\", margin: \"0px 5px\" }}>\r\n        {/* Intelligent Management System | */}\r\n        Contents Management System |\r\n      </span>\r\n      <span style={{ color: \"white\" }}>Copyright © </span>\r\n      <a color=\"inherit\" href=\"http://greeneffect.co.kr/\">\r\n        GreenEffect\r\n      </a>{\" \"}\r\n      <span style={{ color: \"white\" }}>{new Date().getFullYear()}</span>\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: \"url(https://source.unsplash.com/random)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor: theme.palette.grey[50],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: \"white\",\r\n    width: \"80px\",\r\n    height: \"80px\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignInSide(props: any) {\r\n  const userInfo = {\r\n    id: \"admin\",\r\n    pw: \"1234\",\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const [isAuth, setIsAuth] = useContext(AuthContext);\r\n\r\n  const [id, setId] = useState(\"\");\r\n  const [pw, setPw] = useState(\"\");\r\n\r\n  const onChangeId = (e: any) => {\r\n    setId(e.target.value);\r\n  };\r\n\r\n  const onChangePw = (e: any) => {\r\n    setPw(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .get(`/user/login`, {\r\n        params: {\r\n          adminID: id.trim(),\r\n          password: pw.trim(),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if ((res.data as any).login === \"Y\") {\r\n          setIsAuth(true);\r\n          sessionStorage.setItem(\"userInfo\", id);\r\n          props.history.push(\"/\");\r\n        } else {\r\n          alert(\"ID와 비밀번호를 정확히 입력해주세요\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      {/* <CssBaseline /> */}\r\n      {/* <Grid item xs={false} sm={4} md={7} className={classes.image} /> */}\r\n      <div className={classNames(classes.paper, \"w-screen h-screen\")}>\r\n        <video\r\n          loop\r\n          muted\r\n          autoPlay\r\n          playsInline\r\n          style={{\r\n            objectFit: \"cover\",\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n            top: 0,\r\n            padding: \"none\",\r\n            position: \"fixed\",\r\n            filter: \"brightness(40%)\",\r\n            zIndex: 0,\r\n          }}\r\n        >\r\n          <source src={backgroundVideo} type=\"video/mp4\" />\r\n        </video>\r\n        <Avatar\r\n          className={classes.avatar}\r\n          style={{ zIndex: 2, marginTop: \"10%\", marginBottom: \"20px\" }}\r\n        >\r\n          {/* <ImportContactsIcon style={{ color: 'green', fontSize: '2.5em' }} /> */}\r\n          <img\r\n            alt=\"chungnam_logo\"\r\n            src={logoImg}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n            style={{\r\n              width: \"100%\",\r\n            }}\r\n          />\r\n        </Avatar>\r\n        <Typography\r\n          component=\"h1\"\r\n          variant=\"h5\"\r\n          style={{\r\n            zIndex: 2,\r\n            color: \"white\",\r\n            cursor: \"default\",\r\n            // fontFamily: 'bmjua',\r\n            fontFamily: \"yun350\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"2.5em\",\r\n          }}\r\n        >\r\n          CMS LOGIN\r\n        </Typography>\r\n        <Typography\r\n          component=\"h4\"\r\n          variant=\"h5\"\r\n          style={{\r\n            zIndex: 2,\r\n            color: \"white\",\r\n            cursor: \"default\",\r\n            fontFamily: \"yun350\",\r\n            fontSize: \"1.5em\",\r\n          }}\r\n        >\r\n          {/* Namdong Nonhyeon Public Library */}\r\n          {`Samcheock City Lifelong Learning Center`}\r\n        </Typography>\r\n\r\n        <div\r\n          style={{\r\n            width: \"30%\",\r\n            minWidth: \"400px\",\r\n            zIndex: 99,\r\n            marginTop: \"20px\",\r\n          }}\r\n        >\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            onSubmit={handleSubmit}\r\n            style={{\r\n              zIndex: 2,\r\n              paddingRight: \"20px\",\r\n              paddingLeft: \"20px\",\r\n              marginLeft: \"-20px\",\r\n            }}\r\n          >\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <span style={{ marginTop: \"3px\" }}>\r\n                <UserOutlined\r\n                  style={{\r\n                    fontSize: \"2.5em\",\r\n                    color: \"white\",\r\n                    marginRight: \"10px\",\r\n                    position: \"relative\",\r\n                    top: \"7px\",\r\n                  }}\r\n                />\r\n              </span>\r\n              <Input\r\n                className=\"loginInput\"\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"#ffffff22\",\r\n                  fontSize: \"1.5em\",\r\n                  height: \"60px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  border: \"3px solid white\",\r\n                  borderRadius: \"30px\",\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"bmjua\",\r\n                }}\r\n                onChange={onChangeId}\r\n                placeholder=\"아이디\"\r\n              />\r\n            </div>\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <LockOutlined\r\n                style={{\r\n                  fontSize: \"2.5em\",\r\n                  color: \"white\",\r\n                  marginRight: \"10px\",\r\n                  position: \"relative\",\r\n                  top: pw.length > 0 ? \"8px\" : \"11px\",\r\n                }}\r\n              />\r\n              <Input\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"#ffffff22\",\r\n                  fontSize: \"1.5em\",\r\n                  border: \"3px solid white\",\r\n                  height: \"60px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  borderRadius: \"30px\",\r\n                  textAlign: \"center\",\r\n                  fontFamily: \"bmjua\",\r\n                }}\r\n                onChange={onChangePw}\r\n                placeholder=\"비밀번호\"\r\n                type=\"password\"\r\n                className=\"loginInput\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <LockOutlined\r\n                style={{\r\n                  fontSize: \"2.5em\",\r\n                  color: \"transparent\",\r\n                  marginRight: \"10px\",\r\n                }}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"default\"\r\n                style={{\r\n                  backgroundColor: \"#ffffff !important\",\r\n                  height: \"50px\",\r\n                  borderRadius: \"30px\",\r\n                  maxWidth: \"662px\",\r\n                  minWidth: \"250px\",\r\n                  width: \"85%\",\r\n                  boxShadow: \"inset -5px -4px 3px #a8a19c\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                className={classes.submit}\r\n              >\r\n                <span\r\n                  style={{\r\n                    fontSize: \"1.5em\",\r\n                    fontWeight: \"bold\",\r\n                    fontFamily: \"bmjua\",\r\n                    cursor: \"pointer\",\r\n                    color: \"#444444\",\r\n                  }}\r\n                >\r\n                  로그인\r\n                </span>\r\n              </Button>\r\n            </div>\r\n\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n}\r\n","// export const DEV_SERVER = 'http://192.168.0.250:28080';\r\n// export const DEV_SERVER = 'http://localhost:28080'; // 영탁 자리\r\n// export const DEV_SERVER = 'http://192.168.0.202:28080'; // 영훈 자리\r\nexport const DEV_SERVER = 'http://183.102.131.99:28080'; // 개발팀\r\n// export const DEV_SERVER = 'http://183.102.131.99:52528'; // 영훈자리\r\n\r\n// export const DEV_SERVER = 'http://192.168.0.55:28080'; // 영탁 자리\r\n// export const DEV_SERVER = \"http://192.168.0.117:8080\";\r\n// export const DEV_SERVER = \"http://110.47.104.221:28080\";\r\n// export const DEV_SERVER = 'http://210.223.104.61:60014'; // 아양 외부\r\n// export const DEV_SERVER = \"http://10.10.10.15:28080\"; // 아양 내부\r\n// export const DEV_SERVER = 'http://192.168.10.21:28080'; // 임실 내부\r\n\r\n// export const DEV_SERVER = 'http://192.168.11.238:28080'; // 논현 내부\r\n// export const DEV_SERVER = 'http://211.226.147.37:28080'; // 논현 외부\r\n\r\n// export const DEV_SERVER = 'http://10.10.64.51:28080'; // 아산 내부\r\n\r\n// export const DEV_SERVER = 'http://10.40.10.21:28080'; // 원주 내부\r\n// export const DEV_SERVER = 'http://175.206.27.230:28080'; // 원주 외부\r\n\r\n// export const DEV_SERVER =\r\n//   'http://ec2-13-209-22-111.ap-northeast-2.compute.amazonaws.com:28080';\r\n\r\nexport const adminPW = 'green@2020';\r\n\r\nexport const TABLET_ITEM_MASTER_IDX = '47';\r\nexport const OFFICE_ITEM_MASTER_IDX = '48';\r\n\r\nexport const kBodyWidth = 1130;\r\n","export default __webpack_public_path__ + \"static/media/greeneffect_icon.49dfbd0e.png\";","import classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport GesIcon from \"../images/greeneffect_icon.png\";\r\nimport { kBodyWidth } from \"./Constants\";\r\n\r\nexport default function MainFooter() {\r\n  return (\r\n    <div\r\n      className={classNames(\"h-full\", \"flex items-center\")}\r\n      style={{ width: kBodyWidth }}\r\n    >\r\n      <a\r\n        color=\"white\"\r\n        href=\"http://greeneffect.co.kr/\"\r\n        className={classNames(\"w-28\")}\r\n      >\r\n        <img src={GesIcon} alt=\"gesicon\" />\r\n      </a>\r\n      <div className={classNames(\"text-white ml-10\")}>\r\n        CMS ©2020 Created by {/* IMS ©2020 Created by{' '} */}\r\n        <a color=\"white\" href=\"http://greeneffect.co.kr/\">\r\n          GreenEffectSolution\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { orderBanners } from '../slice/BannerSlice';\r\nimport { BannerBody } from '../types/Banner';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\nimport { BannerDtoList } from './../types/Banner';\r\n\r\nexport const getBanners = async ({ cur_page, banner_type = 'EVENT' }: { cur_page: number; banner_type: 'EVENT' | 'RECOMMEND' | 'CULTURE' | 'MULTI' }) => {\r\n  const response = await axios.get<ResponseVo<BannerBody>>(`/banners`, {\r\n    params: {\r\n      per_page: 10,\r\n      cur_page,\r\n      client_type: 'cms',\r\n      banner_type,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getBanner = async ({ banner_idx }: { banner_idx: string }) => {\r\n  const response = await axios.get<ResponseVo<BannerDtoList>>(`/banners/${banner_idx}`);\r\n  return response.data;\r\n};\r\n\r\nexport const createBanner = async ({ banner }: { banner?: BannerDtoList }) => {\r\n  if (!banner) return;\r\n  console.log('aaa');\r\n  console.log(banner);\r\n\r\n  const response = await axios.post<ResponseVo<any>>(`/banners`, banner);\r\n\r\n  return response;\r\n};\r\n\r\nexport const modifyBanner = async ({ banner }: { banner?: BannerDtoList }) => {\r\n  if (!banner) return;\r\n\r\n  const response = await axios.put<ResponseVo<any>>(`/banners/${banner.banner_idx}`, banner);\r\n\r\n  return response;\r\n};\r\n\r\nexport const deleteBanner = async ({ banner_idx }: { banner_idx: number }) => {\r\n  const response = await axios.delete<ResponseVo<any>>(`/banners/${banner_idx}`);\r\n  return response;\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { getBanner, getBanners } from '../api/banner.api';\r\nimport { BannerBody } from '../types/Banner';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\nimport { BannerDtoList, FileInfo } from './../types/Banner';\r\n\r\nexport const BANNER = 'banner' as const;\r\n\r\ntype SliceState = {\r\n  banners: BannerBody;\r\n  banner?: BannerDtoList;\r\n};\r\n\r\ntype PayloadType = {\r\n  [BANNER]: SliceState;\r\n};\r\n\r\nexport const fetchBanners = createAsyncThunk(`${BANNER}/fetchBanners`, getBanners);\r\n\r\nexport const fetchBanner = createAsyncThunk(`${BANNER}/fetchBanner`, getBanner);\r\n\r\nexport const orderBanners = (newOrder?: FileInfo[]) => {\r\n  if (!newOrder) return;\r\n  const returnOrder: FileInfo[] = [];\r\n  newOrder.forEach((order, idx) => {\r\n    returnOrder.push({ ...order, file_seq: idx } as FileInfo);\r\n  });\r\n  return returnOrder;\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: BANNER,\r\n  initialState: {\r\n    banners: {\r\n      bannerDtoList: [],\r\n\r\n      currentPage: 1,\r\n      totalPage: 1,\r\n      totalCount: 0, //\r\n    },\r\n    banner: {\r\n      banner_type: 'EVENT',\r\n      file_info: [],\r\n    },\r\n  } as SliceState,\r\n  reducers: {\r\n    editBanner: (state: SliceState, action: PayloadAction<BannerDtoList>) => {\r\n      state.banner = {\r\n        ...state.banner,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setBannerType: (state: SliceState, action: PayloadAction<{ banner_type: 'EVENT' | 'RECOMMEND' | 'CULTURE' | 'MULTI' | undefined }>) => {\r\n      state.banner = {\r\n        ...state.banner,\r\n        ...action.payload,\r\n      };\r\n      console.log(state.banner);\r\n    },\r\n    addBannerFiles: (state: SliceState, action: PayloadAction<FileInfo[]>) => {\r\n      const files = state.banner?.file_info ? [...state.banner.file_info, ...action.payload] : [...action.payload];\r\n\r\n      state.banner = { ...state.banner, file_info: files };\r\n    },\r\n    addSingleBannerFiles: (state: SliceState, action: PayloadAction<FileInfo[]>) => {\r\n      if (state.banner) {\r\n        state.banner = { ...state.banner, file_info: [...action.payload] };\r\n      }\r\n    },\r\n    emptyBanner: (state: SliceState) => {\r\n      const a = state.banner?.banner_type;\r\n      state.banner = undefined;\r\n      state.banner = {\r\n        banner_type: a,\r\n      };\r\n    },\r\n    emptyBanners: (state: SliceState) => {\r\n      state.banners = {\r\n        bannerDtoList: [],\r\n        currentPage: 1,\r\n        totalPage: 1,\r\n        totalCount: 0,\r\n      };\r\n    },\r\n    deleteFile: (state: SliceState, action: PayloadAction<FileInfo>) => {\r\n      const filtered = state.banner?.file_info?.filter((file) => {\r\n        return file.saved_file_name !== action.payload.saved_file_name;\r\n      });\r\n      state.banner = { ...state.banner, file_info: filtered };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchBanners.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<BannerBody>>) => {\r\n      if (action.payload.response_body) {\r\n        state.banners = action.payload.response_body;\r\n\r\n        if (state.banners?.bannerDtoList?.length === 0 && action.payload.response_body.currentPage > 1) {\r\n          state.banners.currentPage = action.payload.response_body.currentPage - 1;\r\n        }\r\n      }\r\n    },\r\n    [fetchBanner.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<BannerDtoList>>) => {\r\n      state.banner = action.payload.response_body;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const { editBanner, emptyBanner, addBannerFiles, setBannerType, addSingleBannerFiles, emptyBanners, deleteFile } = slice.actions;\r\n\r\nexport const selectBanner = (state: PayloadType) => state[BANNER];\r\n","import React from 'react';\r\nconst FormGuideComponent = (props) => {\r\n  const { title, guide, required } = props;\r\n  return (\r\n    <div>\r\n      <div style={{ fontFamily: 'NotoSansKR-Bold', fontSize: '1em' }}>\r\n        {required && <span style={{ color: 'red' }}>*</span>}[{title}]\r\n      </div>\r\n      <div>\r\n        {guide ? (\r\n          <pre\r\n            style={{\r\n              fontFamily: 'NotoSansKR-Medium',\r\n              fontSize: '0.8em',\r\n              padding: '0',\r\n              height: '30px',\r\n              overflow: 'hidden',\r\n              // marginTop: '-20px',\r\n              marginBottom: '0',\r\n              color: '#7f8c8d',\r\n            }}\r\n          >\r\n            {guide}\r\n          </pre>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormGuideComponent;\r\n","import { CSSProperties } from '@material-ui/core/styles/withStyles';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nconst MenuGuide = ({ title, subTitle, style }: { title: string; subTitle?: string; style?: CSSProperties }) => {\r\n  return (\r\n    <div className={classNames('text-gray-800')} style={{ ...style }}>\r\n      <div>\r\n        <span className=\"font-bold text-lg\">{title}</span>\r\n      </div>\r\n      <div>\r\n        <span>{subTitle}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default MenuGuide;\r\n","import { Progress } from 'antd';\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useState } from 'react';\r\nimport { DropzoneOptions, useDropzone } from 'react-dropzone';\r\nimport { BsCloudUploadFill } from 'react-icons/bs';\r\nimport { useDispatch } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { addBannerFiles, addSingleBannerFiles } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\nexport default function BannerDropzone() {\r\n  const [progress, setProgress] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const dropzoneOptions: DropzoneOptions = {\r\n    // 행사안내 표현방식 변경에 따른 여러사진 업로드 기능을 삭제함\r\n    multiple: false,\r\n\r\n    // multiple: true,\r\n    onDrop: (acceptedFiles) => {\r\n      const config: AxiosRequestConfig = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        onUploadProgress: (progressEvent: { loaded: number; total: number }) => {\r\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setProgress(percentCompleted);\r\n        },\r\n      };\r\n      setProgress(0);\r\n      const formData = new FormData();\r\n      const fileInfo: FileInfo[] = [];\r\n      acceptedFiles.forEach((file) => {\r\n        const fileExt = file.name.split('.').pop();\r\n        const renamedFile = new File([file], `${uuid()}.${fileExt}`);\r\n        formData.append('files', renamedFile);\r\n        fileInfo.push({\r\n          original_file_name: file.name,\r\n          saved_file_name: renamedFile.name,\r\n        });\r\n      });\r\n\r\n      axios.post(`${axios.defaults.baseURL}/file/upload/banner`, formData, config).then((res) => {\r\n        console.log(fileInfo);\r\n        // dispatch(addBannerFiles([...fileInfo]));\r\n        dispatch(addSingleBannerFiles([...fileInfo]));\r\n      });\r\n    },\r\n    // accept: 'image/*,video/mp4',\r\n    accept: 'image/*',\r\n  };\r\n\r\n  const { getRootProps, getInputProps, isDragAccept } = useDropzone(dropzoneOptions);\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        {...getRootProps()}\r\n        className={classNames(\r\n          'w-full h-28',\r\n          'outline-none',\r\n          'border border-dashed p-1 rounded-md',\r\n          isDragAccept && 'border-blue-500',\r\n\r\n          'bg-gray-100',\r\n          'flex flex-col justify-center items-center',\r\n          'cursor-pointer'\r\n        )}\r\n      >\r\n        <input className=\"w-full h-full\" {...getInputProps()} />\r\n\r\n        <BsCloudUploadFill size={200} className=\"text-gray-400\" />\r\n        <p className={classNames('cursor-pointer text-center')}>\r\n          파일을 드래그앤드롭 또는 클릭 후 파일을 선택해 업로드하세요.\r\n          <br />\r\n          이미지 파일만 업로드 가능합니다.\r\n        </p>\r\n      </section>\r\n\r\n      {progress > 0 && (\r\n        <Progress\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progress}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { DeleteOutlined } from '@ant-design/icons';\r\nimport { Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { deleteFile } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\ntype OffsetSize = {\r\n  width: number;\r\n  height: number;\r\n};\r\n\r\nconst VideoWrapper = styled(ReactPlayer)`\r\n  & > video {\r\n    width: auto;\r\n    height: auto;\r\n    object-fit: fill;\r\n  }\r\n`;\r\n\r\nexport default function BannerFile({ file }: { file: FileInfo }) {\r\n  const dispatch = useDispatch();\r\n  const [getType, setGetType] = useState<string>('img');\r\n\r\n  useEffect(() => {\r\n    if (file.saved_file_name?.includes('.mp4')) {\r\n      setGetType('video');\r\n    } else {\r\n      setGetType('img');\r\n    }\r\n  }, [file.saved_file_name]);\r\n\r\n  const [offsetSize, setOffsetSize] = useState<OffsetSize>({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    console.log(offsetSize);\r\n  });\r\n\r\n  return (\r\n    <div className={classNames('relative flex items-center p-1', 'w-full')}>\r\n      {getType === 'img' ? (\r\n        <>\r\n          <img\r\n            className=\"w-12 rounded-sm cursor-pointer hover:border-yellow-500\"\r\n            alt=\"thumbnail\"\r\n            src={`${axios.defaults.baseURL}/files/banner/${file.saved_file_name}`}\r\n            onLoad={(e) => {\r\n              console.log(e);\r\n              setOffsetSize({\r\n                width: e.currentTarget.offsetWidth,\r\n                height: e.currentTarget.offsetHeight,\r\n              });\r\n            }}\r\n            onClick={() => {\r\n              Modal.info({\r\n                modalRender: (node) => {\r\n                  return node;\r\n                },\r\n\r\n                icon: null,\r\n                closeIcon: <></>,\r\n                maskClosable: true,\r\n                closable: true,\r\n                okButtonProps: { type: 'default' },\r\n                okText: '닫기',\r\n                width: offsetSize.width > offsetSize.height ? '60%' : '',\r\n                content: (\r\n                  <img\r\n                    className={classNames('w-full object-contain mx-auto')}\r\n                    alt=\"modal_img\"\r\n                    src={`${axios.defaults.baseURL}/files/banner/${file.saved_file_name}`}\r\n                  />\r\n                ),\r\n              });\r\n            }}\r\n          />\r\n          <div className=\"ml-2\">{file.original_file_name}</div>\r\n\r\n          <div className={classNames('absolute right-3')}>\r\n            <DeleteOutlined\r\n              className={classNames('cursor-pointer text-red-500 text-lg')}\r\n              onClick={() => {\r\n                dispatch(deleteFile({ saved_file_name: file.saved_file_name }));\r\n              }}\r\n            />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ReactPlayer\r\n            className=\"w-12 rounded-sm cursor-pointer hover:border-yellow-500\"\r\n            alt=\"thumbnail\"\r\n            config={{\r\n              file: {\r\n                attributes: {\r\n                  // preload: 'none',\r\n                  controlsList: 'nodownload',\r\n                },\r\n              },\r\n            }}\r\n            width=\"48px\"\r\n            height=\"27px\"\r\n            style={{\r\n              width: '100px',\r\n            }}\r\n            url={typeof file.saved_file_name !== 'undefined' ? `${axios.defaults.baseURL}/files/banner/stream/video/${file.saved_file_name}` : ''}\r\n            playing={file.saved_file_name ? true : false}\r\n            muted\r\n            onLoad={(e: any) => {\r\n              console.log(e);\r\n              setOffsetSize({\r\n                width: e.currentTarget.offsetWidth,\r\n                height: e.currentTarget.offsetHeight,\r\n              });\r\n            }}\r\n            onClick={() => {\r\n              Modal.info({\r\n                modalRender: (node) => {\r\n                  return node;\r\n                },\r\n\r\n                icon: null,\r\n                closeIcon: <></>,\r\n                maskClosable: true,\r\n                closable: true,\r\n                okButtonProps: { type: 'default' },\r\n                okText: '닫기',\r\n                content: (\r\n                  <VideoWrapper\r\n                    alt=\"thumbnail\"\r\n                    config={{\r\n                      file: {\r\n                        attributes: {\r\n                          // preload: 'none',\r\n                          controlsList: 'nodownload',\r\n                        },\r\n                      },\r\n                    }}\r\n                    width=\"auto\"\r\n                    heigth=\"auto\"\r\n                    muted\r\n                    url={typeof file.saved_file_name !== 'undefined' ? `${axios.defaults.baseURL}/files/banner/stream/video/${file.saved_file_name}` : ''}\r\n                    playing={file.saved_file_name ? true : false}\r\n                  />\r\n                ),\r\n              });\r\n            }}\r\n          />\r\n          <div className=\"ml-2\">{file.original_file_name}</div>\r\n\r\n          <div className={classNames('absolute right-3')}>\r\n            <DeleteOutlined\r\n              className={classNames('cursor-pointer text-red-500 text-lg')}\r\n              onClick={() => {\r\n                dispatch(deleteFile({ saved_file_name: file.saved_file_name }));\r\n              }}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport classNames from 'classnames';\r\nimport { Reorder } from 'framer-motion';\r\nimport React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { editBanner, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList, FileInfo } from '../../types/Banner';\r\nimport BannerFile from './BannerFile';\r\n\r\nexport default function BannerFilelist() {\r\n  const bannerState = useSelector(selectBanner);\r\n  const dispatch = useDispatch();\r\n\r\n  const onReorder = useCallback(\r\n    (newOrder: FileInfo[]) => {\r\n      dispatch(\r\n        editBanner({\r\n          file_info: newOrder,\r\n        } as BannerDtoList)\r\n      );\r\n    },\r\n\r\n    [bannerState.banner]\r\n  );\r\n\r\n  return (\r\n    <Reorder.Group\r\n      axis='y'\r\n      onReorder={onReorder}\r\n      values={bannerState.banner?.file_info || []}\r\n    >\r\n      {bannerState.banner?.file_info?.map((file) => {\r\n        return (\r\n          <Reorder.Item\r\n            key={file.saved_file_name}\r\n            value={file}\r\n            className={classNames('border m-1 rounded-md bg-white')}\r\n            whileDrag={{\r\n              scale: 1.02,\r\n              boxShadow: '5px 5px 5px rgba(0,0,0,0.3)',\r\n              borderColor: 'grey',\r\n              cursor: 'grab',\r\n              zIndex: 99,\r\n            }}\r\n          >\r\n            <BannerFile file={file} />\r\n          </Reorder.Item>\r\n        );\r\n      })}\r\n    </Reorder.Group>\r\n  );\r\n}\r\n","import { DatePicker } from 'antd';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { editBanner, selectBanner } from '../../slice/BannerSlice';\r\n\r\nexport default function BannerRangePicker() {\r\n  const { RangePicker } = DatePicker;\r\n  const bannerState = useSelector(selectBanner);\r\n  const dispatch = useDispatch();\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      editBanner({\r\n        banner_start_date: moment(now()).format(dateFormat),\r\n        banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n      })\r\n    );\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <RangePicker\r\n        size='small'\r\n        value={[\r\n          moment(bannerState.banner?.banner_start_date),\r\n          moment(bannerState.banner?.banner_end_date),\r\n        ]}\r\n        onChange={(values) => {\r\n          if (values)\r\n            dispatch(\r\n              editBanner({\r\n                ...bannerState.banner,\r\n                banner_start_date: values[0]?.format(dateFormat),\r\n                banner_end_date: values[1]?.format(dateFormat),\r\n              })\r\n            );\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerDropzone from './BannerDropzone';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\nexport default function BannerForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"행사 안내 등록\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <BannerDropzone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then(() => {\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerDropzone from './BannerDropzone';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\nexport default function RecommandImageForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"사서 추천 등록\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <BannerDropzone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then(() => {\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Progress } from 'antd';\r\nimport axios, { AxiosRequestConfig } from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useState } from 'react';\r\nimport { DropzoneOptions, useDropzone } from 'react-dropzone';\r\nimport { BsCloudUploadFill } from 'react-icons/bs';\r\nimport { useDispatch } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { addBannerFiles, addSingleBannerFiles } from '../../slice/BannerSlice';\r\nimport { FileInfo } from '../../types/Banner';\r\n\r\nexport default function SimpleDcsDropZone() {\r\n  const [progress, setProgress] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const dropzoneOptions: DropzoneOptions = {\r\n    // 행사안내 표현방식 변경에 따른 여러사진 업로드 기능을 삭제함\r\n    // multiple: false,\r\n\r\n    multiple: true,\r\n    onDrop: (acceptedFiles) => {\r\n      const config: AxiosRequestConfig = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n        onUploadProgress: (progressEvent: { loaded: number; total: number }) => {\r\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setProgress(percentCompleted);\r\n        },\r\n      };\r\n      setProgress(0);\r\n      const formData = new FormData();\r\n      const fileInfo: FileInfo[] = [];\r\n      acceptedFiles.forEach((file) => {\r\n        const fileExt = file.name.split('.').pop();\r\n        const renamedFile = new File([file], `${uuid()}.${fileExt}`);\r\n        formData.append('files', renamedFile);\r\n        fileInfo.push({\r\n          original_file_name: file.name,\r\n          saved_file_name: renamedFile.name,\r\n        });\r\n      });\r\n\r\n      axios.post(`${axios.defaults.baseURL}/file/upload/banner`, formData, config).then((res) => {\r\n        console.log(fileInfo);\r\n        dispatch(addBannerFiles([...fileInfo]));\r\n        // dispatch(addSingleBannerFiles([...fileInfo]));\r\n      });\r\n    },\r\n    accept: ['image/*', 'video/mp4'],\r\n    // accept: 'image/*',\r\n  };\r\n\r\n  const { getRootProps, getInputProps, isDragAccept } = useDropzone(dropzoneOptions);\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        {...getRootProps()}\r\n        className={classNames(\r\n          'w-full h-28',\r\n          'outline-none',\r\n          'border border-dashed p-1 rounded-md',\r\n          isDragAccept && 'border-blue-500',\r\n\r\n          'bg-gray-100',\r\n          'flex flex-col justify-center items-center',\r\n          'cursor-pointer'\r\n        )}\r\n      >\r\n        <input className=\"w-full h-full\" {...getInputProps()} />\r\n\r\n        <BsCloudUploadFill size={200} className=\"text-gray-400\" />\r\n        <p className={classNames('cursor-pointer text-center')}>\r\n          파일을 드래그앤드롭 또는 클릭 후 파일을 선택해 업로드하세요.\r\n          <br />\r\n          이미지 파일만 업로드 가능합니다.\r\n        </p>\r\n      </section>\r\n\r\n      {progress > 0 && (\r\n        <Progress\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progress}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, Divider, Input, message } from 'antd';\r\nimport classNames from 'classnames';\r\nimport moment, { now } from 'moment';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { createBanner, modifyBanner } from '../../api/banner.api';\r\nimport { editBanner, emptyBanner, fetchBanner, orderBanners, selectBanner } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerFilelist from './BannerFilelist';\r\nimport BannerRangePicker from './BannerRangePicker';\r\nimport SimpleDcsDropZone from './SimpleDcsDropZone';\r\n\r\ntype ValidationStatus = 'NO_TITLE' | 'NO_PERIOD' | 'NO_FILES' | 'VALIDATED';\r\n\r\nconst validateBanner = (banner?: BannerDtoList): ValidationStatus => {\r\n  if (!banner?.title || banner.title === '') return 'NO_TITLE';\r\n\r\n  if (!banner.banner_start_date || !banner.banner_end_date) return 'NO_PERIOD';\r\n\r\n  if (!banner.file_info || banner.file_info.length === 0) return 'NO_FILES';\r\n\r\n  return 'VALIDATED';\r\n};\r\n\r\n/**\r\n *\r\n * @returns 글자수는 45글자로 제한된다.\r\n */\r\nexport default function SimpleDcsForm() {\r\n  const match = useRouteMatch<{ banner_idx: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const bannerState = useSelector(selectBanner);\r\n\r\n  const submit = async () => {\r\n    const banner: BannerDtoList = {\r\n      ...bannerState.banner,\r\n      file_info: orderBanners(bannerState.banner?.file_info),\r\n    };\r\n    console.log(banner);\r\n    if (match.params.banner_idx === 'new') {\r\n      await createBanner({ banner });\r\n    } else {\r\n      await modifyBanner({ banner });\r\n    }\r\n  };\r\n\r\n  const dateFormat = 'YYYY-MM-DD';\r\n\r\n  useEffect(() => {\r\n    if (match.params.banner_idx === 'new') {\r\n      dispatch(emptyBanner());\r\n      dispatch(\r\n        editBanner({\r\n          banner_start_date: moment(now()).format(dateFormat),\r\n          banner_end_date: moment(now()).add(1, 'M').format(dateFormat),\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (match.params.banner_idx) {\r\n      dispatch(fetchBanner({ banner_idx: match.params.banner_idx }));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classNames('w-1/2 h-full mx-auto')}>\r\n      <MenuGuide title=\"행사 안내 등록\" subTitle=\"이미지와 영상 파일을 등록/수정 합니다.\" />\r\n      <div className={classNames('border p-3')}>\r\n        <div>\r\n          <FormGuideComponent title=\"제목\" />\r\n          <Input\r\n            size=\"small\"\r\n            value={bannerState.banner?.title || ''}\r\n            onChange={(value) => {\r\n              dispatch(\r\n                editBanner({\r\n                  ...bannerState.banner,\r\n                  banner_type: 'MULTI',\r\n                  title: value.currentTarget.value,\r\n                } as BannerDtoList)\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"게시 기간\" />\r\n          <BannerRangePicker />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"파일\" />\r\n          <SimpleDcsDropZone />\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <div>\r\n          <FormGuideComponent title=\"목록\" />\r\n          {bannerState.banner?.file_info && <BannerFilelist />}\r\n          {!bannerState.banner?.file_info?.length && <div className=\"w-full mt-3\">업로드된 파일이 없습니다.</div>}\r\n        </div>\r\n        <Divider className=\"my-2\" dashed />\r\n        <Button\r\n          type=\"primary\"\r\n          block\r\n          size=\"large\"\r\n          onClick={() => {\r\n            switch (validateBanner(bannerState.banner)) {\r\n              case 'NO_TITLE':\r\n                message.error('제목을 입력해주세요');\r\n                return;\r\n              case 'NO_PERIOD':\r\n                message.error('게시 기간을 입력해주세요');\r\n                return;\r\n              case 'NO_FILES':\r\n                message.error('이미지를 등록해주세요');\r\n                return;\r\n              default:\r\n                break;\r\n            }\r\n\r\n            submit()\r\n              .then((msg) => {\r\n                console.log(msg);\r\n                message.success('등록되었습니다.');\r\n                if (bannerState.banner?.banner_type === 'EVENT') {\r\n                  history.replace(`/screen/banner`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'RECOMMEND') {\r\n                  history.replace(`/screen/recommand`);\r\n                }\r\n                if (bannerState.banner?.banner_type === 'MULTI') {\r\n                  history.replace(`/screen/moviebanner`);\r\n                }\r\n              })\r\n              .catch((err) => console.log(err));\r\n          }}\r\n        >\r\n          {match.params.banner_idx === 'new' ? '등록' : '수정'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Checkbox, Col, Popconfirm, Row, Select, Table } from 'antd';\r\nimport Search from 'antd/lib/input/Search';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { noImg } from '../CommonImage';\r\nimport MenuGuide from '../MenuGuide';\r\n\r\nconst ManagementBook = (props) => {\r\n  const { Option } = Select;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [filter, setFilter] = useState('title');\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n  const [filterValue, setFilterValue] = useState();\r\n  const [isUse, setIsUse] = useState(false);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'master_no',\r\n      key: '0',\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '도서명',\r\n      dataIndex: 'title',\r\n      key: '1',\r\n      align: 'left',\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Link\r\n            to={{\r\n              pathname: '/book/form',\r\n              mode: 'modify',\r\n              record: record,\r\n            }}\r\n          >\r\n            {text ? text : '제목없음'}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '표지',\r\n      dataIndex: 'org_name',\r\n      key: '2',\r\n      align: 'center',\r\n      render: (text, record, index) => {\r\n        return (\r\n          <img\r\n            src={`${text}`}\r\n            style={{ width: '50px' }}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '위치',\r\n      dataIndex: 'shelf_loc_name',\r\n      width: 150,\r\n      key: '3',\r\n      align: 'center',\r\n    },\r\n    { title: '저자', dataIndex: 'author', key: '4', align: 'center' },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'reg_dttm',\r\n      width: 200,\r\n      key: '5',\r\n      align: 'center',\r\n    },\r\n    // {\r\n    //   title: '사용여부',\r\n    //   dataIndex: 'useYN',\r\n    //   key: '9',\r\n    //   width: 100,\r\n    //   align: 'center',\r\n    // },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={() => {\r\n              axios\r\n                .post('/book/recommend/delete', {\r\n                  master_no: record.master_no,\r\n                })\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  getBookIndex({\r\n                    value: filterValue || '',\r\n                  });\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                });\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getBookIndex();\r\n  }, []);\r\n\r\n  const getBookIndex = (value) => {\r\n    setIsLoading(true);\r\n    if (!value) {\r\n      value = {};\r\n    }\r\n    axios\r\n      .get('/bookV2/librariansRecommendBook', {\r\n        params: {\r\n          filter: filter,\r\n          value: 'value' in value ? value.value : '',\r\n          useYN: 'useYN' in value ? value.useYN : '',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setTimeout(() => {\r\n          setDataSource(res.data.response_body.books);\r\n          setIsLoading(false);\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const onChangeSelectFilter = (e) => {\r\n    setFilter(e);\r\n  };\r\n\r\n  const selectFilter = (\r\n    <Select defaultValue=\"title\" style={{ minWidth: '90px' }} onChange={onChangeSelectFilter}>\r\n      <Option key=\"title\">도서명</Option>\r\n      {/* <Option key=\"isbn13\">ISBN</Option> */}\r\n      <Option key=\"author\">저자</Option>\r\n    </Select>\r\n  );\r\n\r\n  const searchBook = (filterTitle) => {\r\n    getBookIndex({\r\n      value: filterValue,\r\n      useYN: isUse ? 'Y' : '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={12}>\r\n          <MenuGuide title=\"사서 추천 도서\" subTitle=\"도서 등록을 통해 사서 추천 도서 관리가 가능합니다.\" />\r\n        </Col>\r\n        <Col span={12}>\r\n          <Row style={{ marginTop: '10px' }}>\r\n            <Col span={24}>\r\n              <div\r\n                style={{\r\n                  width: '100%',\r\n                  textAlign: 'right',\r\n                  margin: '10px',\r\n                }}\r\n              >\r\n                <Checkbox\r\n                  checked={isUse}\r\n                  onChange={(e) => {\r\n                    setIsUse(e.target.checked);\r\n                    getBookIndex({\r\n                      useYN: e.target.checked ? 'Y' : '',\r\n                      value: filterValue,\r\n                    });\r\n                  }}\r\n                  disabled={isLoading}\r\n                >\r\n                  <span\r\n                    style={{\r\n                      cursor: 'pointer',\r\n                      fontFamily: 'NanumGothic',\r\n                    }}\r\n                  >\r\n                    사용중인 추천 도서만 보기\r\n                  </span>\r\n                </Checkbox>\r\n              </div>\r\n              <Search\r\n                addonBefore={selectFilter}\r\n                enterButton\r\n                value={filterValue}\r\n                onChange={(e) => {\r\n                  setFilterValue(e.target.value);\r\n                }}\r\n                onSearch={(value) => {\r\n                  searchBook();\r\n                }}\r\n                style={{ marginBottom: '10px' }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey={(dataSource) => dataSource.master_no}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      ></Table>\r\n      <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n        <Link\r\n          to={{\r\n            pathname: '/book/form',\r\n            state: {\r\n              mode: 'regist',\r\n            },\r\n          }}\r\n        >\r\n          <Button type=\"primary\" style={{ width: '100px', marginBottom: '100px' }}>\r\n            등 록\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementBook;\r\n","export const api = {\r\n  SmartSearch: '/bookV2/findBookAsKeyword',\r\n};\r\n\r\nexport default api;\r\n","import Axios from 'axios';\r\nimport api from './api';\r\n\r\nconst API = api.SmartSearch;\r\n\r\nexport const requestSmartSearch = async (keyword: string, curPageNo = 1, perPage = 10) => {\r\n  try {\r\n    const response = await Axios.get(`${API}`, {\r\n      params: {\r\n        keyword,\r\n        curPageNo,\r\n        perPage,\r\n      },\r\n    });\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return undefined;\r\n  }\r\n};\r\n","import { ResponseBodySmartSearch } from './../types/SmartSearch';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { requestSmartSearch } from '../api/SmartSearch';\r\nimport { ResponseVo } from '../types/Common';\r\nimport { message } from 'antd';\r\nexport const SMART_SEARCH = 'smartSearch';\r\n\r\ntype SliceState = {\r\n  totalCount: number;\r\n  isLoading: boolean;\r\n  books: Array<{\r\n    title?: string;\r\n    imageUrl?: string;\r\n    isbn?: string;\r\n    isbn13?: string;\r\n    call_no?: string;\r\n    mediaType?: 'book' | 'media';\r\n    spc_code?: string;\r\n  }>;\r\n  keyword: string;\r\n};\r\ntype PayloadType = {\r\n  [SMART_SEARCH]: SliceState;\r\n};\r\ntype SmartSearchType = {\r\n  keyword: string;\r\n  current_page: number;\r\n};\r\nexport const fetchSmartSearch = createAsyncThunk(`${SMART_SEARCH}/fetchSmartSearch`, async ({ keyword, current_page }: SmartSearchType) => {\r\n  // 무언가를 함\r\n  const response = await requestSmartSearch(keyword, current_page);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nconst smartSearchSlice = createSlice({\r\n  name: `${SMART_SEARCH}`,\r\n  initialState: {\r\n    books: [],\r\n    totalCount: 0,\r\n    keyword: '',\r\n    isLoading: false,\r\n  } as SliceState,\r\n  reducers: {\r\n    setKeyword: (\r\n      state,\r\n      action: PayloadAction<{\r\n        keyword: string;\r\n      }>\r\n    ) => {\r\n      state.keyword = action.payload.keyword;\r\n    },\r\n    resetBooks: (state) => {\r\n      state.books = [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchSmartSearch.pending.type]: (state) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchSmartSearch.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodySmartSearch>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isLoading = false;\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.books = result.bookVoList;\r\n        state.totalCount = result.totalCount;\r\n      } else {\r\n        state.books = [];\r\n        state.totalCount = 0;\r\n      }\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setKeyword, resetBooks } = smartSearchSlice.actions;\r\nexport default smartSearchSlice.reducer;\r\nexport const selectSmartSearch = (state: PayloadType) => state;\r\n","export default __webpack_public_path__ + \"static/media/noimages.eed3b0e0.png\";","import Button from '@material-ui/core/Button';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport React, { CSSProperties, FC, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { createUltimatePagination, ITEM_TYPES, PaginationComponentProps, UltimatePaginationProps } from 'react-ultimate-pagination';\r\nimport styled from 'styled-components';\r\n\r\nexport const calculateTotalPages = (totalCnt: number, per: number): number => {\r\n  if (totalCnt > 0) {\r\n    const calPages = totalCnt / per;\r\n    const rest = totalCnt % per;\r\n    const returnPage = Math.floor(calPages) + (rest > 1 ? 1 : 0);\r\n    if (returnPage === 0) {\r\n      return 1;\r\n    }\r\n    return returnPage;\r\n  }\r\n  return 1;\r\n};\r\n\r\nconst PaginationWrapped = styled.div<{ bottom?: string; isLoading: boolean }>`\r\n  position: absolute;\r\n\r\n  /* bottom: ${(props) => props.bottom}; */\r\n  bottom: 10px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  animation: screenIn 0.5s linear;\r\n  background-color: transparent;\r\n  z-index: 999;\r\n  pointer-events: ${(props) => (props.isLoading ? `none` : `all`)};\r\n`;\r\n\r\ninterface PaginationProps extends UltimatePaginationProps {\r\n  bottom: string;\r\n  isLoading: boolean;\r\n}\r\ntype PaginationActiveType = {\r\n  isActive: boolean;\r\n};\r\n\r\nconst PaginationSvgButton = styled(Button)`\r\n  min-width: 1;\r\n  color: black;\r\n`;\r\nconst PaginationNumber = styled(Button)<PaginationActiveType>`\r\n  min-width: 5px !important;\r\n  font-family: bmjua !important;\r\n  font-size: 1.1rem !important;\r\n  margin: 0rem !important;\r\n  color: ${(props) => (props.isActive ? `rgba(44,62,80,1)` : `rgba(0,0,0,0.4);`)};\r\n`;\r\n\r\nconst Pagination = ({ currentPage, totalPages, onChange, bottom, isLoading }: PaginationProps) => {\r\n  const Page = ({ value, onClick, isDisabled, isActive }: PaginationComponentProps) => (\r\n    <PaginationNumber isActive={isActive} onClick={onClick} disabled={isDisabled}>\r\n      {value}\r\n    </PaginationNumber>\r\n  );\r\n\r\n  const Ellipsis = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      . . .\r\n    </PaginationSvgButton>\r\n  );\r\n  const FirstPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <FirstPageIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const PreviousPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <ChevronLeftIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const NextPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <ChevronRightIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const LastPageLink = ({ onClick, isDisabled }: PaginationComponentProps) => (\r\n    <PaginationSvgButton onClick={onClick} disabled={isDisabled}>\r\n      <LastPageIcon />\r\n    </PaginationSvgButton>\r\n  );\r\n\r\n  const itemTypeToComponent = {\r\n    [ITEM_TYPES.PAGE]: Page,\r\n    [ITEM_TYPES.ELLIPSIS]: Ellipsis,\r\n    [ITEM_TYPES.FIRST_PAGE_LINK]: FirstPageLink,\r\n    [ITEM_TYPES.PREVIOUS_PAGE_LINK]: PreviousPageLink,\r\n    [ITEM_TYPES.NEXT_PAGE_LINK]: NextPageLink,\r\n    [ITEM_TYPES.LAST_PAGE_LINK]: LastPageLink,\r\n  };\r\n\r\n  const UltimatePaginationMaterialUi = createUltimatePagination({\r\n    itemTypeToComponent,\r\n  });\r\n\r\n  return (\r\n    <PaginationWrapped bottom={bottom} isLoading={isLoading}>\r\n      <UltimatePaginationMaterialUi\r\n        currentPage={currentPage}\r\n        totalPages={totalPages}\r\n        boundaryPagesRange={0}\r\n        siblingPagesRange={2}\r\n        hideFirstAndLastPageLinks={false}\r\n        hidePreviousAndNextPageLinks\r\n        hideEllipsis={false}\r\n        onChange={onChange}\r\n      />\r\n    </PaginationWrapped>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import styled from 'styled-components';\r\n\r\nexport type SmartSearchType = {\r\n  isLoading: boolean;\r\n};\r\nexport const SmartSearchWrapped = styled.div<{\r\n  visible: boolean;\r\n}>`\r\n  position: absolute;\r\n  left: -15%;\r\n  width: 130%;\r\n  height: 500px;\r\n  z-index: 10;\r\n  background-color: #f8f8f8;\r\n  border-radius: 0 0 10px 10px;\r\n  display: none;\r\n  ${(props) => (props.visible ? `display: block;` : `display: none;`)}\r\n  border-top:0.5px solid rgba(44,62,80,1);\r\n  box-shadow: 1px 12px 5px -7px rgba(0, 0, 0, 0.75);\r\n`;\r\n\r\nexport const SmartSearchLi = styled.li`\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  list-style: none;\r\n  cursor: pointer;\r\n  margin: 10px;\r\n  font-size: 1rem;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  &:hover {\r\n    color: #ff7094;\r\n    transition: all 0.3s linear;\r\n  }\r\n`;\r\n\r\nexport const SmartSearchUl = styled.ul`\r\n  padding: 0;\r\n  padding-top: 10px;\r\n`;\r\n\r\nexport const CloseButton = styled.div`\r\n  position: absolute;\r\n  bottom: 15px;\r\n  right: 25px;\r\n  cursor: pointer;\r\n  font-size: 1.5rem;\r\n  pointer-events: all;\r\n  z-index: 99999;\r\n`;\r\n\r\nexport const NotFoundResult = styled.div`\r\n  font-family: 'bmjua';\r\n  width: 100%;\r\n  height: 90%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const ViewImage = styled.img<{\r\n  noImage?: boolean;\r\n}>`\r\n  width: 33px;\r\n  height: 33px;\r\n  border-radius: 2px;\r\n  margin: 0 10px;\r\n\r\n  opacity: ${(props) => (props.noImage ? '0.5' : '1')};\r\n`;\r\n\r\nexport const SmartSearchText = styled.div`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  /* width: 75%; */\r\n  width: 470px;\r\n  float: left;\r\n  display: flex;\r\n`;\r\nexport const SmartSearchCallNum = styled.span`\r\n  font-size: 0.5rem;\r\n`;\r\n\r\nexport const SmartSearchSpan = styled.span`\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n","import { Spin } from 'antd';\r\nimport React, { MouseEventHandler, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport noImage from '../../images/noimages.png';\r\nimport { fetchSmartSearch, selectSmartSearch, SMART_SEARCH } from '../../slice/SmartSearchSlice';\r\nimport Pagination, { calculateTotalPages } from './Pagination';\r\nimport {\r\n  CloseButton,\r\n  NotFoundResult,\r\n  SmartSearchCallNum,\r\n  SmartSearchLi,\r\n  SmartSearchSpan,\r\n  SmartSearchText,\r\n  SmartSearchUl,\r\n  SmartSearchWrapped,\r\n  ViewImage,\r\n} from './SmartSearch.styled';\r\n\r\nconst SmartSearch = ({\r\n  totalCount,\r\n  visible,\r\n  setVisible,\r\n  onClick,\r\n}: {\r\n  totalCount: number;\r\n  visible: boolean;\r\n  onClick: MouseEventHandler<HTMLLIElement>;\r\n  setVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectSmartSearch);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  const handlePage = (e: number) => {\r\n    setPage(e);\r\n    console.log(e);\r\n    const { keyword } = state.smartSearch;\r\n    dispatch(fetchSmartSearch({ keyword, current_page: e }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    setTotalPages(calculateTotalPages(state.smartSearch.totalCount, 10));\r\n  }, [state.smartSearch.totalCount]);\r\n\r\n  return (\r\n    <SmartSearchWrapped visible={visible}>\r\n      <div\r\n        style={{\r\n          height: `100%`,\r\n        }}\r\n      >\r\n        <SmartSearchUl>\r\n          {/**/}\r\n          <Spin\r\n            spinning={state.smartSearch.isLoading}\r\n            size=\"large\"\r\n            tip={`'${state.smartSearch.keyword}' 검색중...`}\r\n            style={{\r\n              position: 'inherit',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height: '450px',\r\n              }}\r\n            >\r\n              {state.smartSearch?.books.length > 0 ? '' : <NotFoundResult>'{state.smartSearch.keyword}'로 검색한 도서가 없습니다</NotFoundResult>}\r\n              {state.smartSearch?.books.map((item, index) => {\r\n                return item.mediaType === 'media' ? (\r\n                  <SmartSearchLi onClick={onClick} key={index} data-spccode={item.spc_code} data-keyword={item.title}>\r\n                    <SmartSearchText>\r\n                      {item.mediaType === 'media' ? '[DVD]' : ''}\r\n                      {item.imageUrl && <ViewImage src={item.imageUrl} />}\r\n                      {(item.imageUrl === null || item.imageUrl === '') && <ViewImage noImage={true} src={noImage} />}\r\n                      {item.title}\r\n                    </SmartSearchText>\r\n\r\n                    <SmartSearchCallNum>({item.call_no})</SmartSearchCallNum>\r\n                  </SmartSearchLi>\r\n                ) : (\r\n                  <SmartSearchLi onClick={onClick} key={index} data-spccode={item.spc_code} data-keyword={item.title}>\r\n                    <SmartSearchText>\r\n                      [도서]{item.imageUrl && <ViewImage src={item.imageUrl} />}\r\n                      {(item.imageUrl === null || item.imageUrl === '') && <ViewImage noImage={true} src={noImage} />}\r\n                      <SmartSearchSpan>{item.title}</SmartSearchSpan>\r\n                    </SmartSearchText>\r\n\r\n                    <SmartSearchCallNum>({item.call_no})</SmartSearchCallNum>\r\n                  </SmartSearchLi>\r\n                );\r\n              })}\r\n            </div>\r\n          </Spin>\r\n        </SmartSearchUl>\r\n        <CloseButton\r\n          onClick={() => {\r\n            setVisible(false);\r\n          }}\r\n        >\r\n          X\r\n        </CloseButton>\r\n        <Pagination isLoading={state[SMART_SEARCH].isLoading} currentPage={page} totalPages={totalPages} onChange={handlePage} bottom=\"-50px\" />\r\n      </div>\r\n    </SmartSearchWrapped>\r\n  );\r\n};\r\n\r\nexport default SmartSearch;\r\n","import { Button, Form, Input, message, Radio, Select, Spin } from \"antd\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport axios from \"axios\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { Prompt } from \"react-router-dom\";\r\nimport { noImg } from \"../CommonImage\";\r\nimport FormGuideComponent from \"../FormGuideComponent\";\r\nimport MenuGuide from \"../MenuGuide\";\r\nimport _ from \"lodash\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchSmartSearch,\r\n  resetBooks,\r\n  selectSmartSearch,\r\n  setKeyword,\r\n  SMART_SEARCH,\r\n} from \"../../slice/SmartSearchSlice\";\r\n// import SmartSearch from './SmartSearch';\r\nimport SmartSearch from \"./Smartsearch\";\r\n\r\nconst ManagementBookForm = (props: any) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectSmartSearch)[SMART_SEARCH];\r\n\r\n  const [record, setRecord] = useState(props.location.record);\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : \"regist\"\r\n  );\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const [book, setBook] = useState(\r\n    props.location.record ? props.location.record : null\r\n  );\r\n  const [genre, setGenre] = useState([]);\r\n  const [spinning, setSpinning] = useState(false);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [totalCount, setTotalCount] = useState(1);\r\n  const inputKeyword = useRef(\"\");\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const validateMessages = {\r\n    required: \"필수 항목\",\r\n    types: {\r\n      email: \"Not a validate email!\",\r\n      number: \"Not a validate number!\",\r\n    },\r\n    number: {\r\n      range: \"Must be between ${min} and ${max}\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(setKeyword({ keyword: \"\" }));\r\n    dispatch(resetBooks());\r\n    document.body.className = \"form-body\";\r\n    genreSelectGenerator();\r\n    if (mode === \"modify\") {\r\n      inputKeyword.current = record.title;\r\n      form.setFieldsValue({\r\n        spcCode: record.title,\r\n        title: record.title,\r\n        genre: record.genre,\r\n        author: record.author,\r\n        publisher: record.publisher,\r\n        publication_year: record.publication_year,\r\n        description: record.description,\r\n        useYN: record.useYN,\r\n        librarian_cmt: record.librarian_cmt,\r\n        shelf_loc_name: record.shelf_loc_name,\r\n      });\r\n    } else {\r\n      form.setFieldsValue({\r\n        useYN: \"Y\",\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n  };\r\n\r\n  const onSearch = (e: any) => {\r\n    e.preventDefault();\r\n    if (mode === \"modify\" && inputKeyword.current !== state.keyword) {\r\n      delayedQuery(inputKeyword.current);\r\n    }\r\n\r\n    setVisible(true);\r\n  };\r\n\r\n  const genreSelectGenerator = () => {\r\n    axios\r\n      .get<any, any>(\"/book/genre\", {})\r\n      .then((res) => {\r\n        setGenre(res.data.genre);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onChangeTitle = (e: any) => {\r\n    const keyword = e.target.value;\r\n    // 도서 제목(input)이 변경될때마다 useref에 값을 넣음\r\n    inputKeyword.current = keyword;\r\n    if (keyword === \"\") {\r\n      // 입력된 책 제목이 없으면 값들을 초기화하고 검색창을 닫음\r\n      form.setFieldsValue({\r\n        title: \"\",\r\n        genre: \"\",\r\n        author: \"\",\r\n        publisher: \"\",\r\n        publication_year: \"\",\r\n        description: \"\",\r\n        useYN: \"Y\",\r\n        librarian_cmt: \"\",\r\n      });\r\n      setBook(null);\r\n      setVisible(false);\r\n      // 단어가없으면 보여주는것을 끔\r\n      dispatch(\r\n        setKeyword({\r\n          keyword: \"\",\r\n        })\r\n      );\r\n      dispatch(resetBooks());\r\n    }\r\n    // 디바운싱 적용\r\n    delayedQuery(keyword);\r\n  };\r\n\r\n  const onSubmit = (values: any) => {\r\n    setSpinning(true);\r\n    axios\r\n      .post(\"/book/recommend\", {\r\n        master_no: book.master_no,\r\n        genre: values.genre,\r\n        useYN: values.useYN,\r\n        description: values.description,\r\n        librarian_cmt: values.librarian_cmt,\r\n      })\r\n      .then((res) => {\r\n        setTimeout(() => {\r\n          setSpinning(false);\r\n          message.success(\"등록 완료\");\r\n          setIsBack(false);\r\n          props.history.goBack();\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        setSpinning(false);\r\n        message.error(\"등록 실패\");\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const AutoSearch = async (mKeyword: string) => {\r\n    if (mKeyword.trim() !== \"\") {\r\n      // 키워드가 있다면 검색창을 보여주며 키워드를 리덕스에 저장하고 검색을 진행함.\r\n      setVisible(true);\r\n      await dispatch(\r\n        setKeyword({\r\n          keyword: mKeyword,\r\n        })\r\n      );\r\n      await dispatch(\r\n        fetchSmartSearch({\r\n          keyword: mKeyword,\r\n          current_page: 1,\r\n        })\r\n      );\r\n    } else if (mKeyword === \"\") {\r\n      setVisible(false);\r\n    }\r\n  };\r\n\r\n  const delayedQuery = useRef(\r\n    _.debounce((q: string) => AutoSearch(q), 500)\r\n  ).current;\r\n  const onClickSearchLI = useCallback(\r\n    (\r\n      e: React.MouseEventHandler<HTMLLIElement> &\r\n        React.MouseEvent<HTMLLIElement, MouseEvent>\r\n    ) => {\r\n      const spcCode = e.currentTarget.dataset?.spccode;\r\n      // const title = e.currentTarget.dataset?.keyword;\r\n      setSpinning(true);\r\n      // if (title) {\r\n      //   inputKeyword.current = title;\r\n      //   form.setFieldsValue({\r\n      //     spcCode: title,\r\n      //   });\r\n      // }\r\n      axios\r\n        .get<any, any>(\"/bookV2/searchForSpcCode\", {\r\n          params: {\r\n            spcCode,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          var resBook = res.data.response_body;\r\n          if (res.data.description !== \"Success\") {\r\n            message.error(\"등록되지 않은 도서입니다.\");\r\n            return;\r\n          }\r\n          setBook(resBook);\r\n          form.setFieldsValue({\r\n            title: resBook.title,\r\n            genre: resBook.genre ? resBook.genre : \"\",\r\n            author: resBook.author,\r\n            publisher: resBook.publisher,\r\n            publication_year: resBook.publication_year,\r\n            description: resBook.description,\r\n            librarian_cmt: resBook.librarian_cmt,\r\n            shelf_loc_name: resBook.shelf_loc_name,\r\n          });\r\n          // title && dispatch(setKeyword({ keyword: title }));\r\n          setVisible(false);\r\n          setSpinning(false);\r\n        })\r\n        .catch((err) => {\r\n          setVisible(false);\r\n          setSpinning(false);\r\n          console.error(err);\r\n        });\r\n    },\r\n    []\r\n  );\r\n  return (\r\n    <div style={{ width: \"100%\" }} data-smartsearch={\"smartsearch\"}>\r\n      <Prompt\r\n        when={isBack}\r\n        message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\"\r\n      />\r\n      <div style={{ width: \"50%\", margin: \"auto\" }}>\r\n        <MenuGuide\r\n          title=\"사서 추천 도서\"\r\n          subTitle=\"사서 추천 도서를 등록해주세요\"\r\n        />\r\n        <Spin spinning={spinning} size=\"large\" tip=\"처리 중...\">\r\n          <Form\r\n            form={form}\r\n            validateMessages={validateMessages}\r\n            onFinish={onSubmit}\r\n            style={{\r\n              border: \"1px solid #dfe6e9\",\r\n              padding: \"50px\",\r\n            }}\r\n          >\r\n            <FormGuideComponent\r\n              title=\"검색 도서\"\r\n              guide=\"등록할 도서의 제목을 입력해주세요\"\r\n            />\r\n            <Form.Item\r\n              style={{\r\n                position: \"relative\",\r\n              }}\r\n            >\r\n              <Form.Item name=\"spcCode\" noStyle rules={[{ required: true }]}>\r\n                <Input\r\n                  autoComplete=\"off\"\r\n                  style={{\r\n                    minWidth: \"150px\",\r\n                    width: \"360px\",\r\n                  }}\r\n                  onChange={onChangeTitle}\r\n                />\r\n              </Form.Item>\r\n              <Button\r\n                style={{\r\n                  marginLeft: \"10px\",\r\n                  position: \"relative\",\r\n                  top: \"-2px\",\r\n                }}\r\n                onClick={onSearch}\r\n              >\r\n                찾기\r\n              </Button>\r\n              <SmartSearch\r\n                visible={visible}\r\n                setVisible={setVisible}\r\n                totalCount={totalCount}\r\n                onClick={onClickSearchLI}\r\n              />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"도서명\" />\r\n            <Form.Item name=\"title\" rules={[{ required: true }]}>\r\n              <Input\r\n                style={inputStyle}\r\n                placeholder=\"도서 검색 시 자동으로 기입됩니다\"\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"도서 위치\" />\r\n            <Form.Item name=\"shelf_loc_name\" rules={[{ required: true }]}>\r\n              <div>{book?.shelf_loc_name}</div>\r\n              {/* <Radio.Group disabled>\r\n                <Radio value='[미리내]어린이자료실'>어린이자료실</Radio>\r\n                <Radio value='[미리내]일반자료실'>일반자료실</Radio>\r\n              </Radio.Group> */}\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"표지\" />\r\n            <Form.Item name=\"cover\">\r\n              <img\r\n                alt={book ? book.imageUrl : \"empty\"}\r\n                src={book ? book.imageUrl : \"empty\"}\r\n                // src={\r\n                //   book\r\n                //     ? `/files/cover/stream/${book.org_name}`\r\n                //     : 'empty'\r\n                // }\r\n                onError={(error) => {\r\n                  error.currentTarget.src = noImg;\r\n                }}\r\n                style={{\r\n                  maxWidth: \"250px\",\r\n                  display: `${book ? \"block\" : \"none\"}`,\r\n                  borderRadius: \"5px\",\r\n                  border: \"1px solid #e8e8e8\",\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            {/* \r\n            <FormGuideComponent title='장르' />\r\n            <Form.Item name='genre'>\r\n              <Select style={inputStyle} onChange={onSelectChange}>\r\n                <Option key='no'>장르를 선택하세요</Option>\r\n                {genre.map((item) => {\r\n                  return <Option key={item.idx}>{item.genre}</Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item> */}\r\n\r\n            <FormGuideComponent title=\"저자\" />\r\n            <Form.Item name=\"author\" rules={[{ required: true }]}>\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"출판사\" />\r\n            <Form.Item name=\"publisher\">\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"출판일\" />\r\n            <Form.Item name=\"publication_year\">\r\n              <Input style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"설명\" />\r\n            <Form.Item name=\"description\">\r\n              <TextArea rows={4} style={inputStyle} readOnly />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent\r\n              title=\"추천사\"\r\n              guide=\"사서의 추천 이유를 작성해주세요\"\r\n            />\r\n            <Form.Item name=\"librarian_cmt\">\r\n              <TextArea rows={4} style={inputStyle} maxLength={348} />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title=\"사용여부\" />\r\n            <Form.Item name=\"useYN\">\r\n              <Radio.Group>\r\n                <Radio value={\"Y\"}>Y</Radio>\r\n                <Radio value={\"N\"}>N</Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" block>\r\n                등 록\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementBookForm;\r\n","import Axios from 'axios';\r\nimport {\r\n  PutReturnDateType,\r\n  PutModeDataType,\r\n  GetReturnDateType,\r\n  EquipIdxType,\r\n  ContentsType,\r\n  PutHolidayType,\r\n  PatchHolidayType,\r\n  PostHolidayType,\r\n} from '../types/Lss';\r\nimport apiStrings from './api.server.json';\r\n\r\n//mode\r\nexport const requestLssGetForReturnDate = async () => {\r\n  try {\r\n    const data: GetReturnDateType = {\r\n      code_id: 'rental_date',\r\n    };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.returnDate}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForMode = async (modeData: PutModeDataType) => {\r\n  try {\r\n    const data = modeData;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.mode}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n//returnDate\r\nexport const requestLssPutForReturnDate = async (returnData: PutReturnDateType) => {\r\n  try {\r\n    const data = returnData;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.returnDate}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const requestLssGetForMode = async (equip_idx: EquipIdxType) => {\r\n  try {\r\n    const data = { ...equip_idx };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.mode}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n//contents\r\nexport const requestLssGetForContents = async (equip_idx: EquipIdxType) => {\r\n  try {\r\n    const data = { ...equip_idx };\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.contents}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostForContents = async (NoticeContent: ContentsType) => {\r\n  try {\r\n    const data: ContentsType = NoticeContent;\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostForCaption = async (CaptionContent: ContentsType) => {\r\n  try {\r\n    const data: ContentsType = CaptionContent;\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForCaptionContents = async (CaptionContent: Array<ContentsType>) => {\r\n  try {\r\n    const data: Array<ContentsType> = CaptionContent;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutForNoticeContents = async (NoticeContent: Array<ContentsType>) => {\r\n  try {\r\n    const data: Array<ContentsType> = NoticeContent;\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, data);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssDeleteForNoticeContents = async (NoticeContent: ContentsType) => {\r\n  try {\r\n    const data = {\r\n      lss_content_idx: NoticeContent.lss_content_idx,\r\n      lss_master_idx: NoticeContent.lss_master_idx,\r\n    };\r\n    const response = await Axios.delete(`${apiStrings['api-uri'].lss.contents}`, {\r\n      params: data,\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssDeleteForCaptionContents = async (CaptionContents: Array<ContentsType>) => {\r\n  try {\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.contents}`, CaptionContents);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n//holiday\r\nexport const requestLssGetForHoliday = async () => {\r\n  try {\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.holiday}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPutChangeForHolidy = async (HolidayElement: PutHolidayType) => {\r\n  try {\r\n    const response = await Axios.put(`${apiStrings['api-uri'].lss.holiday}`, HolidayElement);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPatchChangeHoliday = async (HolidayElement: PatchHolidayType) => {\r\n  try {\r\n    const response = await Axios.patch(`${apiStrings['api-uri'].lss.holiday}`, HolidayElement);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const requestLssDeleteHoliday = async (idx: number) => {\r\n  try {\r\n    const response = await Axios.delete(`${apiStrings['api-uri'].lss.holiday}`, {\r\n      params: {\r\n        idx: idx,\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssPostHoliday = async (element: PostHolidayType) => {\r\n  try {\r\n    const response = await Axios.post(`${apiStrings['api-uri'].lss.holiday}`, element);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const requestLssGetHolidayInfo = async () => {\r\n  try {\r\n    const response = await Axios.get(`${apiStrings['api-uri'].lss.holidayInfo}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n","import Axios from 'axios';\r\nimport { CaptionAddDetailType, CaptionDetailType } from '../types/Caption';\r\nimport apiStrings from './api.server.json';\r\n\r\nconst API = apiStrings['api-uri'].caption;\r\nexport const requestPutCaption = async (data: Partial<CaptionDetailType>) => {\r\n  try {\r\n    const response = await Axios.put(`${API.caption}/${data.caption_idx}`, data);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nexport const requestCreateCaption = async (data: Partial<CaptionAddDetailType>) => {\r\n  try {\r\n    const response = await Axios.post(`${API.caption}`, data);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\nexport const requestGetCaption = async (caption_idx: number) => {\r\n  try {\r\n    const response = await Axios.get(`${API.caption}/${caption_idx}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport const requestGetCaptionList = async () => {\r\n  try {\r\n    const response = await Axios.get(`${API.caption}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport const requestDeleteCaption = async (caption_idx: number) => {\r\n  try {\r\n    const response = await Axios.delete(`${API.caption}/${caption_idx}`);\r\n    return response;\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n","import {\r\n  CaptionAddDetailType,\r\n  CaptionDescType,\r\n  CaptionDetailType,\r\n  CaptionEquipidxType,\r\n  CaptionIdxType,\r\n  CaptionModifyContentsType,\r\n  CaptionTitleType,\r\n  CaptionType,\r\n} from './../types/Caption';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { message } from 'antd';\r\nimport { requestCreateCaption, requestDeleteCaption, requestGetCaption, requestGetCaptionList, requestPutCaption } from '../api';\r\nimport { CaptionsListType, ResponseBodyCaption, ResponseBodyCaptionsList } from '../types/Caption';\r\nimport { ResponseVo } from '../types/Common';\r\n\r\nexport const CAPTION = 'CAPTION' as const;\r\n\r\ntype SliceState = {\r\n  /**\r\n   * 디테일관련된 상태값들\r\n   */\r\n  title: string;\r\n  desc: string;\r\n  equip_idx: Array<number>;\r\n  contents: Array<{\r\n    content: string;\r\n    caption_contents_idx: number;\r\n    caption_idx: number;\r\n    reg_date: string;\r\n    seq: number;\r\n    uuid?: string;\r\n  }>;\r\n  //Partial<Array<CaptionType>>\r\n  /**\r\n   * 자막 객체 리스트를 보관하기 위한 상태값\r\n   */\r\n  captionsList: CaptionsListType;\r\n\r\n  //\r\n  isSpin: boolean;\r\n  isProgress: boolean;\r\n  //\r\n  caption_idx: number;\r\n};\r\n\r\ntype PayloadType = {\r\n  [CAPTION]: SliceState;\r\n};\r\n\r\n/**\r\n * 자막객체의 디테일을 얻어옴.\r\n */\r\nexport const fetchGetCaptionList = createAsyncThunk(`${CAPTION}/fetchGetCaptionList`, async () => {\r\n  const response = await requestGetCaptionList();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchCreateCaption = createAsyncThunk(`${CAPTION}/fetchCreateCaption`, async (data: Partial<CaptionAddDetailType>) => {\r\n  const response = await requestCreateCaption({ ...data });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetCaption = createAsyncThunk(`${CAPTION}/fetch`, async (caption_idx: number) => {\r\n  const response = await requestGetCaption(caption_idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n/**\r\n * 자막 객체를 삭제함.\r\n */\r\nexport const fetchDeleteCaption = createAsyncThunk(`${CAPTION}/fetchGetEquipList`, async (caption_idx: number) => {\r\n  const response = await requestDeleteCaption(caption_idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\n/**\r\n * 자막 객체를 조회함.\r\n */\r\nexport const fetchGetEquipList = createAsyncThunk(`${CAPTION}/fetchGetEquipList`, async () => {});\r\n/**\r\n * 자막 객체를 수정함.\r\n */\r\nexport const fetchPutCaption = createAsyncThunk(`${CAPTION}/fetchPutCaption`, async (data: Partial<CaptionDetailType>) => {\r\n  const response = await requestPutCaption({ ...data });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\n/**\r\n * 자막 객체를 생성함.\r\n */\r\nexport const fetchPostCaption = createAsyncThunk(`${CAPTION}/fetchPo stCaption`, async () => {});\r\n\r\nconst captionSlice = createSlice({\r\n  name: CAPTION,\r\n  initialState: {\r\n    title: '자막',\r\n    desc: '자막 설명',\r\n    equip_idx: [],\r\n    contents: [],\r\n    captionsList: [],\r\n    isSpin: false,\r\n    isProgress: false,\r\n    caption_idx: 0,\r\n  } as SliceState,\r\n  reducers: {\r\n    setCaptionDesc: (state, action: PayloadAction<CaptionDescType>) => {\r\n      state.desc = action.payload.desc;\r\n    },\r\n    setCaptionTitle: (state, action: PayloadAction<CaptionTitleType>) => {\r\n      state.title = action.payload.title;\r\n    },\r\n    setCaptionEquipIdx: (state, action: PayloadAction<CaptionEquipidxType>) => {\r\n      state.equip_idx = action.payload.equip_idx;\r\n    },\r\n    setCaptionContents: (state, action: PayloadAction<any>) => {\r\n      state.contents = action.payload;\r\n    },\r\n    setCaptionSelectedIdx: (state, action: PayloadAction<CaptionIdxType>) => {\r\n      state.caption_idx = action.payload.caption_idx;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    // 자막을 수정하고, 추가하고, 삭제한다.\r\n    // 자막객체의 인덱스로 조회한다. 이 때 조회하는 정보는 자막객체의 제목,설명,적용된장치들,자막목록이다. (디테일)\r\n    // 자막 객체가 어떠한것이 있는지 조회하는 api가 필요하다. (리스트 조회)\r\n    //\r\n\r\n    [fetchGetCaptionList.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetCaptionList.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.captionsList = result;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetCaptionList.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        message.success('성공적으로 삭제되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    // 자막의 디테일정보를 받아온다.\r\n    [fetchGetCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        console.log(result);\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchCreateCaption.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchCreateCaption.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaption>>) => {\r\n      if (action.payload === undefined) {\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.contents = result;\r\n        message.success('성공하였습니다');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchCreateCaption.rejected.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyCaptionsList>>) => {\r\n      message.error('실패하였습니다');\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCaptionDesc, setCaptionTitle, setCaptionEquipIdx, setCaptionContents, setCaptionSelectedIdx } = captionSlice.actions;\r\nexport default captionSlice.reducer;\r\nexport const selectCaption = (state: PayloadType) => state;\r\n","import styled from 'styled-components';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\ntype TypeNotice = {\r\n  isEdit?: boolean;\r\n};\r\n\r\nexport const CaptionListWrapped = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  /* margin-top: 10%; */\r\n  overflow: auto;\r\n  padding: 0 30px;\r\n  font-family: 'bmjua';\r\n`;\r\nexport const NoticeBox = styled.div<TypeNotice>`\r\n  display: flex;\r\n  height: 0;\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 100%;\r\n  padding: 0 3rem;\r\n  top: 0;\r\n  z-index: 99;\r\n  background-color: white;\r\n  transition: all 0.1s;\r\n  width: 100%;\r\n  ${(props) =>\r\n    props.isEdit &&\r\n    `\r\n      visibility: visible;\r\n      height: 11%;\r\n    `};\r\n`;\r\n\r\ntype TypeCaptionItemWrapped = {\r\n  isSelected?: boolean;\r\n};\r\nexport const CaptionItemWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  color: black;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\n      cursor:pointer;\r\n      color:blue;\r\n      `}\r\n`;\r\nexport const ItemsWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n  transition: filter 0.25s;\r\n  font-size: 1.3rem;\r\n  margin: 0.2rem;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\nfilter : blur(2px)\r\n`}\r\n`;\r\n\r\nexport const DragIndicatorIconWrapped = styled(DragIndicatorIcon)`\r\n  color: #dfe6e9;\r\n  vertical-align: middle;\r\n`;\r\n\r\nexport const SpanIconWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\nexport const CaptionSpan = styled.span`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n`;\r\n\r\nexport const DeleteOutlinedWrapped = styled(DeleteOutlined)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0 3rem;\r\n  color: #ce1b1b;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-top: 1px solid black;\r\n  border-bottom: 1px solid black;\r\n  padding: 20px 0;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC, memo } from 'react';\r\nimport { IconWrapped, Wrapped } from './CaptionListHeader.styled';\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = memo(({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>자막을 등록하거나 관리하세요(최대 100글자)</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default DrawerTitle;\r\n","import { Input, Popconfirm } from 'antd';\r\nimport React, { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable, DroppableProvided, DroppableStateSnapshot, DropResult } from 'react-beautiful-dnd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { CAPTION, fetchGetCaption, fetchPutCaption, selectCaption, setCaptionContents } from '../../../slice/CaptionSlice';\r\nimport { CaptionDetailType, CaptionModifyContentsType } from '../../../types/Caption';\r\nimport {\r\n  CaptionItemWrapped,\r\n  CaptionListWrapped,\r\n  CaptionSpan,\r\n  DeleteOutlinedWrapped,\r\n  DragIndicatorIconWrapped,\r\n  ItemsWrapped,\r\n  NoticeBox,\r\n  SpanIconWrapped,\r\n} from './CaptionList.styled';\r\nimport DrawerTitle from './CaptionListHeader';\r\n\r\nconst grid: number = 2;\r\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\r\n  userSelect: 'none',\r\n  padding: grid * 2,\r\n  margin: `0 0 ${grid}px 0`,\r\n  background: isDragging ? '#ecf0f188' : 'white',\r\n  borderRadius: '8px',\r\n  width: '100%',\r\n  ...draggableStyle,\r\n});\r\nconst reorder = (list: Array<any>, startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n};\r\n\r\n//드래그끝나면 재정렬해야함\r\ntype CaptionType = Partial<{\r\n  content: string;\r\n  seq: number;\r\n  uuid: string;\r\n}>;\r\n\r\n//가공된 자막의 타입\r\ntype CaptionComponentType = {\r\n  captionList?: Array<CaptionType>;\r\n  innerText?: string;\r\n  uuid?: string;\r\n  content?: string | undefined;\r\n};\r\n\r\nconst CaptionList: FC<{\r\n  title: string;\r\n  desc: string;\r\n  equip_idx: Array<number>;\r\n  captionIdx: number;\r\n}> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const storeContents = useSelector(selectCaption)[CAPTION].contents;\r\n  const { title, desc, equip_idx, captionIdx } = props;\r\n  const [contents, setContents] = useState<Array<CaptionType>>(); //원본 자막데이터\r\n  //가공된데이터\r\n  const [captionList, setCaptionList] = useState<any[]>([\r\n    {\r\n      captionList: [{ content: '', seq: 0, uuid: '' }],\r\n      innerText: '',\r\n      uuid: uuid(),\r\n      content: '',\r\n    },\r\n  ]); //uuid가 생성된 자막목록\r\n  const [selectedItemUUID, setSelectedItemUUID] = useState('');\r\n  const [selectedCaption, setSelectedCaption] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const InputTextRef = useRef<Input>(null);\r\n\r\n  useEffect(() => {\r\n    if (!!captionIdx) {\r\n      dispatch(fetchGetCaption(captionIdx));\r\n    } else {\r\n      const initData = [\r\n        {\r\n          content: '자막을 입력해주세요',\r\n          seq: 0,\r\n        },\r\n      ];\r\n      setContents(initData);\r\n      //기본 자막으로 설정한다\r\n      dispatch(setCaptionContents(initData));\r\n    }\r\n  }, [captionIdx]);\r\n\r\n  useEffect(() => {\r\n    if (captionIdx) {\r\n      storeContents && setContents(storeContents);\r\n    }\r\n  }, [storeContents]);\r\n\r\n  /**\r\n   * 현재 인풋이 아니라 drawer화면의 아무곳이나 클릭하면 수정을 취소하는 훅스함수\r\n   */\r\n  useEffect(() => {\r\n    const $el = document.querySelector('[data-caption=\"caption\"]');\r\n    $el &&\r\n      $el.addEventListener('click', (e) => {\r\n        const target = e.target as HTMLInputElement;\r\n        //input요소를 클릭하면 그냥 함수종료\r\n        if (target.classList.contains('ant-input')) {\r\n          return;\r\n        }\r\n        resetDefaultState();\r\n      });\r\n  }, []);\r\n\r\n  /**\r\n   * 자막의 내용, 삭제아이콘을 반환합니다\r\n   */\r\n  const CatpionContent: FC<CaptionComponentType> = ({ uuid, innerText }: CaptionComponentType) => {\r\n    const onConfirm = useCallback(\r\n      (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n        e && e.stopPropagation();\r\n        if (!!!captionList) {\r\n          return;\r\n        }\r\n        if (!!captionIdx) {\r\n          const data = JSON.parse(JSON.stringify(captionList));\r\n          //선택된 요소를 삭제후 put을 전송합니다.\r\n          const result = data.filter((caption: CaptionType) => caption.uuid !== uuid);\r\n          const sendData: CaptionDetailType = {\r\n            title: title,\r\n            desc: desc,\r\n            equip_idx: equip_idx,\r\n            contents: result,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchPutCaption(sendData));\r\n        } else {\r\n          const data = JSON.parse(JSON.stringify(captionList));\r\n          const result = data.filter((caption: CaptionType) => caption.uuid !== uuid);\r\n\r\n          setContents(result);\r\n          setCaptionList(result);\r\n          dispatch(setCaptionContents(result));\r\n        }\r\n      },\r\n      [captionList]\r\n    );\r\n    const onCancel = useCallback((e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      e && e.stopPropagation();\r\n      resetDefaultState();\r\n    }, []);\r\n    return (\r\n      <SpanIconWrapped>\r\n        <CaptionSpan data-set={'caption'}>{innerText}</CaptionSpan>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onConfirm} onCancel={onCancel} okType=\"primary\">\r\n          <DeleteOutlinedWrapped />\r\n        </Popconfirm>\r\n      </SpanIconWrapped>\r\n    );\r\n  };\r\n  /**\r\n   * 내용을 수정할때 input박스가 나오는 기능\r\n   */\r\n  const ChangeModeComponent: FC = () => {\r\n    const onKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.code === 'Escape') {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        resetDefaultState();\r\n      }\r\n    }, []);\r\n    /**\r\n     * input 생성시 포커스맞춤\r\n     */\r\n    useEffect(() => {\r\n      const target = InputTextRef.current as Input;\r\n      target.setValue(selectedCaption);\r\n      target.focus({ preventScroll: true }); //preventscroll설정을 false로 할 경우 drawer 관련 랜더링 깨짐 증상이 있음\r\n    }, []);\r\n    return <Input ref={InputTextRef} maxLength={100} onPressEnter={onPressEnter} onKeyDown={onKeyDown}></Input>;\r\n  };\r\n  /**\r\n   * 선택아이템,아이템,editmode 값들을 초기화합니다.\r\n   */\r\n  const resetDefaultState = useCallback(() => {\r\n    setSelectedItemUUID('');\r\n    setSelectedCaption('');\r\n    setEditMode(false);\r\n  }, []);\r\n\r\n  /**\r\n   * uuid 생성하는 훅스\r\n   */\r\n  useEffect(() => {\r\n    if (!!!contents) {\r\n      return;\r\n    }\r\n    const data = JSON.parse(JSON.stringify(contents));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n  }, [contents]);\r\n\r\n  /**\r\n   * 자막을 클릭하면 입력상태를 변경함\r\n   */\r\n  const onCaptionClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, item: CaptionType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    //선택된 아이템이 다르면 편집모드를 끄고, 현재 편집모드일 경우 다른곳을 클릭하면 편집모드를 취소시킨다.\r\n    const target = e.target as HTMLElement;\r\n    //자막이 들어있는 span이 아니라면 모두 취소\r\n    if (target.dataset.set !== 'caption') {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    // 다른 아이템을 클릭하면 입력상태를 초기화시킴\r\n    if (selectedItemUUID !== item.uuid && editMode) {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    //선택된아이템을 설정하고 편집모드로 설정함\r\n    if (item.uuid) {\r\n      setSelectedItemUUID(item.uuid);\r\n      setSelectedCaption(item.content as string);\r\n      setEditMode(true);\r\n    }\r\n  };\r\n  /**\r\n   * 엔터 클릭시 수정된 내용으로 서버로 전송\r\n   */\r\n  const onPressEnter = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    //빈값이면 그냥 리턴\r\n    const target = e.target as HTMLTextAreaElement;\r\n    const inputText = target.value;\r\n    if (inputText.trim() === '') {\r\n      return;\r\n    }\r\n    if (!!!captionList) {\r\n      return;\r\n    }\r\n    if (captionIdx) {\r\n      const data: CaptionModifyContentsType = JSON.parse(JSON.stringify(captionList));\r\n      data.forEach((caption: CaptionType) => {\r\n        if (selectedItemUUID === caption.uuid) {\r\n          caption.content = inputText;\r\n        }\r\n      });\r\n      const sendData: CaptionDetailType = {\r\n        title: title,\r\n        desc: desc,\r\n        equip_idx: equip_idx,\r\n        contents: data,\r\n        caption_idx: captionIdx,\r\n      };\r\n      dispatch(fetchPutCaption(sendData));\r\n      resetDefaultState();\r\n    } else {\r\n      const data: CaptionModifyContentsType = JSON.parse(JSON.stringify(captionList));\r\n      data.forEach((caption: CaptionType) => {\r\n        if (selectedItemUUID === caption.uuid) {\r\n          caption.content = inputText;\r\n        }\r\n      });\r\n      setCaptionList(data);\r\n      dispatch(setCaptionContents(data));\r\n      resetDefaultState();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 드래그앤드랍 정렬후 uuid 재생성하고 서버로 전송함\r\n   */\r\n  const onDragEnd = (result: DropResult): void => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    if (!!!captionList) {\r\n      return;\r\n    }\r\n    if (captionIdx) {\r\n      const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n      const data = JSON.parse(JSON.stringify(fixedItems));\r\n      data.forEach((caption: CaptionType) => {\r\n        caption['uuid'] = uuid();\r\n      });\r\n      setCaptionList(data);\r\n      resetDefaultState();\r\n      const sendData: CaptionDetailType = {\r\n        title: title,\r\n        desc: desc,\r\n        equip_idx: equip_idx,\r\n        contents: data,\r\n        caption_idx: captionIdx,\r\n      };\r\n      dispatch(fetchPutCaption(sendData));\r\n    } else {\r\n      const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n      const data = JSON.parse(JSON.stringify(fixedItems));\r\n      data.forEach((caption: CaptionType) => {\r\n        caption['uuid'] = uuid();\r\n      });\r\n      setCaptionList(data);\r\n      resetDefaultState();\r\n    }\r\n\r\n    // dispatch(fetchPutCaptionContents(data));\r\n  };\r\n\r\n  return (\r\n    <CaptionListWrapped>\r\n      <DrawerTitle\r\n        onClick={() => {\r\n          // 자막을 하나 더한다.\r\n          if (!!!captionList) {\r\n            return;\r\n          }\r\n          if (captionIdx) {\r\n            const data = JSON.parse(JSON.stringify(captionList));\r\n            data.push({\r\n              content: '자막을 입력해주세요',\r\n              seq: 0,\r\n            });\r\n            const sendData: CaptionDetailType = {\r\n              title: title,\r\n              desc: desc,\r\n              equip_idx: equip_idx,\r\n              contents: data,\r\n              caption_idx: captionIdx,\r\n            };\r\n            setContents(data);\r\n            setCaptionList(data);\r\n            dispatch(fetchPutCaption(sendData));\r\n          } else {\r\n            const data = JSON.parse(JSON.stringify(contents));\r\n            data.push({\r\n              content: '자막을 입력해주세요',\r\n              seq: 0,\r\n            });\r\n            setContents(data);\r\n            setCaptionList(data);\r\n            dispatch(setCaptionContents(data));\r\n          }\r\n        }}\r\n      />\r\n      <NoticeBox isEdit={editMode}>enter키를 누르면 내용을 수정합니다, esc키를 누르면 수정을 취소합니다</NoticeBox>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={'droppable'} key={`droppable`}>\r\n          {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              {captionList.map((caption, index) => {\r\n                return (\r\n                  <CaptionItemWrapped\r\n                    key={`caption_${index}_${uuid()}`}\r\n                    onClick={(e) => {\r\n                      onCaptionClick(e, caption);\r\n                    }}\r\n                  >\r\n                    <Draggable key={`key-${caption.uuid}`} draggableId={`id-${index}`} index={index}>\r\n                      {(provided, snapshot) => (\r\n                        <div ref={provided.innerRef} {...provided.draggableProps} style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}>\r\n                          <ItemsWrapped isSelected={editMode && selectedItemUUID !== caption.uuid ? true : false}>\r\n                            <span {...provided.dragHandleProps}>\r\n                              <DragIndicatorIconWrapped />\r\n                            </span>\r\n                            {selectedItemUUID === caption.uuid ? <ChangeModeComponent /> : <CatpionContent innerText={caption.content} uuid={caption.uuid} />}\r\n                          </ItemsWrapped>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  </CaptionItemWrapped>\r\n                );\r\n              })}\r\n              <div>{provided.placeholder}</div>\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </CaptionListWrapped>\r\n  );\r\n};\r\n\r\nexport default CaptionList;\r\n","import { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Modal } from 'antd';\r\nimport React from 'react';\r\n\r\nexport const confirm = (props) => {\r\n  const {\r\n    title = 'title',\r\n    content = 'content',\r\n    onOk = () => {},\r\n    onCancle = () => {},\r\n  } = props;\r\n\r\n  Modal.confirm({\r\n    width: 500,\r\n    title: title,\r\n    icon: <ExclamationCircleOutlined />,\r\n    content: content,\r\n    okText: '확인',\r\n    cancelText: '취소',\r\n    onOk: onOk,\r\n    onCancel: onCancle,\r\n  });\r\n};\r\n\r\nconst ConfirmModal = (props) => {};\r\n\r\nexport default ConfirmModal;\r\n","import { Button, Col, Input, message, Row, Select } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport axios from 'axios';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport CaptionList from './components/CaptionList';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { confirm } from '../ConfirmModal';\r\nimport {\r\n  CAPTION,\r\n  fetchCreateCaption,\r\n  fetchPutCaption,\r\n  selectCaption,\r\n  setCaptionContents,\r\n  setCaptionDesc,\r\n  setCaptionEquipIdx,\r\n  setCaptionSelectedIdx,\r\n  setCaptionTitle,\r\n} from '../../slice/CaptionSlice';\r\nimport { CaptionAddDetailType, CaptionDetailType } from '../../types/Caption';\r\nconst ManagementCaptionForm = (props: any) => {\r\n  const history = useHistory();\r\n  const equipIdx = props.match.params?.equip_idx;\r\n\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectCaption)[CAPTION];\r\n  const [isBack, setIsBack] = useState(true);\r\n  const [equipList, setEquipList] = useState([]);\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [applyEquip, setApplyEquip] = useState<Array<number>>([]);\r\n  const [captionIdx, setCaptionidx] = useState(equipIdx);\r\n\r\n  const mode = props.location.state?.mode;\r\n  useEffect(() => {\r\n    if (mode === 'modify' && props.location.state?.record) {\r\n      const title = props.location.state.record?.title;\r\n      const desc = props.location.state.record?.desc;\r\n      const equipIdxList = props.location.state.record?.equipsIdxList;\r\n      console.log(equipIdxList);\r\n      setTitle(title);\r\n      dispatch(\r\n        setCaptionTitle({\r\n          title: title,\r\n        })\r\n      );\r\n      setDescription(desc);\r\n      dispatch(\r\n        setCaptionDesc({\r\n          desc: desc,\r\n        })\r\n      );\r\n      setApplyEquip(equipIdxList);\r\n      dispatch(\r\n        setCaptionEquipIdx({\r\n          equip_idx: equipIdxList,\r\n        })\r\n      );\r\n    }\r\n    getEquipList();\r\n  }, [props.location.state?.record, dispatch]);\r\n\r\n  const getEquipList = () => {\r\n    axios\r\n      .get<any, any>(`/equip/index`, {\r\n        params: {\r\n          eqpType: '',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    // 수정된 제목, 설명, 장비들을 전송한다.\r\n    if (mode === 'modify') {\r\n      confirm({\r\n        title: `자막을 수정하시겠습니까?`,\r\n        content: '',\r\n        onOk: () => {\r\n          if (!title) {\r\n            message.error('제목이 없습니다');\r\n            return;\r\n          }\r\n          const sendData: CaptionDetailType = {\r\n            title: title,\r\n            desc: description,\r\n            equip_idx: applyEquip,\r\n            contents: state.contents,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchPutCaption(sendData));\r\n          setIsBack(false);\r\n          setTimeout(() => history.push('/screen'), 1000);\r\n        },\r\n      });\r\n    } else {\r\n      confirm({\r\n        title: `자막을 등록하시겠습니까?`,\r\n        content: '',\r\n        onOk: () => {\r\n          if (!title) {\r\n            message.error('제목이 없습니다');\r\n            return;\r\n          }\r\n          const sendData: CaptionAddDetailType = {\r\n            title: title,\r\n            desc: description,\r\n            equip_idx: applyEquip,\r\n            contents: state.contents,\r\n            caption_idx: captionIdx,\r\n          };\r\n          dispatch(fetchCreateCaption(sendData));\r\n          setIsBack(false);\r\n          setTimeout(() => history.push('/screen'), 200);\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const formBlockStyle = {\r\n    marginTop: '25px',\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title='자막 등록/수정'\r\n        subTitle='화면별 자막 출력 목록을 편집할 수 있습니다.'\r\n      />\r\n      <Row\r\n        style={{\r\n          border: '1px solid #dfe6e9',\r\n          padding: '50px',\r\n        }}\r\n      >\r\n        <Col\r\n          span={12}\r\n          style={{\r\n            height: '600px',\r\n          }}\r\n        >\r\n          <div>\r\n            <FormGuideComponent title='제목' />\r\n            <Input\r\n              value={title}\r\n              onChange={(e) => {\r\n                setTitle(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='설명' />\r\n            <Input\r\n              value={description}\r\n              onChange={(e) => {\r\n                setDescription(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='기기 선택' />\r\n            <Select\r\n              showArrow\r\n              mode='multiple'\r\n              value={applyEquip}\r\n              placeholder='자막을 사용할 기기를 선택해주세요'\r\n              style={{ width: '100%' }}\r\n              onChange={(e) => {\r\n                setApplyEquip(e);\r\n              }}\r\n            >\r\n              {equipList.map((item: any, idx) => {\r\n                return (\r\n                  <Select.Option key={uuid()} value={item.idx}>\r\n                    {item.eqpName} ({item.idx})\r\n                  </Select.Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='등록된 장치 수' />\r\n            <Text\r\n              keyboard\r\n              style={{\r\n                marginTop: '20px',\r\n              }}\r\n            >\r\n              {applyEquip.length}개\r\n            </Text>\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title='등록된 자막 수' />\r\n            <Text\r\n              keyboard\r\n              style={{\r\n                marginTop: '20px',\r\n              }}\r\n            >\r\n              {state.contents.length}개\r\n            </Text>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              position: 'absolute',\r\n              bottom: 0,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n            <Button type='primary' block onClick={onSubmit}>\r\n              업 로 드\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          span={12}\r\n          style={{\r\n            height: '600px',\r\n          }}\r\n        >\r\n          <CaptionList\r\n            title={title}\r\n            desc={description}\r\n            equip_idx={applyEquip}\r\n            captionIdx={captionIdx}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      {/* <UploadingProgressIndicator isProgress={isProgress} progressPercentage={progressPercentage} /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementCaptionForm;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport './ManagementDcsFileUploadComponent.css';\r\n\r\nconst ContentsBtn = styled.div`\r\n  user-select: none;\r\n  cursor: pointer;\r\n  margin-top: 5px;\r\n  font-family: NotoSansKR-Bold;\r\n  font-style: italic;\r\n  color: #0984e3;\r\n`;\r\n\r\nconst UploadWrapped = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\ntype ManagementDcsFileUploadComponentProps = {\r\n  id: string;\r\n  fileInfoForScreen: any;\r\n  onChangeFileInfo: (fileInfo: any) => void;\r\n  onSelectScreen: (screen: any) => void;\r\n};\r\n\r\nconst ManagementDcsFileUploadComponent = ({ id, fileInfoForScreen, onChangeFileInfo, onSelectScreen }: ManagementDcsFileUploadComponentProps) => {\r\n  const dummyRequest = ({ onSuccess }: any) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const beforeUpload = () => {\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <UploadWrapped>\r\n      <Upload\r\n        showUploadList={false}\r\n        beforeUpload={beforeUpload}\r\n        customRequest={dummyRequest}\r\n        multiple={true}\r\n        fileList={fileInfoForScreen?.fileList}\r\n        onChange={(info) => {\r\n          if (!info) return;\r\n          if (!(info?.file?.type?.includes('image') || info?.file?.type?.includes('video'))) {\r\n            message.error(`이미지 또는 비디오 파일만 업로드 가능합니다 : ${info.file.name}`);\r\n            return;\r\n          }\r\n          let copiedFileList = Array.from(info.fileList.filter((item) => item?.type?.includes('image') || item?.type?.includes('video')));\r\n          copiedFileList.forEach((file: any, idx) => {\r\n            file.seq = idx;\r\n\r\n            if (!('file_status' in file && file.file_status !== 'done') && file.type.includes('img')) file.duration = 10;\r\n          });\r\n          console.log(copiedFileList);\r\n          onChangeFileInfo({\r\n            id: id,\r\n            // 이미지와 비디오만 필터링\r\n            fileList: copiedFileList,\r\n          });\r\n          onSelectScreen(id);\r\n        }}\r\n      >\r\n        <PlusCircleOutlined\r\n          style={{\r\n            fontSize: '2em',\r\n            cursor: 'pointer',\r\n          }}\r\n        />\r\n      </Upload>\r\n\r\n      <ContentsBtn\r\n        onClick={(e) => {\r\n          onSelectScreen(id);\r\n        }}\r\n      >\r\n        <Button>{`콘텐츠 (${fileInfoForScreen?.fileList?.length | 0} 개)`}</Button>\r\n      </ContentsBtn>\r\n    </UploadWrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsFileUploadComponent;\r\n","import styled from 'styled-components';\r\n\r\nexport const LayoutWrapped = styled.div`\r\n  width: 100%;\r\n  height: 250px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #d9d9d9;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nconst Screen = styled.div<{ flexGrow?: number }>`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex: ${(props) => (props.flexGrow ? props.flexGrow : 1)};\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #d9d9d9;\r\n`;\r\n\r\nexport const Row = styled(Screen)`\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const Col = styled(Screen)`\r\n  flex-direction: column;\r\n`;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout1000 = ({ fileInfo, onChangeFileInfo, onSelectScreen }: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id=\"screen1\"\r\n          fileInfoForScreen={fileInfo && 'screen1' in fileInfo && fileInfo['screen1']}\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <Col>\r\n          <Col>\r\n            <ManagementDcsFileUploadComponent\r\n              id=\"screen2\"\r\n              fileInfoForScreen={fileInfo && 'screen2' in fileInfo && fileInfo['screen2']}\r\n              onChangeFileInfo={onChangeFileInfo}\r\n              onSelectScreen={onSelectScreen}\r\n            />\r\n          </Col>\r\n          <Col></Col>\r\n        </Col>\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout1000;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout101 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout101;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout102 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout102;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout103 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={2}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout103;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { LayoutWrapped, Row } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout104 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen1'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen2'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n      <Row flexGrow={1}>\r\n        <ManagementDcsFileUploadComponent\r\n          id='screen3'\r\n          fileInfoForScreen={\r\n            fileInfo && 'screen3' in fileInfo && fileInfo['screen3']\r\n          }\r\n          onChangeFileInfo={onChangeFileInfo}\r\n          onSelectScreen={onSelectScreen}\r\n        />\r\n      </Row>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout104;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout105 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout105;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout106 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout106;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout107 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen3'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen3' in fileInfo && fileInfo['screen3']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout107;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout108 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout108;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout109 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout109;\r\n","import React from 'react';\r\nimport ManagementDcsFileUploadComponent from '../dcs/ManagementDcsFileUploadComponent';\r\nimport { Col, LayoutWrapped } from './Layout.styled';\r\nimport { LayoutProps } from './LayoutType';\r\n\r\nconst Layout110 = ({\r\n  fileInfo,\r\n  onChangeFileInfo,\r\n  onSelectScreen,\r\n}: LayoutProps) => {\r\n  return (\r\n    <LayoutWrapped>\r\n      <Col>\r\n        <Col flexGrow={2}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen1'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen1' in fileInfo && fileInfo['screen1']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n        <Col flexGrow={1}>\r\n          <ManagementDcsFileUploadComponent\r\n            id='screen2'\r\n            fileInfoForScreen={\r\n              fileInfo && 'screen2' in fileInfo && fileInfo['screen2']\r\n            }\r\n            onChangeFileInfo={onChangeFileInfo}\r\n            onSelectScreen={onSelectScreen}\r\n          />\r\n        </Col>\r\n      </Col>\r\n    </LayoutWrapped>\r\n  );\r\n};\r\n\r\nexport default Layout110;\r\n","import Layout1000 from '../dcs-layout/Layout1000';\r\nimport Layout101 from '../dcs-layout/Layout101';\r\nimport Layout102 from '../dcs-layout/Layout102';\r\nimport Layout103 from '../dcs-layout/Layout103';\r\nimport Layout104 from '../dcs-layout/Layout104';\r\nimport Layout105 from '../dcs-layout/Layout105';\r\nimport Layout106 from '../dcs-layout/Layout106';\r\nimport Layout107 from '../dcs-layout/Layout107';\r\nimport Layout108 from '../dcs-layout/Layout108';\r\nimport Layout109 from '../dcs-layout/Layout109';\r\nimport Layout110 from '../dcs-layout/Layout110';\r\n\r\ntype ApplyLaoutType = {\r\n  layoutType: string;\r\n  fileInfo: any;\r\n  onChangeFileInfo: (fileInfo: { id: string; fileList: any[] }) => void;\r\n  onSelectScreen: (screen: any) => void;\r\n};\r\n\r\nexport const ApplyLayout = ({ fileInfo, layoutType, onChangeFileInfo, onSelectScreen }: ApplyLaoutType) => {\r\n  switch (layoutType) {\r\n    case 'layout101':\r\n      return <Layout101 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout102':\r\n      return <Layout102 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout103':\r\n      return <Layout103 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout104':\r\n      return <Layout104 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout105':\r\n      return <Layout105 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout106':\r\n      return <Layout106 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout107':\r\n      return <Layout107 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout108':\r\n      return <Layout108 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout109':\r\n      return <Layout109 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout110':\r\n      return <Layout110 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n    case 'layout1000':\r\n      return <Layout1000 fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />;\r\n\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\nexport default ApplyLayout;\r\n","import React, { useEffect } from 'react';\r\nimport { Modal } from 'antd';\r\n\r\nimport ReactPlayer from 'react-player';\r\nimport { DEV_SERVER } from '../Constants';\r\nimport Axios from 'axios';\r\n\r\nexport const modalDcsPreview = (props) => {\r\n  const { item } = props;\r\n  console.log(props);\r\n  let sourceUrl = '';\r\n  if (item && item.file_status && item.file_status === 'done') {\r\n    if (item.type.includes('image')) {\r\n      sourceUrl = `${Axios.defaults.baseURL}/files/dcs/stream/${item.saveName}`;\r\n    } else {\r\n      sourceUrl = `${Axios.defaults.baseURL}/files/dcs/stream/video/${item.saveName}`;\r\n    }\r\n  } else {\r\n    console.log('usrlcreateobjecturl');\r\n    sourceUrl = URL.createObjectURL(item.originFileObj);\r\n  }\r\n  Modal.confirm({\r\n    title: ``,\r\n    width: 600,\r\n    className: 'modal-preview',\r\n    maskClosable: true,\r\n    content: <div style={{ display: 'flex', justifyContent: 'center' }}>{item.type.includes('image') ? imagePlayer(sourceUrl) : videoPlayer(sourceUrl)}</div>,\r\n    okText: '확인',\r\n  });\r\n};\r\n\r\nconst imagePlayer = (url) => {\r\n  return <img style={{ maxWidth: '400px' }} src={url} alt={`imagePreview`} />;\r\n};\r\nconst videoPlayer = (url) => {\r\n  return (\r\n    <ReactPlayer\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      style={{ maxWidth: '500px' }}\r\n      config={{\r\n        file: {\r\n          attributes: {\r\n            // preload: 'none',\r\n            controlsList: 'nodownload',\r\n          },\r\n        },\r\n      }}\r\n      url={url}\r\n      playing={url ? true : false}\r\n      // url={'http://192.168.0.54:28080/files/banner/b3b5ba7e-adcc-4b39-819f-d71b1696549b.mp4'}\r\n      // playing={true}\r\n      muted\r\n    />\r\n  );\r\n};\r\n\r\nconst ManagementDcsFilePreviewComponent = (props) => {\r\n  return <div></div>;\r\n};\r\n\r\nexport default ManagementDcsFilePreviewComponent;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, EyeOutlined } from '@ant-design/icons';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { Col, Input, Row, Tooltip } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport uuid from 'react-uuid';\r\nimport { modalDcsPreview } from './ManagementDcsFilePreviewComponent';\r\n\r\nconst ManagementDcsContentsListComponent = (props) => {\r\n  const [fileList, setFileList] = useState([]);\r\n  const [selectedScreen, setSelectedScreen] = useState('');\r\n  const { onChangeFileList } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(fileList);\r\n    setFileList(props.fileList ? createSeqFileList() : []);\r\n    setSelectedScreen(props.selectedScreen ? props.selectedScreen : '');\r\n  }, [props]);\r\n\r\n  // required :: props.fileList\r\n  // props.fileList가 비어있을 때 예외처리를 안함\r\n  // 반드시 props.fileList가 있을 때 사용해야함\r\n  const createSeqFileList = () => {\r\n    var copiedFileList = Array.from(props.fileList);\r\n    copiedFileList.forEach((item, idx) => {\r\n      if (!('seq' in item)) {\r\n        item['seq'] = idx;\r\n      }\r\n      if (!('duration' in item)) {\r\n        item['duration'] = 10;\r\n      }\r\n    });\r\n\r\n    setFileList(copiedFileList);\r\n    return copiedFileList;\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(\r\n      fileList,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n    setFileList(fixedItems);\r\n    onChangeFileList(selectedScreen, fixedItems);\r\n  };\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  const grid = 2;\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n    width: '100%',\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  const onDeleteFile = (targetIdx) => {\r\n    if (typeof targetIdx === 'number') {\r\n      let copiedFileList = Array.from(fileList);\r\n      copiedFileList.splice(targetIdx, 1);\r\n      copiedFileList.forEach((copiedFile, idx) => {\r\n        copiedFile.seq = idx;\r\n      });\r\n      onChangeFileList(selectedScreen, copiedFileList);\r\n    }\r\n  };\r\n\r\n  const onChangeDuration = (targetIdx, duration) => {\r\n    const copiedFileList = Array.from(fileList);\r\n    copiedFileList[targetIdx]['duration'] = duration;\r\n    onChangeFileList(selectedScreen, copiedFileList);\r\n  };\r\n  return (\r\n    <div style={{ marginTop: '15px' }}>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={uuid()}>\r\n          {(provided, snapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              <div style={{ marginTop: '15px' }}>\r\n                {fileList.map((item, index) => {\r\n                  return (\r\n                    <Draggable\r\n                      key={`key-${index}`}\r\n                      draggableId={`id-${index}`}\r\n                      index={index}\r\n                    >\r\n                      {(provided, snapshot) => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          style={getItemStyle(\r\n                            snapshot.isDragging,\r\n                            provided.draggableProps.style\r\n                          )}\r\n                        >\r\n                          <Row>\r\n                            <Col span={11}>\r\n                              <div style={{ display: 'flex' }}>\r\n                                <span {...provided.dragHandleProps}>\r\n                                  <DragIndicatorIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                </span>\r\n                                <div\r\n                                  className={`content-title`}\r\n                                  title={item.name}\r\n                                  onClick={() => {\r\n                                    console.log(item);\r\n\r\n                                    modalDcsPreview({ item });\r\n                                  }}\r\n                                >\r\n                                  {item.name.length > 20\r\n                                    ? `${item.name.substring(0, 21)}...`\r\n                                    : item.name}\r\n                                </div>\r\n                              </div>\r\n                            </Col>\r\n                            <Col\r\n                              span={6}\r\n                              offset={1}\r\n                              style={{ textAlign: 'center' }}\r\n                            >\r\n                              <Input\r\n                                style={{ width: '70%', borderColor: '#ecf0f1' }}\r\n                                size='small'\r\n                                value={item.duration}\r\n                                disabled={\r\n                                  item.type.includes('video') ? true : false\r\n                                }\r\n                                onChange={(e) => {\r\n                                  const { value } = e.target;\r\n                                  const reg = /^-?[0-9]*(\\.[0-9]*)?$/;\r\n                                  if (\r\n                                    (!isNaN(value) && reg.test(value)) ||\r\n                                    value === '' ||\r\n                                    value === '-'\r\n                                  ) {\r\n                                    onChangeDuration(index, value);\r\n                                  }\r\n                                }}\r\n                              />{' '}\r\n                              초\r\n                            </Col>\r\n                            <Col\r\n                              span={4}\r\n                              offset={1}\r\n                              style={{ textAlign: 'center' }}\r\n                            >\r\n                              <Tooltip title='미리보기'>\r\n                                <EyeOutlined\r\n                                  style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '1.3em',\r\n                                    marginRight: '10px',\r\n                                  }}\r\n                                  onClick={() => {\r\n                                    modalDcsPreview({ item });\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                              <Tooltip title='삭제'>\r\n                                <DeleteOutlined\r\n                                  style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '1.3em',\r\n                                  }}\r\n                                  onClick={(e) => {\r\n                                    onDeleteFile(index);\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                            </Col>\r\n                          </Row>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  );\r\n                })}\r\n              </div>\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      {fileList.length === 0 ? (\r\n        <div style={{ textAlign: 'center', marginTop: '100px' }}>\r\n          <span style={{ fontStyle: 'italic' }}>등록된 컨텐츠가 없습니다.</span>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsContentsListComponent;\r\n","import { Col, Row, Tabs } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { layout1000, layout101, layout102, layout103, layout104, layout105, layout106, layout107, layout108, layout109, layout110 } from '../CommonImage';\r\nimport Layout108 from '../dcs-layout/Layout108';\r\n\r\nconst ManagementDcslayout = (props: any) => {\r\n  const { onChangeLayout } = props;\r\n\r\n  const [dcsType, setDcsType] = useState(props.dcsType);\r\n\r\n  useEffect(() => {\r\n    setDcsType(props.dcsType);\r\n  }, [props]);\r\n\r\n  const HorizontalLayoutComponent = styled.img`\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    box-shadow: 2px 2px 2px 2px lightgrey;\r\n    :hover {\r\n      box-shadow: 2px 2px 2px 2px #2980b9;\r\n      filter: opacity(0.5) drop-shadow(0 0 0 #2980b9);\r\n    }\r\n  `; // HorizontalLayoutComponent -- end\r\n\r\n  const colStyle = {\r\n    padding: '20px',\r\n    cursor: 'pointer',\r\n  };\r\n\r\n  const callback = (key: any) => {};\r\n\r\n  return (\r\n    <>\r\n      <Tabs defaultActiveKey=\"H\" onChange={callback}>\r\n        <Tabs.TabPane tab=\"가로형\" key=\"H\">\r\n          <Row>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout101}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout101', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout102}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout102', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout103}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout103', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout104}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout104', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout105}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout105', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout106}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout106', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout107}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout107', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout108}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout108', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              <HorizontalLayoutComponent\r\n                src={layout109}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout109', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              6:4\r\n              <HorizontalLayoutComponent\r\n                src={layout110}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout110', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col span={6} style={colStyle}>\r\n              부산시청\r\n              <HorizontalLayoutComponent\r\n                src={layout1000}\r\n                onClick={(e) => {\r\n                  onChangeLayout(e, 'layout1000', 'H');\r\n                }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Tabs.TabPane>\r\n        {/* <Tabs.TabPane\r\n          tab='세로형'\r\n          key='V'\r\n          disabled={dcsType === 'single' ? false : true}\r\n        ></Tabs.TabPane> */}\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementDcslayout;\r\n","import { Button, Input, Popconfirm } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst NumberInput = styled(Input)`\r\n  width: 6em;\r\n`;\r\nconst ManagementDcsPlaylistTimeControlPanelWrapped = styled.div`\r\n  width: 130px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\ntype ManagementDcsPlaylistTimeControlPanelProps = {\r\n  setPlayDuration: React.Dispatch<React.SetStateAction<number>>;\r\n};\r\nconst ManagementDcsPlaylistTimeControlPanel = ({\r\n  setPlayDuration,\r\n}: ManagementDcsPlaylistTimeControlPanelProps) => {\r\n  const [inputValue, setInputValue] = useState<number>(10);\r\n  return (\r\n    <ManagementDcsPlaylistTimeControlPanelWrapped>\r\n      <NumberInput\r\n        type='number'\r\n        size='small'\r\n        suffix={'초'}\r\n        min={1}\r\n        value={inputValue}\r\n        onChange={(e) => {\r\n          setInputValue(Number(e.target.value));\r\n        }}\r\n      />\r\n      <Popconfirm\r\n        title='적용하시겠습니까?'\r\n        onConfirm={() => {\r\n          setPlayDuration(inputValue);\r\n        }}\r\n      >\r\n        <Button type='default' size='small'>\r\n          적용\r\n        </Button>\r\n      </Popconfirm>\r\n    </ManagementDcsPlaylistTimeControlPanelWrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsPlaylistTimeControlPanel;\r\n","import zIndex from '@material-ui/core/styles/zIndex';\r\nimport { Progress, Spin } from 'antd';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\ntype UploadingProgressIndicatorProps = {\r\n  isProgress: boolean;\r\n  progressPercentage: number;\r\n};\r\n\r\nconst Overray = styled.div<{ isProgress: boolean }>`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  display: ${(props) => (props.isProgress ? 'inherit' : 'none')};\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0.5;\r\n  background-color: black;\r\n  z-index: 998;\r\n`;\r\n\r\nconst ProgressWrapped = styled.div<{ isProgress: boolean }>`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 999;\r\n  display: ${(props) => (props.isProgress ? 'flex' : 'none')};\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  color: white;\r\n\r\n  & .ant-progress-text {\r\n    color: white;\r\n  }\r\n`;\r\nconst UploadingProgressIndicator = ({\r\n  isProgress,\r\n  progressPercentage,\r\n}: UploadingProgressIndicatorProps) => {\r\n  return (\r\n    <>\r\n      <ProgressWrapped isProgress={isProgress}>\r\n        <Progress\r\n          width={250}\r\n          type='circle'\r\n          style={{ color: 'white' }}\r\n          strokeColor={{\r\n            '0%': '#108ee9',\r\n            '100%': '#87d068',\r\n          }}\r\n          percent={progressPercentage}\r\n        />\r\n        <div style={{ marginTop: '15px' }}>\r\n          <span\r\n            style={{\r\n              fontFamily: 'NotoSansKR-Bold',\r\n              fontSize: '2em',\r\n              fontStyle: 'italic',\r\n            }}\r\n          >\r\n            {progressPercentage === 100\r\n              ? '파일 전송을 완료하는 중...'\r\n              : '파일 업로드 중...'}\r\n          </span>\r\n        </div>\r\n      </ProgressWrapped>\r\n      <Overray isProgress={isProgress} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadingProgressIndicator;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable react/jsx-pascal-case */\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Button, Col, Input, message, Modal, Row, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, Prompt } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { confirm } from '../ConfirmModal';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport ApplyLayout from './ApplyLayout';\r\nimport ManagementDcsContentsListComponent from './ManagementDcsContentsList';\r\nimport './ManagementDcsForm.css';\r\nimport ManagementDcsLayout from './ManagementDcsLayout';\r\nimport ManagementDcsPlaylistTimeControlPanel from './ManagementDcsPlaylistTimeControlPanel';\r\nimport UploadingProgressIndicator from './UploadingProgressIndicator';\r\n\r\nconst ContentsListHeader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst ManagementDcsFormV2 = (props: any) => {\r\n  const [isLayoutModal, setIsLayoutModal] = useState(false);\r\n  const [dcsType, setDcsType] = useState('');\r\n  const [layoutType, setLayoutType] = useState('');\r\n  const [dcsEquipList, setDcsEquipList] = useState([]);\r\n  const [immutableDcsEquipList, setImmutableDcsEquipList] = useState([]);\r\n  const [dcsSelectedEquip, setDcsSelectedEquip] = useState([]);\r\n  const [fileInfo, setFileInfo] = useState<any>();\r\n  const [selectedScreen, setSelectedScreen] = useState('');\r\n  const [selectedFileList, setSelectedFileList] = useState<any[]>([]);\r\n  const [isProgress, setIsProgress] = useState(false);\r\n  const [progressPercentage, setProgressPercentage] = useState(0);\r\n  const [dspType, setDspType] = useState('H');\r\n  const [dcsTitle, setDcsTitle] = useState('');\r\n  const [mode, setMode] = useState(props.location.state?.mode ? props.location.state.mode : 'regist');\r\n  const [cmsMasterIdx, setCmsMasterIdx] = useState();\r\n  const [playDuration, setPlayDuration] = useState<number>(10);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  // mode : modify\r\n  const [record, setRecord] = useState<any>();\r\n\r\n  useEffect(() => {\r\n    if (props.location.state?.mode) {\r\n      setMode(props.location.state.mode);\r\n    }\r\n\r\n    document.body.className = 'form-body';\r\n    getDcsEquipList();\r\n    setDcsType('single');\r\n    enablePrevent();\r\n    setDcsEquipList(immutableDcsEquipList);\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (fileInfo) {\r\n      const screens: string[] = Object.keys(fileInfo);\r\n      screens\r\n        .sort((a, b) => {\r\n          return a < b ? -1 : 1;\r\n        })\r\n        .forEach((screenId) => {\r\n          if ('fileList' in fileInfo[screenId]) {\r\n            const fileList = fileInfo[screenId].fileList as any[];\r\n            if (fileList && fileList.length > 0) {\r\n              fileList.forEach((file) => {\r\n                const fileType = file.type as string;\r\n                if (file.fileType === 'image' || fileType.startsWith('ima')) {\r\n                  file.duration = playDuration;\r\n                  file.rotationTime = playDuration;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n      setFileInfo({ ...fileInfo });\r\n    }\r\n  }, [playDuration]);\r\n\r\n  useEffect(() => {\r\n    setDcsEquipList(immutableDcsEquipList.filter((item: any) => item.eqpType === 'DCS-S'));\r\n  }, [immutableDcsEquipList]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.state && 'record' in props.location.state) {\r\n      setLayoutType(props.location.state.record?.layout_type);\r\n      setRecord(props.location.state.record);\r\n      setDcsTitle(props.location.state.record.cSubject);\r\n      setCmsMasterIdx(props.location.state.record.master_idx);\r\n\r\n      setDcsType('single');\r\n      setDspType('H');\r\n\r\n      getAppliedEquipList(props.location.state.record.master_idx);\r\n      getFileInfo();\r\n    }\r\n  }, [props]);\r\n\r\n  const getFileInfo = () => {\r\n    axios\r\n      .get(`/dcs/fileinfo`, {\r\n        params: {\r\n          cms_master_idx: props.location.state.record.master_idx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setFileInfo((res.data as any).fileInfo);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getAppliedEquipList = (cmsMasterIdx: any) => {\r\n    axios\r\n      .get(`/equip/playing`, {\r\n        params: {\r\n          cms_master_idx: cmsMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setDcsSelectedEquip((res.data as any).appliedEquipList.map((item: any) => item.equip_idx));\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getDcsEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: 'DCS',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setImmutableDcsEquipList(res.data as any);\r\n        if (mode === 'regist') {\r\n          setDcsType('single');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onChangeEquip = (e: any) => {\r\n    setDcsSelectedEquip(e);\r\n  };\r\n\r\n  const onSelectScreen = (screen: any) => {\r\n    // fileInfo가 없는데 fileList에 넣으려는 증상이 있어 filInfo가 생성되었을 때 동작되게 수정함\r\n    if (screen !== undefined) {\r\n      if (fileInfo) {\r\n        setSelectedScreen(screen);\r\n        setSelectedFileList(fileInfo[screen] ? fileInfo[screen].fileList : []);\r\n      }\r\n    }\r\n\r\n    // setSelectedScreen(screen);\r\n    // setSelectedFileList(fileInfo[screen] ? fileInfo[screen].fileList : []);\r\n  };\r\n\r\n  const onChangeLayout = (e: any, layoutTypeParam = '', dspTypeParam = '') => {\r\n    e.preventDefault();\r\n    if (layoutType) {\r\n      confirm({\r\n        title: '레이아웃 변경',\r\n        content: '레이아웃 변경시 레이아웃 및 컨텐츠 목록이 초기화 됩니다. 변경하시겠습니까?',\r\n        onOk: () => {\r\n          setLayoutType(layoutTypeParam);\r\n          setFileInfo({});\r\n          setSelectedScreen('');\r\n          setSelectedFileList([]);\r\n          setDspType(dspType);\r\n        },\r\n      });\r\n    } else {\r\n      setLayoutType(layoutTypeParam);\r\n      setDspType(dspTypeParam);\r\n    }\r\n    console.log(layoutTypeParam);\r\n    console.log(fileInfo);\r\n    // setFileInfo({});\r\n    if (layoutTypeParam.includes('101')) {\r\n      setFileInfo({\r\n        screen1: { id: 'screen1', fileList: [] },\r\n      });\r\n    }\r\n    if (layoutTypeParam.includes('104') || layoutTypeParam.includes('107')) {\r\n      setFileInfo({\r\n        screen1: { id: 'screen1', fileList: [] },\r\n        screen2: { id: 'screen2', fileList: [] },\r\n        screen3: { id: 'screen3', fileList: [] },\r\n      });\r\n    }\r\n    // 부산시청은 레이아웃 1000\r\n    if (\r\n      layoutTypeParam.includes('102') ||\r\n      layoutTypeParam.includes('103') ||\r\n      layoutTypeParam.includes('105') ||\r\n      layoutTypeParam.includes('106') ||\r\n      layoutTypeParam.includes('108') ||\r\n      layoutTypeParam.includes('109') ||\r\n      layoutTypeParam.includes('110') ||\r\n      layoutTypeParam.includes('1000')\r\n    ) {\r\n      setFileInfo({\r\n        screen1: { id: 'screen1', fileList: [] },\r\n        screen2: { id: 'screen2', fileList: [] },\r\n      });\r\n    }\r\n\r\n    setIsLayoutModal(false);\r\n  };\r\n\r\n  const onChangeFileInfo = (fileInfoParam: { id: string; fileList: any[] }) => {\r\n    let tempFileInfo: any = { ...fileInfo };\r\n    tempFileInfo[fileInfoParam.id] = {\r\n      id: fileInfoParam.id,\r\n      fileList: fileInfoParam.fileList,\r\n    };\r\n    setFileInfo(tempFileInfo);\r\n    setSelectedFileList(fileInfoParam.fileList);\r\n  };\r\n\r\n  const onChangeFileList = (screenId: any, fileList: any) => {\r\n    let copiedFileInfo: any = fileInfo;\r\n\r\n    copiedFileInfo[screenId].fileList = Array.from(fileList);\r\n    setFileInfo(Object.assign(copiedFileInfo));\r\n    setSelectedFileList(Array.from(fileList));\r\n  };\r\n\r\n  const onCalcleDcsLayoutModal = () => {\r\n    setIsLayoutModal(false);\r\n  };\r\n\r\n  const formBlockStyle = {\r\n    marginTop: '25px',\r\n  };\r\n\r\n  const sendDcsInfo = () => {\r\n    if (!!!fileInfo) {\r\n      message.error('컨텐츠가 등록되지 않았습니다');\r\n      return;\r\n    }\r\n    let fileInfoKeys: any = Object.keys(fileInfo).filter((item) => !item.includes('select'));\r\n    if (dcsTitle.trim().length === 0) {\r\n      message.error('제목을 입력해주세요');\r\n      return;\r\n    }\r\n\r\n    if (fileInfoKeys.length === 0) {\r\n      message.error('컨텐츠가 등록되지 않았습니다');\r\n      return;\r\n    }\r\n\r\n    for (var i = 0; i < fileInfoKeys.length; i++) {\r\n      if (Object.entries(fileInfo[fileInfoKeys[i]]).length === 0 && fileInfo[fileInfoKeys[i]]['fileList'].length === 0) {\r\n        message.error(`${fileInfoKeys[i]}에 컨텐츠가 등록되지 않았습니다`);\r\n        return;\r\n      } else if (fileInfo[fileInfoKeys[i]].fileList.length === 0) {\r\n        message.error(`${fileInfoKeys[i]}에 컨텐츠가 등록되지 않았습니다`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const postDcs = () => {\r\n      if (mode === 'regist') {\r\n        axios\r\n          .post(`/dcs`, {\r\n            cSubject: dcsTitle,\r\n            cContents: dcsTitle,\r\n            cType: 'DCS',\r\n            equip_idx: dcsSelectedEquip,\r\n            dcsType: dcsType,\r\n            dspType: dspType,\r\n            layoutType: layoutType, // db와 대조하기 위한 layouttype\r\n            layout_type: layoutType, // tbl_ges_dcs 테이블에 layout_type:: 저장된 레이아웃을 불러오기 위한 선택..\r\n          })\r\n          .then((res) => {\r\n            sendData(fileInfoKeys, (res.data as any).dcsList);\r\n            // props.history.goBack();\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      } else if (mode === 'modify') {\r\n        axios\r\n          .put(`/dcs`, {\r\n            idx: record.master_idx,\r\n            cSubject: dcsTitle,\r\n            cContents: dcsTitle,\r\n            cType: 'DCS',\r\n            equip_idx: dcsSelectedEquip,\r\n            dcsType: dcsType,\r\n            dspType: dspType,\r\n            layoutType: layoutType,\r\n            layout_type: layoutType,\r\n          })\r\n          .then((res) => {\r\n            console.log(fileInfoKeys);\r\n            sendData(fileInfoKeys, (res.data as any).dcsList);\r\n            // props.history.goBack();\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      }\r\n    };\r\n\r\n    confirm({\r\n      title: `컨텐츠를 등록하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        postDcs();\r\n      },\r\n    });\r\n  };\r\n\r\n  const sendData = (fileInfoKeys = [], dcsList: any[]) => {\r\n    var formData = new FormData();\r\n    var info = new Array();\r\n    // const mDcsList = dcsList.sort();\r\n\r\n    const config = {\r\n      onUploadProgress: function (progressEvent: { loaded: number; total: number }) {\r\n        var percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n        setProgressPercentage(percentCompleted);\r\n      },\r\n    };\r\n\r\n    // data 전송 start\r\n    setProgressPercentage(0);\r\n    setIsProgress(true);\r\n    console.log('fileinfokeys');\r\n    console.log(fileInfoKeys);\r\n    // console.log(mDcsList);\r\n    fileInfoKeys\r\n      .filter((key) => 'fileList' in fileInfo[key])\r\n      .sort()\r\n      .forEach((screenId, fikIdx) => {\r\n        // console.log(screenId);\r\n        // console.log(dcsList[fikIdx]);\r\n        // console.log(fikIdx);\r\n\r\n        // screenId = 'screen1 , 0\r\n        fileInfo[screenId].fileList.forEach((item: any, idx: number) => {\r\n          var file_type = String(item.type);\r\n          if ('originFileObj' in item) {\r\n            formData.append('files', item.originFileObj);\r\n          } else {\r\n            formData.append('files', '');\r\n          }\r\n          info.push({\r\n            uid: item.uid,\r\n            org_name: item.name,\r\n            file_type: file_type.includes('video') ? 'video' : 'image',\r\n            item: item,\r\n            type: 'DCS',\r\n            idx: item.seq,\r\n            duration: item.duration,\r\n            layoutType: layoutType,\r\n            screenId: screenId,\r\n            ref_idx: dcsList[fikIdx],\r\n            equip_idx: dcsSelectedEquip,\r\n            file_status: 'file_status' in item ? item.file_status : 'uploading',\r\n          });\r\n        });\r\n      });\r\n\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData, config)\r\n      .then((res) => {\r\n        setTimeout(() => {\r\n          setProgressPercentage(0);\r\n          setIsBack(false);\r\n          setIsProgress(false);\r\n          props.history.goBack();\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setProgressPercentage(0);\r\n        setIsProgress(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Prompt when={isBack} message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\" />\r\n      <UploadingProgressIndicator isProgress={isProgress} progressPercentage={progressPercentage} />\r\n      <MenuGuide title=\"DCS 등록/수정\" subTitle=\"화면별 DCS 출력 목록을 편집할 수 있습니다.\" />\r\n      <Row\r\n        style={{\r\n          border: '1px solid #dfe6e9',\r\n          padding: '50px',\r\n        }}\r\n      >\r\n        <Col span={13}>\r\n          <div>\r\n            <FormGuideComponent title=\"제목\" />\r\n            <Input\r\n              value={dcsTitle}\r\n              onChange={(e) => {\r\n                setDcsTitle(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title=\"기기 선택\" />\r\n            <Select\r\n              value={dcsSelectedEquip}\r\n              showArrow\r\n              mode=\"multiple\"\r\n              placeholder=\"DCS 기기를 선택해주세요\"\r\n              style={{ width: '100%' }}\r\n              onChange={(e) => {\r\n                onChangeEquip(e);\r\n              }}\r\n            >\r\n              {dcsEquipList.map((item: any, idx) => {\r\n                return (\r\n                  <Select.Option key={uuid()} value={item.idx}>\r\n                    {item.eqpType === 'DCS-S' ? 'DCS-싱글' : 'DCS-멀티'} : {item.eqpName}\r\n                  </Select.Option>\r\n                );\r\n              })}\r\n            </Select>\r\n          </div>\r\n\r\n          <div style={formBlockStyle}>\r\n            <FormGuideComponent title={`레이아웃 ${layoutType ? `(${layoutType})` : '(선택된 레이아웃 없음)'}`} />\r\n            <Link\r\n              to=\"\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                if (!dspType) {\r\n                  message.error('화면 타입을 선택해주세요');\r\n                  return;\r\n                }\r\n                setIsLayoutModal(true);\r\n              }}\r\n              style={{\r\n                fontFamily: 'NotoSansKR-Bold',\r\n                marginTop: '15px',\r\n              }}\r\n            >\r\n              <Button\r\n                style={{\r\n                  marginTop: '10px',\r\n                  marginBottom: '10px',\r\n                  width: '100%',\r\n                }}\r\n              >\r\n                레이아웃 선택하기\r\n              </Button>\r\n            </Link>\r\n            <ApplyLayout layoutType={layoutType} fileInfo={fileInfo} onChangeFileInfo={onChangeFileInfo} onSelectScreen={onSelectScreen} />\r\n            <div style={formBlockStyle}>\r\n              <FormGuideComponent title=\"이미지 전체 시간 설정\" />\r\n              <ManagementDcsPlaylistTimeControlPanel setPlayDuration={setPlayDuration} />\r\n            </div>\r\n            <Modal title={'레이아웃 선택을 선택해주세요'} visible={isLayoutModal} footer={null} onCancel={onCalcleDcsLayoutModal} width={1000}>\r\n              <ManagementDcsLayout dcsType={dcsType} onChangeLayout={onChangeLayout} />\r\n            </Modal>\r\n          </div>\r\n          <div style={{ marginTop: '20px' }}>\r\n            <Button type=\"primary\" block onClick={sendDcsInfo}>\r\n              업 로 드\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n        <Col span={10} offset={1}>\r\n          <div>\r\n            <FormGuideComponent title={`컨텐츠 목록 ${selectedScreen ? `(${selectedScreen})` : ''}`} />\r\n\r\n            <ManagementDcsContentsListComponent\r\n              fileList={selectedScreen !== '' ? fileInfo[selectedScreen]?.fileList : []}\r\n              selectedScreen={selectedScreen}\r\n              onChangeFileList={onChangeFileList}\r\n            />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementDcsFormV2;\r\n","import axios, { AxiosResponse } from 'axios';\r\n\r\nexport const getAll = async () => {\r\n  return await axios.get('/equip/index');\r\n};\r\n\r\n/////////////////////////////////////////////////////\r\n//전체 시스템 사용 설정\r\n//GET\r\nexport const settingAllPower = async (mode: string | undefined) => {\r\n  return await axios.get(`/power/all`, {\r\n    params: {\r\n      mode,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getAllSync = async () => {\r\n  return await axios.get('/power/syncAll');\r\n};\r\n\r\n//POST\r\nexport const settingAllUse = async (e: string) => {\r\n  return await axios.post(`/equip/modifyIsPowerModule`, {\r\n    eqpIsPowerBatch: e,\r\n  });\r\n};\r\n\r\nexport const settingAllPowerTime = async (\r\n  eqpPowerStartTime: string,\r\n  eqpPowerEndTime: string\r\n) => {\r\n  return await axios.post(`/equip/modifyPowerTimeForAll`, {\r\n    eqpPowerStartTime,\r\n    eqpPowerEndTime,\r\n  });\r\n};\r\n\r\nexport const settingAllDays = async (eqpPowerWeekday: string) => {\r\n  return await axios.post(`/power/setWeekDay`, {\r\n    eqpPowerWeekday,\r\n  });\r\n};\r\n\r\n/////////////////////////////////////////////////////\r\n//선택된 시스템 사용 설정\r\nexport const getCurrSync = async (\r\n  idx: number,\r\n  eqpOS: string,\r\n  pwrMgtAddress: string\r\n) => {\r\n  return await axios.get('/power/sync', {\r\n    params: {\r\n      idx,\r\n      eqpOS,\r\n      pwrMgtAddress,\r\n    },\r\n  });\r\n};\r\n\r\nexport const getReset = async (\r\n  idx: number,\r\n  eqpOS: string,\r\n  pwrMgtAddress: string\r\n) => {\r\n  return await axios.get('/windows/reset', {\r\n    params: {\r\n      idx,\r\n      eqpOS,\r\n      pwrMgtAddress,\r\n    },\r\n  });\r\n};\r\n\r\n///// post\r\nexport const settingSysReservation = async (\r\n  idx: number,\r\n  eqpIsPowerBatch: 'Y' | 'N'\r\n) => {\r\n  return await axios.post(`/equip/modifyIsPowerModule`, {\r\n    idx,\r\n    eqpIsPowerBatch,\r\n  });\r\n};\r\n\r\nexport const currStartTime = async (eqpPowerStartTime: string, idx: number) => {\r\n  return await axios.post<AxiosResponse>(`/equip/modifyEqpPowerTimeForIdx`, {\r\n    eqpPowerStartTime,\r\n    idx,\r\n  });\r\n};\r\n\r\nexport const currEndTime = async (eqpPowerEndTime: string, idx: number) => {\r\n  return await axios.post<AxiosResponse>(`/equip/modifyEqpPowerTimeForIdx`, {\r\n    eqpPowerEndTime,\r\n    idx,\r\n  });\r\n};\r\n\r\nexport const controlCurrPower = async (idx: number, status: number) => {\r\n  return await axios.post('/power/control', {\r\n    idx,\r\n    status,\r\n  });\r\n};\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport * as Constants from '../../../Constants';\r\n\r\nimport { Equipment } from '../../../../types/Equipments';\r\n\r\n//csss\r\nimport { AndroidFilled, WindowsFilled } from '@ant-design/icons';\r\n\r\nconst EquipItem = ({ sys }: { sys: Equipment }) => {\r\n  const history = useHistory();\r\n\r\n  const ict =\r\n    (sys.eqpType === 'DCS-S' && 'DCS-싱글') ||\r\n    (sys.eqpType === 'DCS-M' && 'DCS-멀티') ||\r\n    sys.eqpType;\r\n\r\n  const os = (sys.eqpOS === 'WINDOWS' && (\r\n    <WindowsFilled style={{ fontSize: '1.6em', color: '#00bcf2' }} />\r\n  )) || <AndroidFilled style={{ fontSize: '1.6em', color: '#a4c639' }} />;\r\n\r\n  const editEquip = () => {\r\n    const inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      history.push({\r\n        pathname: '/equip/form',\r\n        state: {\r\n          record: sys,\r\n          mode: 'read',\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <li\r\n      className='grid grid-cols-13 border-b h-10 cursor-pointer hover:bg-gray-50 '\r\n      onClick={editEquip}\r\n    >\r\n      <div className='border-r py-2.5'>{sys.idx}</div>\r\n      <div className='col-span-3 border-r  py-2.5'>{sys.eqpName}</div>\r\n      <div className='border-r  py-2.5'>{ict}</div>\r\n      <div className='border-r py-2.5'>{sys.eqpCPU}</div>\r\n      <div className='border-r py-2.5'>{sys.eqpMEM}GB</div>\r\n      <div className='border-r py-2.5'>{os}</div>\r\n      <div className='col-span-2 border-r py-2.5'>{sys.eqpIP}</div>\r\n      <div className='col-span-2 border-r py-2.5'>{sys.pwrMgtAddress}</div>\r\n      <div className='py-2.5'>{sys.useYN}</div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default EquipItem;\r\n","import React from 'react';\r\n\r\n//component\r\nimport EquipItem from './EquipItem';\r\nimport { Equipment } from '../../../../types/Equipments';\r\n\r\nconst EquipList = ({ dataSource }: { dataSource: Equipment[] }) => {\r\n  return (\r\n    <div className='rounded-lg w-full mt-2 text-center '>\r\n      <ul\r\n        className='relative content-center grid grid-cols-13 h-10 text-white rounded-t-lg opacity-90  px-2'\r\n        style={{ background: '#2f97eb' }}\r\n      >\r\n        <li>고유번호</li>\r\n        <li className='col-span-3'>시스템명</li>\r\n        <li>ICT</li>\r\n        <li>CPU</li>\r\n        <li>MEM</li>\r\n        <li>OS</li>\r\n        <li className='col-span-2 '>시스템 IP</li>\r\n        <li className='col-span-2 '>전원관리 IP</li>\r\n        <li>사용여부</li>\r\n      </ul>\r\n      <ul className=' max-h-196 overflow-auto text-xs border rounded-b-lg border-t-0'>\r\n        {dataSource.length === 0 ? (\r\n          <div className='flex text-md justify-center items-center h-full'>\r\n            현재 등록된 시스템이 없습니다.\r\n          </div>\r\n        ) : (\r\n          dataSource.map((sys) => <EquipItem key={sys.idx} sys={sys} />)\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EquipList;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport * as Constants from '../../Constants.js';\r\n\r\n//css\r\nimport { Button } from 'antd';\r\n\r\n//components\r\nimport EquipList from './components/EquipList';\r\n\r\nimport { Equipment } from '../../../types/Equipments.js';\r\n\r\nconst EquipListTab = ({ dataSource }: { dataSource: Equipment[] }) => {\r\n  const history = useHistory();\r\n\r\n  const addEquip = () => {\r\n    const inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      history.push({\r\n        pathname: '/equip/form',\r\n        state: {\r\n          mode: 'regist',\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <h2 className='mb-1'>ICT 시스템 등록이 가능합니다.</h2>\r\n      <EquipList dataSource={dataSource} />\r\n      <div className='flex justify-center mt-5'>\r\n        <Button onClick={addEquip}>등 록</Button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default EquipListTab;\r\n","import React from 'react';\r\nimport {\r\n  PowerSettingsNewOutlined,\r\n  AccessTimeOutlined,\r\n} from '@material-ui/icons';\r\n//EditAttributes\r\n\r\ninterface Props {\r\n  name: string;\r\n  onClick: () => void;\r\n  power: 'Y' | 'N';\r\n  usage: 'Y' | 'N';\r\n  selected: boolean;\r\n}\r\n\r\nconst DisplaySysName = ({ name, onClick, power, selected, usage }: Props) => {\r\n  return (\r\n    <li className='grid grid-cols-10 mb-1.5 gap-1 ' onClick={onClick}>\r\n      <p\r\n        className={`truncate col-span-8 cursor-pointer pl-2 border-l-2 border-transparent hover:border-pink-200 ${\r\n          selected && 'border-l-2 border-pink-400'\r\n        } ${power === 'N' && 'text-gray-400'}`}\r\n      >\r\n        {name}\r\n      </p>\r\n      <div className='bg-gray-50 w-6 h-6  mr-1 flex items-center justify-center  rounded '>\r\n        <PowerSettingsNewOutlined\r\n          style={{ fontSize: '1.1em' }}\r\n          className={` ${power === 'Y' ? 'text-blue-500' : 'text-gray-400'}`}\r\n        />\r\n      </div>\r\n      <div className='bg-gray-50 w-6 h-6  rounded mr-1 flex items-center justify-center'>\r\n        <AccessTimeOutlined\r\n          style={{ fontSize: '1.1em' }}\r\n          className={`${usage === 'Y' ? 'text-blue-500' : 'text-gray-400'}`}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DisplaySysName;\r\n","import React, { useState } from 'react';\r\n\r\nimport { AccessTimeOutlined } from '@material-ui/icons';\r\nimport { Switch, TimePicker, Progress, Result } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { currStartTime, currEndTime, settingSysReservation } from '../../../../api/equipments.api';\r\n\r\ninterface Props {\r\n  eqpIsPowerBatch: boolean;\r\n  idx: number;\r\n  getEquipIndex: () => void;\r\n  startTime: string;\r\n  endTime: string;\r\n  setDataSource: any;\r\n}\r\n\r\nconst SettingUsageAndTime = ({ eqpIsPowerBatch, idx, getEquipIndex, startTime, endTime, setDataSource }: Props) => {\r\n  const [complete, setComplete] = useState<boolean>(false);\r\n  //총 사용 시간 계산\r\n  const start = moment(startTime, 'HH:mm');\r\n  const end = moment(endTime, 'HH:mm');\r\n  const totalTime = end.diff(start);\r\n\r\n  const formatedTime = moment.utc(totalTime).format('H:mm');\r\n  const h = parseInt(moment.utc(totalTime).format('H'));\r\n  const hour = Math.floor(((h * 100) / 2400) * 100);\r\n\r\n  const showMsg = () => {\r\n    setComplete(true);\r\n    setTimeout(() => {\r\n      setComplete(false);\r\n    }, 1500);\r\n  };\r\n\r\n  const toggleChange = async () => {\r\n    const usingReservation = eqpIsPowerBatch ? 'N' : 'Y';\r\n    try {\r\n      const res = await settingSysReservation(idx, usingReservation);\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const sendTime = async (time: string, timeType: string) => {\r\n    try {\r\n      let res;\r\n      if (timeType === 'start') res = await currStartTime(time, idx);\r\n      else if (timeType === 'end') res = await currEndTime(time, idx);\r\n      if (res) showMsg();\r\n\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white grid grid-rows-6 h-96 border rounded-lg p-5 py-3 shadow-sm\">\r\n      <div className=\"flex justify-between  \">\r\n        <h3 className=\"font-semibold   \">\r\n          <div className=\"flex items-center \">\r\n            <AccessTimeOutlined style={{ fontSize: '1.4em' }} />\r\n            <h3 className=\" ml-1.5 h-full\">시스템 전원 예약 설정</h3>\r\n          </div>\r\n        </h3>\r\n        <Switch className=\"mb-1 \" onChange={toggleChange} checked={eqpIsPowerBatch} checkedChildren=\"ON\" unCheckedChildren=\"OFF\" />\r\n      </div>\r\n      <div className=\"rows-span-5\">\r\n        <div className=\"text-center mb-5 \">\r\n          {complete ? (\r\n            <Result status=\"success\" subTitle=\"설정되었습니다\" />\r\n          ) : (\r\n            <>\r\n              <p className=\"text-xs mb-4 text-gray-700\">총 사용 시간</p>\r\n              <Progress\r\n                type=\"dashboard\"\r\n                format={() => ` ${formatedTime} `}\r\n                width={180}\r\n                percent={hour}\r\n                strokeWidth={9}\r\n                strokeColor={{\r\n                  '0%': '#FC5C7D',\r\n                  '100%': '#6A82FB',\r\n                }}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex-col text-center  \">\r\n          <div className=\"flex justify-center text-xs \">\r\n            <div className=\"rounded-lg text-center mr-5 border w-32\">\r\n              <p className={`leading-loose border-b bg-gray-50 rounded-t-lg ${!eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '}`}>시작 시간</p>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                disabled={!eqpIsPowerBatch}\r\n                onChange={(e) => {\r\n                  // if (e) sendTime(e.format('HH:mm'), 'start');\r\n                }}\r\n                onSelect={(e) => {\r\n                  setDataSource((prevData: any) => {\r\n                    const copyData = JSON.parse(JSON.stringify(prevData));\r\n                    const result = copyData.map((item: any) => {\r\n                      if (item.idx === idx) {\r\n                        item.eqpPowerStartTime = e.format('HH:mm');\r\n                      }\r\n                      return item;\r\n                    });\r\n                    return result;\r\n                  });\r\n                  if (e) sendTime(e.format('HH:mm'), 'start');\r\n                }}\r\n                value={moment(startTime, 'HH:mm')}\r\n                bordered={false}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"rounded-lg  text-center border w-32\">\r\n              <p className={`leading-loose border-b bg-gray-50 rounded-t-lg ${!eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '}`}>종료 시간</p>\r\n              <TimePicker\r\n                placeholder=\"종료\"\r\n                format={'HH:mm'}\r\n                disabled={!eqpIsPowerBatch}\r\n                onChange={(e) => {\r\n                  // if (e) sendTime(e.format('HH:mm'), 'end');\r\n                }}\r\n                onSelect={(e) => {\r\n                  setDataSource((prevData: any) => {\r\n                    const copyData = JSON.parse(JSON.stringify(prevData));\r\n                    const result = copyData.map((item: any) => {\r\n                      if (item.idx === idx) {\r\n                        item.eqpPowerEndTime = e.format('HH:mm');\r\n                      }\r\n                      return item;\r\n                    });\r\n                    return result;\r\n                  });\r\n                  if (e) sendTime(e.format('HH:mm'), 'end');\r\n                }}\r\n                value={moment(endTime, 'HH:mm')}\r\n                bordered={false}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingUsageAndTime;\r\n\r\n// <div className='bg-gray-50 rounded-tl-lg rounded-bl-lg p-2  text-center  border-r-2 border-white '>\r\n\r\n//jshine\r\n// strokeColor={{\r\n//   '0%': '#12c2e9',\r\n//   '50%': '#c471ed',\r\n//   '100%': '#f64f59',\r\n// }}\r\n// strokeColor={{\r\n//   '100%': '#FC466B',\r\n//   '0%': '#3F5EFB',\r\n// }}\r\n\r\n/*\r\n/// new version\r\n<div className='bg-white shadow-md rounded-xl px-8 py-4 flex-col'>\r\n<div className='flex justify-between mb-5 '>\r\n  <h3 className='font-semibold '>시스템 전원 예약 설정</h3>\r\n  <Switch\r\n    className='mb-1 '\r\n    onChange={toggleChange}\r\n    checked={eqpIsPowerBatch === 'Y'}\r\n    checkedChildren='ON'\r\n    unCheckedChildren='OFF'\r\n  />\r\n</div>\r\n<div className='flex items-center h-fit mx-14'>\r\n  <div className='h-full w-3/6 flex-col text-center '>\r\n    <TimePicker\r\n      format={'HH:mm'}\r\n      className='rounded-xl mb-2 p-3 border '\r\n      disabled={eqpIsPowerBatch === 'N'}\r\n      onChange={(e) => {\r\n        if (e) sendTime(e.format('HH:mm'), 'start');\r\n      }}\r\n      value={moment(startTime, 'HH:mm')}\r\n      style={{\r\n        cursor: 'pointer',\r\n      }}\r\n    />\r\n    <div className='font-semibold mb-2'>TO</div>\r\n    <TimePicker\r\n      placeholder='종료'\r\n      format={'HH:mm'}\r\n      className='rounded-xl '\r\n      disabled={eqpIsPowerBatch === 'N'}\r\n      onChange={(e) => {\r\n        if (e) sendTime(e.format('HH:mm'), 'end');\r\n      }}\r\n      value={moment(endTime, 'HH:mm')}\r\n    />\r\n  </div>\r\n  <div className='flex-col text-center justify-center items-center w-3/6  '>\r\n    <Tooltip\r\n      placement='bottom'\r\n      title='총 사용 시간'\r\n      mouseLeaveDelay={0.3}\r\n    >\r\n      <Progress\r\n        type='dashboard'\r\n        className='items-center '\r\n        format={() => ` ${formatedTime} `}\r\n        width={150}\r\n        percent={hour}\r\n        strokeWidth={9}\r\n        strokeColor={{\r\n          '0%': '#FC5C7D',\r\n          '100%': '#6A82FB',\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  </div>\r\n</div>\r\n</div>\r\n*/\r\n\r\n/*\r\n////////////////// old version  \r\n<div className='mt-12 grid grid-rows-5 h-96 shadow-md rounded-xl p-5 py-3  bg-gray-50'>\r\n<div className='flex justify-between'>\r\n  <h3 className='font-semibold '>시스템 전원 예약 설정</h3>\r\n  <Switch\r\n    className='mb-1 '\r\n    onChange={toggleChange}\r\n    checked={eqpIsPowerBatch === 'Y'}\r\n    checkedChildren='ON'\r\n    unCheckedChildren='OFF'\r\n  />\r\n</div>\r\n<div className='rows-span-4 '>\r\n  <div className='text-center mb-10'>\r\n    <Tooltip title='총 사용 시간' mouseLeaveDelay={0.3}>\r\n      <Progress\r\n        type='dashboard'\r\n        format={() => ` ${formatedTime} `}\r\n        width={180}\r\n        percent={hour}\r\n        strokeWidth={9}\r\n        strokeColor={{\r\n          '0%': '#FC5C7D',\r\n          '100%': '#6A82FB',\r\n        }}\r\n      />\r\n    </Tooltip>\r\n  </div>\r\n  <div className='flex justify-center text-xs'>\r\n    <div className='bg-white rounded-tl-lg rounded-bl-lg p-2  text-center  border-r-2 border-gray-100 '>\r\n      <p>시작 시간</p>\r\n      <TimePicker\r\n        format={'HH:mm'}\r\n        disabled={eqpIsPowerBatch === 'N'}\r\n        onChange={(e) => {\r\n          if (e) sendTime(e.format('HH:mm'), 'start');\r\n        }}\r\n        value={moment(startTime, 'HH:mm')}\r\n        bordered={false}\r\n      />\r\n    </div>\r\n\r\n    <div className=' bg-white rounded-tr-lg rounded-br-lg p-2 text-center'>\r\n      <p>종료 시간</p>\r\n      <TimePicker\r\n        placeholder='종료'\r\n        format={'HH:mm'}\r\n        disabled={eqpIsPowerBatch === 'N'}\r\n        onChange={(e) => {\r\n          if (e) sendTime(e.format('HH:mm'), 'end');\r\n        }}\r\n        value={moment(endTime, 'HH:mm')}\r\n        bordered={false}\r\n      />\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>  */\r\n\r\n{\r\n  /* <div className=' bg-gray-50 rounded-tr-lg rounded-br-lg p-2 text-center'>\r\n<p\r\n  className={`${\r\n    !eqpIsPowerBatch && 'text-gray-400 text-opacity-75 '\r\n  }`}\r\n>\r\n  종료 시간\r\n</p>\r\n<TimePicker\r\n  placeholder='종료'\r\n  format={'HH:mm'}\r\n  disabled={!eqpIsPowerBatch}\r\n  onChange={(e) => {\r\n    if (e) sendTime(e.format('HH:mm'), 'end');\r\n  }}\r\n  value={moment(endTime, 'HH:mm')}\r\n  bordered={false}\r\n/>\r\n</div> */\r\n}\r\n","import React, { useState } from 'react';\r\n//components\r\nimport { confirm } from '../../../ConfirmModal';\r\nimport {\r\n  settingAllUse,\r\n  settingAllPower,\r\n  getAllSync,\r\n} from '../../../../api/equipments.api';\r\n\r\n//css\r\nimport { Button, Tooltip } from 'antd';\r\nimport {\r\n  PowerOutlined,\r\n  PowerOffOutlined,\r\n  SyncOutlined,\r\n  AccessTimeOutlined,\r\n} from '@material-ui/icons';\r\n\r\nconst SettingOperation = ({\r\n  getEquipIndex,\r\n  LoadingSpin,\r\n  powerBatch,\r\n}: {\r\n  getEquipIndex: VoidFunction;\r\n  LoadingSpin: VoidFunction;\r\n  powerBatch: boolean | undefined;\r\n}) => {\r\n  const BTN_STYLE = 'w-12 h-12 rounded-md';\r\n\r\n  const useAllHandler = () => {\r\n    confirm({\r\n      title: `전체 장비의 예약설정을 조정합니다.`,\r\n      content: `${powerBatch ? '사용' : '미사용'}으로 설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        const e = powerBatch ? 'Y' : 'N';\r\n        try {\r\n          const res = await settingAllUse(e);\r\n          if (res) {\r\n            LoadingSpin();\r\n            console.log(res);\r\n          }\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const powerOnOffHandler = (mode: string) => {\r\n    confirm({\r\n      title: `모든 장비 전원을 ${mode === '0' ? '끄' : '켜'}시겠습니까?`,\r\n      content: ``,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await settingAllPower(mode);\r\n          if (res) {\r\n            LoadingSpin();\r\n            console.log(res);\r\n          }\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  const syncAllHandler = () => {\r\n    confirm({\r\n      title: `전체 장비 동기화를 진행하시겠습니까?`,\r\n      content: ``,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await getAllSync();\r\n          await getEquipIndex();\r\n          console.log(res);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='flex-col border rounded-md p-3 h-36 shadow-sm\t'>\r\n      <h3 className='font-semibold mb-6'>전체 시스템 관리</h3>\r\n      <ul className='flex justify-between self-end  '>\r\n        <li>\r\n          <Tooltip placement='bottom' title='전체 예약 사용'>\r\n            <Button\r\n              onClick={useAllHandler}\r\n              className={BTN_STYLE}\r\n              icon={<AccessTimeOutlined style={{ fontSize: '1.6em' }} />}\r\n              type={powerBatch ? 'default' : 'primary'}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 전원 ON' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<PowerOutlined style={{ fontSize: '1.6em' }} />}\r\n              type='default'\r\n              onClick={() => powerOnOffHandler('1')}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 전원 OFF' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<PowerOffOutlined style={{ fontSize: '1.6em' }} />}\r\n              type='default'\r\n              onClick={() => powerOnOffHandler('0')}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n        <li>\r\n          <Tooltip title='전체 동기화' placement='bottom'>\r\n            <Button\r\n              className={BTN_STYLE}\r\n              icon={<SyncOutlined style={{ fontSize: '1.6em' }} />}\r\n              onClick={syncAllHandler}\r\n            />\r\n          </Tooltip>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingOperation;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, TimePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { confirm } from '../../../ConfirmModal';\r\nimport { settingAllPowerTime } from '../../../../api/equipments.api';\r\n\r\nconst SettingTime = ({ getEquipIndex }: { getEquipIndex: VoidFunction }) => {\r\n  const [allPowerTime, setAllPowerTime] = useState({\r\n    eqpPowerStartTime: '00:00',\r\n    eqpPowerEndTime: '00:00',\r\n  });\r\n  console.log(allPowerTime);\r\n\r\n  // const setTime = async () => {\r\n  //   const res = await settingAllPowerTime(allPowerTime.eqpPowerStartTime, allPowerTime.eqpPowerEndTime);\r\n  //   console.log(res);\r\n  //   await getEquipIndex();\r\n  // };\r\n  // useEffect(() => {\r\n  //   try {\r\n  //     setTime();\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // }, [allPowerTime.eqpPowerEndTime, allPowerTime.eqpPowerStartTime]);\r\n\r\n  const allTimeSettingHandler = () => {\r\n    confirm({\r\n      title: `전체 장비의 시간을 조정합니다.`,\r\n      content: `설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        try {\r\n          const res = await settingAllPowerTime(allPowerTime.eqpPowerStartTime, allPowerTime.eqpPowerEndTime);\r\n          console.log(res);\r\n          await getEquipIndex();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"flex-col border rounded-md p-3 h-36 shadow-sm\">\r\n      <div className=\"flex justify-between items-center mb-5\">\r\n        <h3 className=\"font-semibold\">전체 사용 시간 설정</h3>\r\n        <Button type=\"primary\" size=\"small\" shape=\"round\" onClick={allTimeSettingHandler}>\r\n          적용\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-3 relative\">\r\n        <div className=\"text-center rounded-lg border\">\r\n          <p className=\"leading-loose text-xs border-b rounded-t-lg bg-gray-50 \">시작 시간</p>\r\n          <TimePicker\r\n            bordered={false}\r\n            placeholder=\"시작\"\r\n            format={'HH:mm'}\r\n            value={moment(allPowerTime.eqpPowerStartTime, 'HH:mm')}\r\n            onClick={(e) => {\r\n              console.log(e);\r\n            }}\r\n            onSelect={(e) => {\r\n              setAllPowerTime((prevData) => {\r\n                return {\r\n                  ...prevData,\r\n                  eqpPowerStartTime: e.format('HH:mm'),\r\n                };\r\n              });\r\n            }}\r\n            onChange={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerStartTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"text-center rounded-lg border\">\r\n          <p className=\"leading-loose text-xs  border-b rounded-t-lg bg-gray-50\">종료 시간</p>\r\n          <TimePicker\r\n            bordered={false}\r\n            placeholder=\"종료\"\r\n            format={'HH:mm'}\r\n            value={moment(allPowerTime.eqpPowerEndTime, 'HH:mm')}\r\n            onSelect={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerEndTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n            onChange={(e) => {\r\n              if (e) {\r\n                setAllPowerTime((prevData) => {\r\n                  return {\r\n                    ...prevData,\r\n                    eqpPowerEndTime: e.format('HH:mm'),\r\n                  };\r\n                });\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingTime;\r\n","import React from 'react';\r\n\r\nconst DaysItem = ({\r\n  day,\r\n  value,\r\n  isSelected,\r\n  onClick,\r\n}: {\r\n  day: string;\r\n  value: string;\r\n  isSelected: boolean;\r\n  onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\r\n}) => {\r\n  const DAYS_BTN =\r\n    ' ease-out w-8 h-8 border rounded-full flex items-center justify-center shadow-sm --tw-shadow-color: inherit  ';\r\n  const ACTIVE_BTN = ' bg-blue-400 text-white\t\t';\r\n\r\n  return (\r\n    <li>\r\n      <button\r\n        onClick={onClick}\r\n        className={` ${DAYS_BTN}  ${\r\n          isSelected && ACTIVE_BTN\r\n        } hover:bg-blue-400 hover:text-white ease-in-out  duration-100 \t`}\r\n        value={value}\r\n      >\r\n        {day}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DaysItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DaysItem from './DaysItem';\r\nimport { settingAllDays } from '../../../../api/equipments.api';\r\n\r\nimport { Button } from 'antd';\r\n\r\ninterface Props {\r\n  pickedDays: string[];\r\n  getEquipIndex: () => void;\r\n  LoadingSpin: () => void;\r\n}\r\n\r\nconst SettingDays = ({ pickedDays, getEquipIndex, LoadingSpin }: Props) => {\r\n  const [picked, setPicked] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const days = ['일', '월', '화', '수', '목', '금', '토'];\r\n\r\n  const getDays = () => {\r\n    if (pickedDays) {\r\n      setPicked([...pickedDays]);\r\n      setLoading(false);\r\n    } else {\r\n      setLoading(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loading) getDays();\r\n  });\r\n\r\n  const daysSettingHandler = async () => {\r\n    const sortedArr = picked\r\n      .sort((a: string, b: string) => parseInt(a) - parseInt(b))\r\n      .toString();\r\n\r\n    try {\r\n      const res = await settingAllDays(sortedArr);\r\n      LoadingSpin();\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='grid grid-rows-3 border rounded-md py-3 h-36 shadow-sm'>\r\n      <div className='h-5 flex justify-between items-center px-3'>\r\n        <h3 className='font-semibold'>전체 요일 설정</h3>\r\n        <Button\r\n          type='primary'\r\n          shape='round'\r\n          size='small'\r\n          onClick={daysSettingHandler}\r\n        >\r\n          적용\r\n        </Button>\r\n      </div>\r\n\r\n      <ul className='px-2 row-span-2 gap-1\titems-center grid grid-cols-7 '>\r\n        {days.map((day, idx) => {\r\n          const selected = picked.find((el) => el === idx.toString());\r\n          return (\r\n            <DaysItem\r\n              day={day}\r\n              key={idx}\r\n              value={idx.toString()}\r\n              isSelected={Boolean(selected)}\r\n              onClick={(e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n                const { value } = e.target as HTMLButtonElement;\r\n\r\n                if (!selected) {\r\n                  setPicked((prev) => [...prev, value]);\r\n                } else {\r\n                  const filtered = picked.filter((d) => d !== value);\r\n                  filtered.length === 0\r\n                    ? setPicked(['0', '1', '2', '3', '4', '5', '6'])\r\n                    : setPicked([...filtered]);\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingDays;\r\n","import React from 'react';\r\nimport { Progress } from 'antd';\r\n\r\nimport { SmileOutlined, MehOutlined } from '@ant-design/icons';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\n\r\ninterface Props {\r\n  mem: number;\r\n  cpu: number;\r\n  powerOn: boolean;\r\n}\r\n\r\nconst OperationManagement = ({ mem, cpu, powerOn }: Props) => {\r\n  const OPERATION_DIV =\r\n    'border grid grid-rows-3 gap-1 text-center bg-white rounded-lg  h-36 items-center';\r\n\r\n  let statusIcon;\r\n\r\n  if (powerOn) {\r\n    if (mem < 50 && cpu < 50) {\r\n      statusIcon = (\r\n        <SmileOutlined style={{ fontSize: '2.5em', color: '#52c41a' }} />\r\n      );\r\n    } else if (mem < 80 && cpu < 80) {\r\n      statusIcon = (\r\n        <MehOutlined style={{ fontSize: '2.5em', color: '#fcba03' }} />\r\n      );\r\n    } else if (mem < 100 && cpu < 100) {\r\n      statusIcon = (\r\n        <SentimentVeryDissatisfiedIcon\r\n          style={{ fontSize: '2.5em', color: '#ff141d' }}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=' mt-6'>\r\n      <h3 className='mb-3 font-semibold'>운영 관리</h3>\r\n      <div className='grid grid-cols-3 gap-3 h-36 items-center'>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>메모리</p>\r\n\r\n          <Progress\r\n            type='circle'\r\n            strokeColor={{\r\n              '0%': '#108ee9',\r\n              '100%': '#87d068',\r\n            }}\r\n            width={60}\r\n            className='row-span-2'\r\n            percent={powerOn ? mem : 0}\r\n            format={(percent) => (powerOn ? `${percent}%` : '-')}\r\n          />\r\n        </div>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>CPU</p>\r\n          <Progress\r\n            type='circle'\r\n            strokeColor={{\r\n              '0%': '#108ee9',\r\n              '100%': '#87d068',\r\n            }}\r\n            width={60}\r\n            className='row-span-2'\r\n            percent={powerOn ? mem : 0}\r\n            format={(percent) => (powerOn ? `${percent}%` : '-')}\r\n          />\r\n        </div>\r\n        <div className={OPERATION_DIV}>\r\n          <p className='font-semibold self-end'>현황</p>\r\n          <div className='row-span-2 mb-4'>{powerOn ? statusIcon : '-'}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OperationManagement;\r\n","import React, { useState } from 'react';\r\n\r\nimport { confirm } from '../../../ConfirmModal';\r\n\r\nimport { getReset, getCurrSync, controlCurrPower } from '../../../../api/equipments.api';\r\n\r\nimport { Switch, Spin } from 'antd';\r\nimport { RedoOutlined, CloudSyncOutlined, PoweroffOutlined, LoadingOutlined, RightOutlined } from '@ant-design/icons';\r\n\r\ninterface Props {\r\n  power: boolean;\r\n  os: string;\r\n  pwrMgtAddress: string;\r\n  idx: number;\r\n  getEquipIndex: () => void;\r\n  sysName: string;\r\n}\r\n\r\nconst SelectedSysControl = ({ power, os, pwrMgtAddress, idx, getEquipIndex, sysName }: Props) => {\r\n  const [syncSpinning, setSyncSpinning] = useState<boolean>(false);\r\n  const [resetSpinning, setResetSpinning] = useState<boolean>(false);\r\n  const antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\n  const SYS_BTN = 'px-3 flex items-center bg-white rounded-lg  justify-between border border-transparent';\r\n\r\n  const resetHandler = async () => {\r\n    setResetSpinning(true);\r\n    if (os === 'ANDROID') {\r\n      confirm({\r\n        title: `OS가 WINDOWS 인 경우만 동작합니다.`,\r\n        content: ``,\r\n        onOk: () => {\r\n          setResetSpinning(false);\r\n        },\r\n        onCancle: () => {\r\n          setResetSpinning(false);\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    if (os === 'WINDOWS') {\r\n      try {\r\n        const res = await getReset(idx, os, pwrMgtAddress);\r\n        await getEquipIndex();\r\n        console.log(res);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setResetSpinning(false);\r\n    }\r\n  };\r\n\r\n  const syncHandler = async () => {\r\n    setSyncSpinning(true);\r\n\r\n    try {\r\n      const res = await getCurrSync(idx, os, pwrMgtAddress);\r\n      await getEquipIndex();\r\n      console.log(res);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n    setSyncSpinning(false);\r\n  };\r\n\r\n  const powerHandler = async () => {\r\n    // try {\r\n    //   const status = power ? 0 : 1;\r\n    //   controlCurrPower(idx, status);\r\n    //   // const res = await\r\n    //   const res = await controlCurrPower(idx, status);\r\n    //   await getEquipIndex();\r\n    //   console.log(res);\r\n    // } catch (err) {\r\n    //   console.log(err);\r\n    // }\r\n    confirm({\r\n      title: `${sysName}의 전원 설정을 조정합니다.`,\r\n      content: `${power ? '미사용' : '사용'}으로 설정하시겠습니까?`,\r\n      onOk: async () => {\r\n        const status = power ? 0 : 1;\r\n        try {\r\n          const res = await controlCurrPower(idx, status);\r\n          await getEquipIndex();\r\n          console.log(res);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\" mb-3 \">\r\n      <h3 className=\"mb-3 font-semibold\">시스템 관리</h3>\r\n      <div className=\"grid grid-rows-2 grid-cols-2 gap-3 h-36\">\r\n        <div className=\"grid grid-rows-3 row-span-2 px-3 pt-1 pb-3 rounded-lg border  bg-white  \">\r\n          <div className=\"flex items-center justify-between \">\r\n            <h3 className=\"font-semibold ml-1.5\">전원</h3>\r\n            <Switch\r\n              checked={power}\r\n              className={`${power && 'bg-gradient-to-r from-indigo-500 to-pink-500'}`}\r\n              onChange={powerHandler}\r\n              // disabled={os === 'WINDOWS'}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-center row-span-2 \">\r\n            <div\r\n              onClick={powerHandler}\r\n              className=\"transition duration-100 cursor-pointer flex rounded-full h-16 w-16 items-center justify-center bg-gray-50 border border-gray-100 hover:opacity-80\"\r\n            >\r\n              <PoweroffOutlined style={{ fontSize: '1.7em' }} className={`${power ? 'text-blue-500' : 'text-gray-400'} cursor-pointer`} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-rows-2 gap-3 h-36\">\r\n          <button className={`${SYS_BTN} bg-red-50 hover:border-pink-100`} onClick={resetHandler}>\r\n            <div className=\"grid grid-cols-5 font-semibold items-center \">\r\n              <RedoOutlined className=\"border border-pink-100 bg-white w-9 h-9 rounded-full text-lg\" />\r\n              <span className=\"text-gray-700 col-span-3 \">리셋</span>\r\n              <div className=\"flex justify-self-end\">{resetSpinning ? <Spin indicator={antIcon} /> : <RightOutlined />}</div>\r\n            </div>\r\n          </button>\r\n\r\n          <button className={`${SYS_BTN} bg-indigo-50 hover:border-indigo-100`} onClick={syncHandler}>\r\n            <div className=\"grid grid-cols-5 font-semibold items-center \">\r\n              <CloudSyncOutlined className=\"border border-indigo-100 text-lg w-9 h-9 rounded-full bg-white\" />\r\n              <span className=\"text-gray-700 col-span-3 \">동기화</span>\r\n              <div className=\"flex justify-self-end\">{syncSpinning ? <Spin indicator={antIcon} /> : <RightOutlined />}</div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedSysControl;\r\n////////////////////////////////////////////////\r\n// 전원 버튼..\r\n// <div className='grid grid-rows-3 gap-2 row-span-2 py-1 px-3 rounded-lg border border-pink-500 bg-white'>\r\n// <div className='flex items-center justify-between '>\r\n//   <div className='flex items-center'>\r\n//     {/* <div className='flex items-center justify-center bg-gray-50 w-6 h-6 rounded-md'>\r\n//       <PoweroffOutlined style={{ fontSize: '.8em' }} />\r\n//     </div> */}\r\n//     <PoweroffOutlined />\r\n//     <h3 className='font-semibold ml-1.5'>전원</h3>\r\n//   </div>\r\n\r\n//   <Switch\r\n//     checked={power}\r\n//     className={`${\r\n//       power && 'bg-gradient-to-r from-indigo-500 to-pink-500'\r\n//     }`}\r\n//     onChange={powerHandler}\r\n//     // disabled={os === 'WINDOWS'}\r\n//   />\r\n// </div>\r\n// <div className=' flex items-center justify-center  '>\r\n//   <div className=' flex rounded-full h-12 w-12  items-center justify-center bg-gray-50 border border-gray-100  shadow-sm'>\r\n//     {power ? <PowerOutlined /> : <PowerOffOutlined />}\r\n//   </div>\r\n// </div>\r\n// <p className='flex items-center justify-center '>\r\n//   {power ? 'On' : 'Off'}\r\n// </p>\r\n// </div>\r\n","import React from 'react';\r\n\r\n//component\r\nimport DisplaySysName from './shared/DisplaySysName';\r\nimport SettingUsageAndTime from './selected/SettingUsageAndTime';\r\nimport SettingOperation from './all/SettingOperation';\r\nimport SettingTime from './all/SettingTime';\r\nimport SettingDays from './all/SettingDays';\r\nimport OperationManagement from './selected/OperationManagement';\r\nimport SelectedSysControl from './selected/SelectedSysControl';\r\n\r\n//type\r\nimport { Equipment } from '../../../types/Equipments';\r\n\r\n//css\r\nimport { Layout } from 'antd';\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nconst EquipManageTab = ({\r\n  getEquipIndex,\r\n  LoadingSpin,\r\n  dataSource,\r\n  setDataSource,\r\n  index,\r\n  setIndex,\r\n  powerBatch,\r\n}: {\r\n  getEquipIndex: VoidFunction;\r\n  LoadingSpin: VoidFunction;\r\n  dataSource: Equipment[];\r\n  setDataSource: any;\r\n  index: number;\r\n  setIndex: any;\r\n  powerBatch: boolean | undefined;\r\n}) => {\r\n  return (\r\n    <>\r\n      <Layout className=\"bg-white\">\r\n        <Layout className=\"bg-white\">\r\n          <Header className=\"leading-normal grid grid-cols-3 gap-y-9 gap-x-3 h-48 pt-0 p-4 bg-white  mb-1\">\r\n            <div className=\"col-span-3 \">\r\n              <h2 className=\"absolute left-0\">스마트 전원[ON/OFF] 관리가 가능합니다.</h2>\r\n            </div>\r\n            <SettingOperation getEquipIndex={getEquipIndex} LoadingSpin={LoadingSpin} powerBatch={powerBatch} />\r\n            <SettingTime getEquipIndex={getEquipIndex} />\r\n            <SettingDays pickedDays={dataSource[0]?.eqpPowerWeekday.split(',')} getEquipIndex={getEquipIndex} LoadingSpin={LoadingSpin} />\r\n          </Header>\r\n\r\n          <Content className=\"grid grid-cols-2 gap-x-8 gap-y-5 p-5 pt-4 bg-white \">\r\n            <h1 className=\"text-2xl text-center col-span-2  w-full mb-4 font-bmjua\">{dataSource[index]?.eqpName}</h1>\r\n\r\n            <SettingUsageAndTime\r\n              setDataSource={setDataSource}\r\n              eqpIsPowerBatch={Boolean(dataSource[index]?.eqpIsPowerBatch === 'Y')}\r\n              idx={dataSource[index]?.idx}\r\n              startTime={dataSource[index]?.eqpPowerStartTime}\r\n              endTime={dataSource[index]?.eqpPowerEndTime}\r\n              getEquipIndex={getEquipIndex}\r\n            />\r\n\r\n            <div className=\"h-96 flex-col rounded-xl \">\r\n              <SelectedSysControl\r\n                power={Boolean(dataSource[index]?.powerYN === 'Y')}\r\n                os={dataSource[index]?.eqpOS}\r\n                pwrMgtAddress={dataSource[index]?.pwrMgtAddress}\r\n                sysName={dataSource[index]?.eqpName}\r\n                idx={dataSource[index]?.idx}\r\n                getEquipIndex={getEquipIndex}\r\n              />\r\n              <OperationManagement\r\n                mem={dataSource[index]?.memNumber}\r\n                cpu={dataSource[index]?.cpuNumber}\r\n                powerOn={Boolean(dataSource[index]?.powerYN === 'Y')}\r\n              />\r\n            </div>\r\n          </Content>\r\n        </Layout>\r\n        <Sider width={315} className=\"bg-white h-200 overflow-auto border-l \">\r\n          <div className=\"px-2\">\r\n            <h3 className=\"mb-2 font-semibold\">시스템명</h3>\r\n            <ul>\r\n              {dataSource?.map((sys, idx) => (\r\n                <DisplaySysName\r\n                  key={sys.idx}\r\n                  name={sys.eqpName}\r\n                  power={sys.powerYN}\r\n                  usage={sys.eqpIsPowerBatch}\r\n                  onClick={() => {\r\n                    setIndex(idx);\r\n                  }}\r\n                  selected={Boolean(dataSource[index]?.idx === sys.idx)}\r\n                />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Sider>\r\n      </Layout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EquipManageTab;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { MatchParams } from '../../types/Common';\r\n\r\n//api\r\nimport { getAll } from '../../api/equipments.api';\r\n\r\n//type\r\nimport { Equipment } from '../../types/Equipments';\r\n\r\n//components\r\nimport EquipListTab from './equipmentList/EquipListTab';\r\nimport EquipManageTab from './powerManagement/EquipManageTab';\r\n\r\n//css\r\nimport { Tabs, Spin } from 'antd';\r\n\r\nconst ManagementEquip = () => {\r\n  const history = useHistory();\r\n  const match = useRouteMatch<MatchParams>();\r\n\r\n  const TabPane = Tabs.TabPane;\r\n\r\n  const [dataSource, setDataSource] = useState<Equipment[]>([]);\r\n  const [index, setIndex] = useState<number>(0);\r\n  const [powerBatch, setPowerBatch] = useState<boolean | undefined>(undefined);\r\n  const [spinning, setSpinning] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    getEquipIndex();\r\n  }, []);\r\n\r\n  const getEquipIndex = async () => {\r\n    try {\r\n      const res = await getAll();\r\n      const allUse = res.data.some((d: Equipment) => d.eqpIsPowerBatch === 'N');\r\n      console.log(res.data as any);\r\n      setPowerBatch(allUse);\r\n      setDataSource(res.data as any);\r\n      console.log(dataSource);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const callback = (key: string) => {\r\n    getEquipIndex();\r\n    history.push(`/equip/${key}`);\r\n  };\r\n\r\n  const LoadingSpin = () => {\r\n    setSpinning(true);\r\n\r\n    setTimeout(() => {\r\n      setSpinning(false);\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <Tabs onChange={callback} activeKey={match.params.key} animated>\r\n      <TabPane tab=\"전원 관리\" key=\"power\">\r\n        <Spin spinning={spinning} size=\"large\">\r\n          <EquipManageTab\r\n            getEquipIndex={getEquipIndex}\r\n            LoadingSpin={LoadingSpin}\r\n            dataSource={dataSource}\r\n            setDataSource={setDataSource}\r\n            index={index}\r\n            setIndex={setIndex}\r\n            powerBatch={powerBatch}\r\n          />\r\n        </Spin>\r\n      </TabPane>\r\n      <TabPane tab=\"장비 현황\" key=\"equipment\">\r\n        <EquipListTab dataSource={dataSource} />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementEquip;\r\n\r\n///////////////////////////////////////////\r\n// axios\r\n//   .get('/equip/index')\r\n//   .then(function (response) {\r\n//     setDataSource(response.data as any);\r\n//     // console.log(response.data);\r\n//     console.log(dataSource);\r\n//     console.log(response.data.use);\r\n\r\n//     return response.data;\r\n//   })\r\n//   .catch(function (error) {\r\n//     // handle error\r\n//     console.log(error);\r\n//   })\r\n//   .finally(function () {\r\n//     // always executed\r\n//   });\r\n//\r\n///////////////////////////////////////////\r\n//import PowerTable from './PowerTable';\r\n//import SysTable from './SysTable';\r\n// <PowerTable dataSource={dataSource} getEquipIndex={getEquipIndex} />\r\n// <SysTable dataSource={dataSource} />\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Button, Form, Input, InputNumber, message, Radio, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Prompt } from 'react-router-dom';\r\nimport { confirm } from '../ConfirmModal';\r\nimport * as Constants from '../Constants';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport MenuGuide from '../MenuGuide';\r\nimport './ManagementEquipForm.css';\r\n\r\nconst ManagementEquipForm = (props) => {\r\n  const [mode, setMode] = useState(props.location.state.mode);\r\n  const [record, setRecord] = useState(props.location.state.record ? props.location.state.record : '');\r\n  const [os, setOs] = useState(record.eqpOS ? record.eqpOS : '');\r\n  const [useYN, setUseYN] = useState(record.useYN ? record.useYN : '');\r\n\r\n  const [isDuplication, setIsDuplication] = useState(true);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  useEffect(() => {\r\n    document.body.className = 'form-body';\r\n    enablePrevent();\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    var inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      if (mode === 'read') {\r\n        // 읽기 모드일 때 수정 상태로 바꿔주면서 모든 input 상태가 writeable로 변경됨\r\n        setMode('modify');\r\n        return false;\r\n      }\r\n\r\n      if (typeof values.eqpCpuCore == 'string') {\r\n        values.eqpCpuCore = values.eqpCpuCore.replace('Core', '');\r\n      }\r\n      if (typeof values.eqpCpuHz == 'string') {\r\n        values.eqpCpuHz = values.eqpCpuHz.replace('GHz', '');\r\n      }\r\n\r\n      values.eqpCPU = values.eqpCpuCore + ' ' + values.eqpCpuHz;\r\n      values.eqpID = values.SN;\r\n\r\n      if (mode === 'regist') {\r\n        axios\r\n          .post('/equip/regist', values)\r\n          .then(function (response) {\r\n            setIsBack(false);\r\n            message.success({\r\n              content: '장비 등록 완료',\r\n              duration: 3,\r\n              onClose: props.history.push('/equip'),\r\n            });\r\n          })\r\n          .catch(function (error) {\r\n            message.error({\r\n              content: '장비 등록 실패',\r\n              duration: 3,\r\n            });\r\n            console.log(error);\r\n          });\r\n      } else if (mode === 'modify') {\r\n        values.idx = record.idx; // 해당 idx로 수정하기 위해\r\n        axios\r\n          .put('/equip/modify', values)\r\n\r\n          .then((res) => {\r\n            setIsBack(false);\r\n            message.success({\r\n              content: '장비 수정 완료',\r\n              duration: 3,\r\n              onClose: props.history.push('/equip'),\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const onDeleteEquipment = (e) => {\r\n    var inputString = prompt('관리번호를 입력하세요', '');\r\n    if (inputString === Constants.adminPW) {\r\n      confirm({\r\n        title: `해당 장비를 삭제합니다.`,\r\n        content: `장비를 삭제하시겠습니까?`,\r\n        onOk: () => {\r\n          axios\r\n            .post('/equip/delete', record)\r\n            .then((res) => {\r\n              // alert('장비가 삭제되었습니다.');\r\n              setIsBack(false);\r\n              props.history.push('/equip');\r\n            })\r\n            .catch((err) => {\r\n              console.error(err);\r\n            });\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mode !== 'regist') {\r\n      form.setFieldsValue({\r\n        SN: record.eqpID,\r\n        eqpName: record.eqpName,\r\n        eqpType: record.eqpType,\r\n        eqpOS: record.eqpOS,\r\n        eqpCpuCore: record.eqpCPU.split(' ')[0].replace('Core', ''),\r\n        eqpCpuHz: record.eqpCPU.split(' ')[1].replace('GHz', ''),\r\n        eqpMEM: record.eqpMEM,\r\n        pwrMgtAddress: record.pwrMgtAddress,\r\n        eqpUniqueID: record.eqpUniqueID,\r\n        eqpPowerModule: record.eqpPowerModule,\r\n        eqpIP: record.eqpIP,\r\n        useYN: record.useYN,\r\n      });\r\n    }\r\n\r\n    return () => {};\r\n  }, [props]);\r\n\r\n  return (\r\n    <div style={{ width: '50%', margin: 'auto' }}>\r\n      <Prompt when={isBack} message=\"변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?\" />\r\n      <MenuGuide title={'장비 관리 ▶ 장비 등록'} subTitle={'장비 정보를 입력해주세요'} />\r\n      <Form\r\n        // layout='vertical'\r\n        onFinish={handleSubmit}\r\n        validateMessages={validateMessages}\r\n        form={form}\r\n        style={{\r\n          border: '1px solid #dfe6e9',\r\n          padding: '50px',\r\n        }}\r\n      >\r\n        {/* <FormGuideComponent title=\"S/N\" guide=\"기기의 S/N을 입력해주세요\" />\r\n        <Form.Item hasFeedback validateStatus={eqpIDValidStatus}>\r\n          <Form.Item name=\"SN\" noStyle rules={[{ required: true }]}>\r\n            <Input\r\n              placeholder=\"XXXXXXX-XXXXX-XXXXXXX\"\r\n              style={mode === \"regist\" ? { width: \"75%\" } : { width: \"100%\" }}\r\n              readOnly={mode !== \"regist\" ? true : false}\r\n            />\r\n          </Form.Item>\r\n          <Button\r\n            id=\"idDuplBtn\"\r\n            style={{\r\n              marginLeft: \"5px\",\r\n              minWidth: \"84px\",\r\n              position: \"relative\",\r\n              top: \"-2px\",\r\n            }}\r\n            onClick={onEqpIdDuplCheck}\r\n            hidden={mode !== \"regist\" ? true : false}\r\n          >\r\n            중복검사\r\n          </Button>\r\n        </Form.Item> */}\r\n\r\n        <FormGuideComponent title=\"시스템명\" />\r\n        <Form.Item name=\"eqpName\" rules={[{ required: true }]}>\r\n          <Input placeholder=\"Ex) 양방향 미디어 월\" className=\"input_width\" readOnly={mode === 'read' ? true : false} />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"시스템 타입\" />\r\n        <Form.Item name=\"eqpType\" rules={[{ required: true }]}>\r\n          <Select style={{ width: 300 }} placeholder=\"기기 타입을 선택해주세요\" disabled={mode === 'read' ? true : false}>\r\n            <Select.Option value=\"DCS-S\">DCS-싱글</Select.Option>\r\n            <Select.Option value=\"DCS-M\">DCS-멀티</Select.Option>\r\n            <Select.Option value=\"MAG\">MAG</Select.Option>\r\n            <Select.Option value=\"DMS\">DMS</Select.Option>\r\n            <Select.Option value=\"DPS\">DPS</Select.Option>\r\n            <Select.Option value=\"DLS\">DLS</Select.Option>\r\n            <Select.Option value=\"LIS\">LIS</Select.Option>\r\n            <Select.Option value=\"LSS\">LSS</Select.Option>\r\n            <Select.Option value=\"IS\">IS</Select.Option>\r\n            <Select.Option value=\"DRS\">DRS</Select.Option>\r\n            <Select.Option value=\"LGS\">LGS</Select.Option>\r\n            <Select.Option value=\"LRS\">LRS</Select.Option>\r\n            <Select.Option value=\"ETC-A\">안드로이드 OS 기타</Select.Option>\r\n            <Select.Option value=\"ETC-W\">WINDOWS OS 기타</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"OS\" />\r\n        <Form.Item name=\"eqpOS\" rules={[{ required: true }]}>\r\n          <Radio.Group className=\"form_radio\" disabled={mode === 'read' ? true : false}>\r\n            <Radio value={'WINDOWS'}>WINDOWS</Radio>\r\n            <Radio value={'ANDROID'}>ANDROID</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <FormGuideComponent title=\"CPU\" />\r\n        <div className=\"input_col_wrap epq_cpu_wrap\">\r\n          <Form.Item>\r\n            <Form.Item\r\n              name=\"eqpCpuCore\"\r\n              noStyle\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber placeholder=\"Ex) 4\" style={{ width: '60%' }} readOnly={mode === 'read' ? true : false} />\r\n            </Form.Item>\r\n            <span> Core</span>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Form.Item\r\n              name=\"eqpCpuHz\"\r\n              noStyle\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber placeholder=\"Ex) 3.6\" style={{ width: '60%' }} readOnly={mode === 'read' ? true : false} />\r\n            </Form.Item>\r\n            <span> GHz</span>\r\n          </Form.Item>\r\n        </div>\r\n        <FormGuideComponent title=\"Memory\" />\r\n        <Form.Item>\r\n          <Form.Item name=\"eqpMEM\" noStyle rules={[{ required: true }]}>\r\n            <InputNumber placeholder=\"Ex) 16\" style={{ width: '29.5%' }} readOnly={mode === 'read' ? true : false} />\r\n          </Form.Item>\r\n          <span> GB</span>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"전원관리모듈\" guide={'SUSPEND 모드 일 때 MAC 주소를 넣으시오.'} />\r\n        <Form.Item name=\"eqpPowerModule\" rules={[{ required: true }]} initialValue={'COSPAN'}>\r\n          <Select disabled={mode === 'read' ? true : false}>\r\n            <Select.Option value={'NEO_1'}>네오테크 1</Select.Option>\r\n            <Select.Option value={'NEO_2'}>네오테크 2</Select.Option>\r\n            <Select.Option value={'COSPAN'}>코스팬</Select.Option>\r\n            <Select.Option value={'SUSPEND'}>절전모드</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"전원관리주소\" />\r\n        <Form.Item name=\"pwrMgtAddress\" rules={[{ required: true }]}>\r\n          <Input placeholder=\"Ex)192.168.0.100\" className=\"input_width\" readOnly={mode === 'read' ? true : false} />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"고유식별ID\" />\r\n        <Form.Item name=\"eqpUniqueID\" rules={[{ required: true }]}>\r\n          <Input placeholder=\"고유 ID\" className=\"input_width\" readOnly={mode === 'read' ? true : false} />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"IP\" />\r\n        <Form.Item name=\"eqpIP\" rules={[{ required: true }]}>\r\n          <Input placeholder=\"Ex)192.168.0.100\" className=\"input_width\" readOnly={mode === 'read' ? true : false} />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title=\"사용여부\" />\r\n        <Form.Item name=\"useYN\" rules={[{ required: true }]}>\r\n          <Radio.Group className=\"form_radio\" disabled={mode === 'read' ? true : false}>\r\n            <Radio value={'Y'}>예</Radio>\r\n            <Radio value={'N'}>아니오</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <div style={{ width: '100%', textAlign: 'center' }}>\r\n          <Form.Item>\r\n            <Button\r\n              id=\"regBtn\"\r\n              htmlType=\"submit\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              style={mode !== 'regist' ? { width: '150px', marginTop: '10px' } : { marginTop: '10px', width: '100%' }}\r\n            >\r\n              {mode === 'regist' ? '등 록' : '수 정'}\r\n            </Button>\r\n            <Button\r\n              id=\"delBtn\"\r\n              type=\"danger\"\r\n              size=\"large\"\r\n              style={{ width: '150px', marginTop: '10px', marginLeft: '5px' }}\r\n              onClick={onDeleteEquipment}\r\n              hidden={mode !== 'read' ? true : false}\r\n            >\r\n              삭 제\r\n            </Button>\r\n          </Form.Item>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementEquipForm;\r\n","import React, { useEffect } from 'react';\r\n\r\nconst Help = (props) => {\r\n\r\n    useEffect(() => {\r\n\r\n\r\n    }, []);\r\n    return (\r\n        <>도움말</>\r\n    );\r\n}\r\n\r\nexport default Help;","import axios from \"axios\";\r\nimport {\r\n  DvdListType,\r\n  getDvdDetailType,\r\n  logDvdType,\r\n  postDvdType,\r\n  putDvdDetailType,\r\n} from \"../types/Dvd\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const getDvdLists = async () => {\r\n  const response = await axios.get<ResponseVo<DvdListType[]>>(`/reserve/room`);\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdDetail = async (room_seq: string) => {\r\n  const response = await axios.get<ResponseVo<getDvdDetailType[]>>(\r\n    `/reserve/room/${room_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const deleteDvdItem = async (room_seq: string) => {\r\n  const response = await axios.delete<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/${room_seq}`\r\n  );\r\n  return response.data;\r\n};\r\nexport const postDvdItem = async ({ params }: { params: any }) => {\r\n  const response = await axios.post<ResponseVo<postDvdType[]>>(\r\n    `/reserve/room`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const putDvdItem = async ({\r\n  seq,\r\n  params,\r\n}: {\r\n  seq: any;\r\n  params: any;\r\n}) => {\r\n  const response = await axios.put<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/${seq}`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const postCancelReserve = async ({\r\n  params,\r\n}: {\r\n  params: { userKey: string };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(\r\n    `/reserve/room/reservation/cancel`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const postRoomReserve = async (params: {\r\n  userInfo: {\r\n    userNo: string;\r\n  };\r\n  reserveInfo: {\r\n    room_seq: number | string;\r\n    reserve_time: string[];\r\n  };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<any[]>>(\r\n    `/reserve/room/reservation`,\r\n    params\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdLogs = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    start_date?: string;\r\n    end_date?: string;\r\n    user_key?: string;\r\n    user_name?: string;\r\n    status?: string;\r\n  };\r\n}) => {\r\n  const response = await axios.get<ResponseVo<logDvdType[]>>(`/reserve/hist`, {\r\n    params,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdList = async () => {};\r\n","import { ResponseBodySmartSearch } from \"../types/SmartSearch\";\r\nimport { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { requestSmartSearch } from \"../api/SmartSearch\";\r\nimport { ResponseVo } from \"../types/Common\";\r\nimport { message } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { requestLogInfo } from \"../api/TotalLog\";\r\nimport { string } from \"prop-types\";\r\nexport const DVD = \"DVD\";\r\n\r\ntype SliceState = {\r\n  seq: string | number;\r\n  room_name: string;\r\n  use_flag: \"Y\" | \"N\";\r\n  bookable_count: number;\r\n  start_time: string;\r\n  end_time: string;\r\n  hours_of_use?: number;\r\n  select_count?: number;\r\n};\r\ntype PayloadType = {\r\n  [DVD]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nconst DvdSlice = createSlice({\r\n  name: `${DVD}`,\r\n  initialState: {\r\n    seq: 0,\r\n    room_name: \"DVD\",\r\n    use_flag: \"Y\",\r\n    bookable_count: 0,\r\n    start_time: moment().format(\"HH:00\"),\r\n    end_time: moment().add(\"8\", \"hour\").format(\"HH:00\"),\r\n    hours_of_use: 1,\r\n    select_count: 1,\r\n  } as SliceState,\r\n  reducers: {\r\n    setDvdRoomName: (state, action: PayloadAction<{ room_name: string }>) => {\r\n      state.room_name = action.payload.room_name;\r\n    },\r\n    setDvdDetail: (\r\n      state,\r\n      action: PayloadAction<{\r\n        room_name?: string;\r\n        start_time?: string;\r\n        end_time?: string;\r\n        use_flag?: \"Y\" | \"N\";\r\n        hours_of_use?: number;\r\n        select_count?: number;\r\n      }>\r\n    ) => {\r\n      if (action.payload.room_name) {\r\n        state.room_name = action.payload.room_name;\r\n      }\r\n      if (action.payload.start_time) {\r\n        state.start_time = action.payload.start_time;\r\n      }\r\n      if (action.payload.end_time) {\r\n        state.end_time = action.payload.end_time;\r\n      }\r\n      if (action.payload.use_flag) {\r\n        state.use_flag = action.payload.use_flag;\r\n      }\r\n      if (action.payload.hours_of_use) {\r\n        state.hours_of_use = action.payload.hours_of_use;\r\n      }\r\n      if (action.payload.select_count) {\r\n        state.select_count = action.payload.select_count;\r\n      }\r\n    },\r\n  },\r\n  extraReducers: {},\r\n});\r\n\r\nexport const { setDvdRoomName, setDvdDetail } = DvdSlice.actions;\r\nexport default DvdSlice.reducer;\r\nexport const selectDvdSlice = (state: PayloadType) => state[DVD];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { RangeValue } from \"rc-picker/lib/interface\";\r\n\r\n//form\r\nimport { Form, TimePicker, Switch } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nimport { available_time } from \"../../../types/Dvd\";\r\n\r\nconst DvdDailyAddForm = ({\r\n  available_time,\r\n  setAvailable_time,\r\n  tabKey,\r\n}: {\r\n  available_time: available_time[];\r\n  setAvailable_time: any;\r\n  tabKey: string;\r\n}) => {\r\n  const [daily, setDaily] = useState();\r\n\r\n  const days = [\r\n    \"월요일\",\r\n    \"화요일\",\r\n    \"수요일\",\r\n    \"목요일\",\r\n    \"금요일\",\r\n    \"토요일\",\r\n    \"일요일\",\r\n  ];\r\n\r\n  const reset = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: \"\", start_time: \"\", end_time: \"\" })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: \"\",\r\n          end_time: \"\",\r\n        };\r\n        return obj;\r\n      });\r\n\r\n    setAvailable_time([...arr]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [daily, tabKey]);\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (value) {\r\n      const [a, b] = value;\r\n      available_time[day - 1].start_time = moment(a).format(\"HH:00\");\r\n      available_time[day - 1].end_time = moment(b).format(\"HH:00\");\r\n    } else {\r\n      available_time[day - 1].start_time = \"\";\r\n      available_time[day - 1].end_time = \"\";\r\n    }\r\n  };\r\n\r\n  const settingWeekday = (\r\n    value: RangeValue<moment.Moment>,\r\n    weekend: boolean\r\n  ) => {\r\n    const endIdx = weekend ? days.length - 1 : 4;\r\n    const startIdx = weekend ? 5 : 0;\r\n\r\n    if (value) {\r\n      const [a, b] = value;\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = moment(a).format(\"HH:00\");\r\n        available_time[i].end_time = moment(b).format(\"HH:00\");\r\n      }\r\n    } else {\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = \"\";\r\n        available_time[i].end_time = \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeSettingMode = (value: any) => {\r\n    setDaily(value);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <Form.Item className=\"mt-2 \">\r\n      <div className=\" mb-3\">\r\n        <Switch onChange={changeSettingMode} className=\"mr-1\" />\r\n        <span>{!daily ? \"요일별 시간 설정\" : \"평일/주말 시간설정\"}</span>\r\n      </div>\r\n\r\n      {!daily ? (\r\n        <div>\r\n          {days.map((d, idx) => (\r\n            <div key={d} className=\"mb-1\">\r\n              {d}\r\n              {\"   \"}\r\n              <TimePicker.RangePicker\r\n                format={\"HH:mm\"}\r\n                onChange={(value) => {\r\n                  settingDailyTime(value, idx + 1);\r\n                }}\r\n                className=\"ml-3\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className=\"mb-2\">\r\n            평일{\" \"}\r\n            <TimePicker.RangePicker\r\n              format={\"HH:mm\"}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, false);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n          <div>\r\n            주말{\" \"}\r\n            <TimePicker.RangePicker\r\n              format={\"HH:mm\"}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, true);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default DvdDailyAddForm;\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Button, Form, Input, TimePicker, InputNumber, Tabs, Select } from 'antd';\r\n\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { isBoolean } from 'lodash';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport { number } from 'prop-types';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { postDvdItem } from '../../../api/Dvd.api';\r\nimport { setDvdDetail } from '../../../slice/DvdSlice';\r\nimport * as Constants from '../../Constants';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport DvdDailyAddForm from './DvdDailyAddForm';\r\n\r\nconst DvdAddForm = (props) => {\r\n  // 남부평생교육원 룸등록에만 hoursofuse, selectcount가 있음.\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const { TabPane } = Tabs;\r\n\r\n  const [startTime, setStartTime] = useState();\r\n  const [endTime, setEndTime] = useState();\r\n  const [maxHour, setMaxHour] = useState(24);\r\n  const [maxCount, setMaxCount] = useState();\r\n  const [currVal, setCurrVal] = useState();\r\n\r\n  const [available_time, setAvailable_time] = useState([]);\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [sameEveryday, setSameEveryday] = useState(true);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: '종료시간이 시작시간보다 짧습니다',\r\n    },\r\n  };\r\n\r\n  const handleChange = (value) => {\r\n    const val = value === '1' ? true : false;\r\n    setSameEveryday(val);\r\n  };\r\n\r\n  const setHoursOfUse = (startTime, endTime) => {\r\n    if (startTime && endTime) {\r\n      const start = startTime.split(':');\r\n      const end = endTime.split(':');\r\n      const total = end[0] - start[0];\r\n\r\n      setMaxHour(total);\r\n    } else {\r\n      console.log('not yet');\r\n    }\r\n  };\r\n\r\n  const onClick = async (values) => {\r\n    let data;\r\n    const { room_name } = values;\r\n\r\n    if (sameEveryday) {\r\n      if (currVal > maxCount) return;\r\n      const start_time = moment(values.start_time).format('HH:00');\r\n      const end_time = moment(values.end_time).format('HH:00');\r\n      const hours_of_use = values.hours_of_use || 1;\r\n      const select_count = values.select_count || 1;\r\n      dispatch(\r\n        setDvdDetail({\r\n          room_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n          use_flag: true,\r\n        })\r\n      );\r\n      data = await postDvdItem({\r\n        params: {\r\n          room_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n        },\r\n      });\r\n    } else {\r\n      dispatch(\r\n        setDvdDetail({\r\n          room_name,\r\n        })\r\n      );\r\n      data = await postDvdItem({ params: { room_name, available_time } });\r\n    }\r\n\r\n    if (data.status_code === 200) {\r\n      const res = data.response_body[0];\r\n      res ? history.push(`/dvd/detail/${data.response_body[0].room_seq}`) : history.push('/is/dvd');\r\n    }\r\n  };\r\n\r\n  const onChange = (value) => setMaxCount(Math.floor(maxHour / value));\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <MenuGuide title={`실 등록`} subTitle={`실을 등록 할 수 있습니다.`} />\r\n      <Form validateMessages={validateMessages} onFinish={onClick}>\r\n        <FormGuideComponent title=\"명칭\" guide=\"\" />\r\n        <Form.Item name=\"room_name\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Tabs defaultActiveKey={tabKey} onChange={handleChange} type=\"card\" className=\"mt-3\" destroyInactiveTabPane={true}>\r\n          <TabPane tab=\"동일 시간 설정\" key=\"1\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n            <Form.Item name=\"start_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                value={moment(startTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setStartTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item name=\"end_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                placeholder=\"종료시간\"\r\n                format={'HH:mm'}\r\n                value={moment(endTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setEndTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"예약 시간 단위\" guide=\"\" />\r\n            <Form.Item name=\"hours_of_use\" validateStatus={maxHour < 0 && 'error'} help={maxHour < 0 ? '종료시간이 시작시간보다 짧습니다' : ''}>\r\n              <InputNumber min={1} max={maxHour} defaultValue={1} disabled={maxHour < 0} onChange={onChange} />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"최대 연속 예약 횟수\" guide=\"\" />\r\n            <Form.Item\r\n              name=\"select_count\"\r\n              validateStatus={currVal > maxCount && 'error'}\r\n              help={currVal > maxCount ? '연속 예약할 수 있는 횟수가 총 예약 시간보다 많습니다.' : ''}\r\n            >\r\n              <InputNumber\r\n                // name=\"select_count\"\r\n                min={1}\r\n                max={maxCount ? maxCount : maxHour}\r\n                defaultValue={1}\r\n                onChange={(e) => {\r\n                  setCurrVal(e);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n          </TabPane>\r\n          <TabPane tab=\"요일별 시간 설정\" key=\"2\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n\r\n            <DvdDailyAddForm available_time={available_time} setAvailable_time={setAvailable_time} tabKey={tabKey} />\r\n          </TabPane>\r\n        </Tabs>\r\n\r\n        <Form.Item>\r\n          <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DvdAddForm;\r\n","import axios, { Axios, AxiosResponse } from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getDvdDetail, getDvdLists } from \"../../../api/Dvd.api\";\r\nimport { DvdListType } from \"../../../types/Dvd\";\r\n\r\nconst useGetDvdDetail = (room_seq: string) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getDvdDetailData = async (e: string) => {\r\n    const result = await getDvdDetail(e);\r\n    console.log(result);\r\n    setState(result.response_body);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDvdDetailData(room_seq);\r\n  }, [room_seq]);\r\n\r\n  return [state, setState] as const;\r\n};\r\n\r\nexport default useGetDvdDetail;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getDvdLists } from '../../../api/Dvd.api';\r\nimport { DvdListType } from '../../../types/Dvd';\r\n\r\nconst useGetDvdList = () => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getReserverDate = async () => {\r\n    const result = await getDvdLists();\r\n    setState(result.response_body);\r\n  };\r\n  useEffect(() => {\r\n    getReserverDate();\r\n  }, []);\r\n  return state;\r\n};\r\n\r\nexport default useGetDvdList;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\nimport { UserType } from \"../types/User\";\r\n\r\nexport const getUser = async ({\r\n  user_key,\r\n  card_password,\r\n}: {\r\n  user_key: string;\r\n  card_password?: string;\r\n}) => {\r\n  console.log(\"**************\");\r\n\r\n  console.log(user_key);\r\n\r\n  const response = await axios.get<ResponseVo<UserType>>(\r\n    \"/gesUser/getUserInfo\",\r\n    // { params: { user_key, password: card_password } }\r\n    { params: { user_key } }\r\n  );\r\n\r\n  return response.data;\r\n};\r\nexport default getUser;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n// import { getUser } from 'renderer/network/user.api';\r\nimport getUser from \"../api/user.api\";\r\n// import { ResponseVo } from \"../types/ResponseVo\";\r\n// import { UserType } from \"../types/User\";\r\n\r\n// import { ResponseVo, UserType } from 'renderer/types/Type';\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\nimport { UserType } from \"../types/User\";\r\nexport const USER = \"user\" as const;\r\n\r\ntype SliceState = {\r\n  user: UserType;\r\n  userDvdReserveTimes?: Array<string>;\r\n  userDvdEndTimes?: Array<string>;\r\n  userRoomSeq: number;\r\n  userRoomName: string;\r\n};\r\n\r\ntype PayloadType = {\r\n  [USER]: SliceState;\r\n};\r\n\r\nexport const fetchUser = createAsyncThunk(`${USER}/fetchUser`, getUser);\r\n\r\nconst slice = createSlice({\r\n  name: USER,\r\n  initialState: {\r\n    user: {\r\n      birthDay: 0,\r\n      is_user_id: \"NO_USER\",\r\n      is_user_nm: \"NO_USER\",\r\n      is_user_phone: \"NO_USER\",\r\n      is_user_no: -1,\r\n      is_user_birth: 0,\r\n      reg_date: \"NO_USER\",\r\n      user_key: \"NO_USER\",\r\n      is_user_pwd: \"NO_USER\",\r\n    },\r\n    userDvdReserveTimes: [],\r\n    userRoomSeq: -1,\r\n    userRoomName: \"\",\r\n  } as SliceState,\r\n  reducers: {\r\n    resetUser: (state) => {\r\n      console.log(\"resetUser\");\r\n      state.user = {\r\n        birthDay: 0,\r\n        is_user_id: \"NO_USER\",\r\n        is_user_nm: \"NO_USER\",\r\n        is_user_phone: \"NO_USER\",\r\n        is_user_no: -1,\r\n        is_user_birth: 0,\r\n        reg_date: \"NO_USER\",\r\n        user_key: \"NO_USER\",\r\n        is_user_pwd: \"NO_USER\",\r\n      };\r\n      state.userDvdReserveTimes = [];\r\n      state.userRoomSeq = -1;\r\n      state.userRoomName = \"\";\r\n      // state.userDvdReserveTimes = [];\r\n    },\r\n    setUserPassword: (\r\n      state,\r\n      action: PayloadAction<{\r\n        pwd: string;\r\n      }>\r\n    ) => {\r\n      state.user.is_user_pwd = action.payload.pwd;\r\n    },\r\n    setUserDvdReserveTimes: (state, action: PayloadAction<Array<string>>) => {\r\n      state.userDvdReserveTimes = action.payload;\r\n    },\r\n    setUserDvdEndTimes: (state, action: PayloadAction<Array<string>>) => {\r\n      state.userDvdEndTimes = action.payload;\r\n    },\r\n    setUserRoomSeq: (state, action: PayloadAction<number>) => {\r\n      state.userRoomSeq = action.payload;\r\n    },\r\n    setUserRoomName: (\r\n      state,\r\n      action: PayloadAction<{\r\n        roomName: string;\r\n      }>\r\n    ) => {\r\n      state.userRoomName = action.payload.roomName;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchUser.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<UserType>>\r\n    ) => {\r\n      if (action.payload.status_code === 9404) {\r\n        state.user = {\r\n          birthDay: 0,\r\n          is_user_id: \"NO_USER\",\r\n          is_user_nm: \"NO_USER\",\r\n          is_user_phone: \"NO_USER\",\r\n          is_user_no: -1,\r\n          is_user_birth: 0,\r\n          reg_date: \"NO_USER\",\r\n          user_key: \"NO_USER\",\r\n          is_user_pwd: \"NO_USER\",\r\n        };\r\n      } else {\r\n        state.user = action.payload.response_body;\r\n      }\r\n    },\r\n    [fetchUser.rejected.type]: (state) => {\r\n      state.user = {\r\n        birthDay: 0,\r\n        is_user_id: \"NO_USER\",\r\n        is_user_nm: \"NO_USER\",\r\n        is_user_phone: \"NO_USER\",\r\n        is_user_no: -1,\r\n        is_user_birth: 0,\r\n        reg_date: \"NO_USER\",\r\n        user_key: \"NO_USER\",\r\n        is_user_pwd: \"NO_USER\",\r\n\r\n        // is_user_pwd: 'NO_USER',\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  resetUser,\r\n  setUserDvdReserveTimes,\r\n  setUserDvdEndTimes,\r\n  setUserRoomSeq,\r\n  setUserPassword,\r\n  setUserRoomName,\r\n} = slice.actions;\r\nexport default slice.reducer;\r\nexport const selectUser = (state: PayloadType) => state[USER];\r\n","import React from \"react\";\r\nimport { Modal, Table, message } from \"antd\";\r\nimport { DvdListType } from \"../../../types/Dvd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\n\r\nimport { UserType } from \"../../../types/User\";\r\n\r\nconst DvdMakeReservation = ({\r\n  openModal,\r\n  setIsModal,\r\n  selectedTimes,\r\n  onReserveRoom,\r\n  changeRoomName,\r\n  user,\r\n}: {\r\n  openModal: boolean;\r\n  setIsModal: any;\r\n  selectedTimes: DvdListType[];\r\n  onReserveRoom: (userKey: any) => void;\r\n  changeRoomName: string;\r\n  user: UserType;\r\n}) => {\r\n  const sortedData = selectedTimes.sort((a, b) => a.seq - b.seq);\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: \"NO\",\r\n      dataIndex: \"no\",\r\n      key: \"no\",\r\n      align: \"center\",\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(\r\n          sessionStorage.getItem(\"currentP1age\")!\r\n        );\r\n        return <>{idx + 1}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"DVD Room Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: () => {\r\n        return <>{changeRoomName}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"예약자\",\r\n      dataIndex: \"user_name\",\r\n      key: \"age\",\r\n      render: () => {\r\n        return <>{user.is_user_nm}</>;\r\n      },\r\n    },\r\n    {\r\n      title: \"시작시간\",\r\n      dataIndex: \"start_time\",\r\n      key: \"start_time\",\r\n    },\r\n    {\r\n      title: \"종료시간\",\r\n      dataIndex: \"end_time\",\r\n      key: \"end_time\",\r\n    },\r\n  ];\r\n\r\n  const closeModal = () => setIsModal(false);\r\n\r\n  return (\r\n    <>\r\n      {user.user_key === \"NO_USER\" && user.user_key === \"NO_USER\" ? (\r\n        <Modal visible={openModal} onCancel={closeModal} onOk={closeModal}>\r\n          <p>일치하는 사용자가 없습니다.</p>\r\n        </Modal>\r\n      ) : (\r\n        <Modal\r\n          visible={openModal}\r\n          onCancel={closeModal}\r\n          onOk={() => {\r\n            onReserveRoom(user.user_key);\r\n          }}\r\n        >\r\n          <div className=\" ml-0 m-3\">아래와 같이 예약을 진행하시겠습니까?</div>\r\n          <Table\r\n            rowKey={(record) => record.seq}\r\n            columns={columns}\r\n            dataSource={sortedData}\r\n            bordered\r\n            pagination={false}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DvdMakeReservation;\r\n","//library\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport moment from 'moment';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//css\r\nimport { CaretDownOutlined, DeleteOutlined, QuestionCircleOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport { Button, Divider, Space, Descriptions, Badge, Collapse, Input, TimePicker, Switch, Table, Popconfirm, InputNumber, Modal, message, Alert } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n//api\r\nimport useGetDvdDetail from './useGetDvdDetail';\r\nimport useGetDvdList from './useGetDvdList';\r\nimport { deleteDvdItem, getDvdDetail, postCancelReserve, putDvdItem } from '../../../api/Dvd.api';\r\nimport { postRoomReserve } from '../../../api/Dvd.api';\r\n//types\r\nimport { available_time } from '../../../types/Dvd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { postDvdType } from '../../../types/Dvd';\r\n\r\n//slices\r\nimport { fetchUser, selectUser, resetUser } from '../../../slice/userSlice';\r\nimport { selectDvdSlice, setDvdDetail } from '../../../slice/DvdSlice';\r\n//components\r\nimport DvdMakeReservation from './DvdMakeReservation';\r\n\r\nconst DvdDetailForm = () => {\r\n  /////////variables\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch<{ room_seq: string }>();\r\n  //room\r\n  const room_seq = match.params.room_seq;\r\n  const rooms = useGetDvdList();\r\n  const { room_name, start_time, end_time, use_flag, select_count, hours_of_use } = useSelector(selectDvdSlice);\r\n\r\n  // user\r\n  const { user } = useSelector(selectUser);\r\n\r\n  ///////// states\r\n  //room\r\n  const [dataSource, setDataSource] = useGetDvdDetail(room_seq);\r\n  const [changeRoomName, setChangeRoomName] = useState('');\r\n  const [mStartTime, setmStartTime] = useState('');\r\n  const [mEndTime, setmEndTime] = useState('');\r\n  const [mUseFlag, setmUseFlag] = useState<boolean>();\r\n  const [mHours, setmHours] = useState(0);\r\n  const [mCount, setmCount] = useState(0);\r\n  const [availableTime, setAvailableTime] = useState<available_time[]>();\r\n  // control\r\n  const [maxCount, setMaxCount] = useState(0);\r\n  const [totalHour, setTotalHour] = useState(0);\r\n  const [sameEveryday, setSameEveryday] = useState<boolean>();\r\n  const [selectedRowkeys, setSelectedRowkeys] = useState<string[]>([]);\r\n  const [selectedTimes, setSelectedTimes] = useState<DvdListType[]>([]);\r\n  // ui\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [err, setErr] = useState(false);\r\n\r\n  const days = ['월', '화', '수', '목', '금', '토', '일'];\r\n  let parsedUserNo = '';\r\n  /////////functions\r\n  //room management\r\n  const extractHour = (time: string, separator: string) => {\r\n    const arr = time.split(separator);\r\n    return Number(arr[0]);\r\n  };\r\n\r\n  const resetAvailableTime = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n    return arr;\r\n  };\r\n\r\n  const bookedUser = () => {\r\n    const data = dataSource.filter((item: postDvdType) => item.bookable === 'N');\r\n    if (data.length >= 1) {\r\n      message.warning('예약자가 존재합니다. 확인해주세요');\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const onFix = async () => {\r\n    let putData;\r\n\r\n    if (sameEveryday) {\r\n      const data = dataSource.filter((item) => {\r\n        if (item.bookable === 'N') {\r\n          const end = moment(item.end_time, 'HH:mm');\r\n          const newEnd = moment(mEndTime, 'HH:mm');\r\n          const diff = newEnd.diff(end, 'm');\r\n          if (diff < 1) {\r\n            return item;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (data.length >= 1) {\r\n        message.success('예약자가 존재합니다. 확인해주세요');\r\n        return;\r\n      } else {\r\n        if (mCount > maxCount) {\r\n          message.error('연속 예약 횟수를 확인해주세요. ');\r\n          return;\r\n        }\r\n      }\r\n\r\n      putData = {\r\n        seq: room_seq,\r\n        params: {\r\n          room_name: changeRoomName,\r\n          start_time: mStartTime,\r\n          end_time: mEndTime,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          hours_of_use: mHours,\r\n          select_count: mCount,\r\n        },\r\n      };\r\n    } else {\r\n      if (dataSource) {\r\n        const res = bookedUser();\r\n        if (res) return;\r\n      }\r\n\r\n      putData = {\r\n        seq: room_seq,\r\n        params: {\r\n          room_name: changeRoomName,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          available_time: availableTime,\r\n        },\r\n      };\r\n    }\r\n    const response = await putDvdItem(putData);\r\n\r\n    // 수정할때 예약자있음 수정못하게해야함.\r\n    if (response.status_code === 200) {\r\n      const result = await getDvdDetail(room_seq);\r\n      dispatch(\r\n        setDvdDetail({\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          room_name: changeRoomName,\r\n        })\r\n      );\r\n\r\n      setDataSource(result.response_body);\r\n\r\n      message.success('변경이 완료되었습니다');\r\n    }\r\n  };\r\n\r\n  const onDeleteClick = async () => {\r\n    if (dataSource) {\r\n      const res = bookedUser();\r\n      if (res) return;\r\n    }\r\n\r\n    const result = await deleteDvdItem(room_seq);\r\n    if (result.status_code === 200) {\r\n      history.push('/is/dvd');\r\n    }\r\n  };\r\n\r\n  const onChangeInput = (e: any) => {\r\n    parsedUserNo = e.target.value;\r\n  };\r\n\r\n  //reservation\r\n  const rowSelection = {\r\n    selectedRowkeys,\r\n    onChange: (selected: any, selectedObj: any) => {\r\n      if (selected.length > 3) {\r\n        setErr(true);\r\n        message.error('최대 3시간까지 예약이 가능합니다.');\r\n      } else {\r\n        setSelectedTimes([...selectedObj]);\r\n        setSelectedRowkeys(selected);\r\n      }\r\n    },\r\n\r\n    getCheckboxProps: (record: any) => ({\r\n      disabled: record.bookable === 'N',\r\n      bookable: record.bookable,\r\n    }),\r\n\r\n    onSelect: (obj: any, selected: any, selectedRows: DvdListType[]) => {\r\n      if (selectedRows.length > 1) {\r\n        const seq = selectedRows.map((el: any) => el.seq);\r\n        const maxSeq = Math.max(...seq);\r\n        const minSeq = Math.min(...seq);\r\n        const acceptableSeq = minSeq + selectedRows.length - 1;\r\n\r\n        if (acceptableSeq < maxSeq) {\r\n          message.error('최대 3시간까지 연속 예약이 가능합니다.');\r\n          setErr(true);\r\n          return;\r\n        } else {\r\n          setErr(false);\r\n        }\r\n      }\r\n      setErr(false);\r\n    },\r\n    hideSelectAll: true,\r\n  };\r\n\r\n  const findUser = () => {\r\n    Modal.info({\r\n      closable: true,\r\n      title: '회원증을 인식해주세요.',\r\n      content: (\r\n        <div className=\"mt-5\">\r\n          <Input onChange={onChangeInput} autoFocus={true} />\r\n        </div>\r\n      ),\r\n\r\n      onOk() {\r\n        const params = {\r\n          user_key: parsedUserNo,\r\n          card_password: '',\r\n        };\r\n        console.log(params);\r\n        dispatch(fetchUser(params));\r\n        setIsModal(true);\r\n      },\r\n    });\r\n  };\r\n  const onReserveRoom = async (userKey: any) => {\r\n    console.log(selectedTimes);\r\n\r\n    const reserve_time = selectedTimes.map((el) => el.start_time);\r\n\r\n    const params = {\r\n      userInfo: {\r\n        userNo: userKey,\r\n      },\r\n      reserveInfo: {\r\n        room_seq,\r\n        reserve_time,\r\n      },\r\n    };\r\n\r\n    const res = await postRoomReserve(params);\r\n    if (res.status_code === 200) {\r\n      const details = await getDvdDetail(room_seq);\r\n\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n        message.success({\r\n          content: '예약이 완료되었습니다.',\r\n          style: { marginTop: '20vh' },\r\n        });\r\n      }\r\n    } else if (res.status_code === 4401) {\r\n      message.warning({\r\n        content: '이미 예약하신 정보가 존재합니다. 예약은 한 번만 가능합니다',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    }\r\n    setIsModal(false);\r\n    dispatch(resetUser());\r\n\r\n    setTimeout(() => {\r\n      history.push(`/is/dvd`);\r\n    }, 2000);\r\n  };\r\n  const onCancelReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postCancelReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getDvdDetail(room_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (availableTime && value) {\r\n      const [a, b] = value;\r\n      availableTime[day - 1].start_time = moment(a).format('HH:00:00');\r\n      availableTime[day - 1].end_time = moment(b).format('HH:00:00');\r\n    } else if (availableTime && !value) {\r\n      availableTime[day - 1].start_time = '';\r\n      availableTime[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  /////////useEffect\r\n  useEffect(() => {\r\n    setSelectedTimes([]);\r\n    const el = rooms.filter((el) => el.seq === Number(room_seq));\r\n\r\n    if (el) {\r\n      const isY = el[0]?.use_flag === 'Y';\r\n      setChangeRoomName(el[0]?.room_name);\r\n      setmStartTime(el[0]?.start_time);\r\n      setmEndTime(el[0]?.end_time);\r\n      setmUseFlag(isY);\r\n      setmHours(el[0]?.hours_of_use);\r\n      setmCount(el[0]?.select_count);\r\n      if (el[0]?.available_time) {\r\n        const arr = el[0]?.available_time;\r\n        setAvailableTime([...arr]);\r\n      }\r\n      setSameEveryday(Boolean(el[0]?.hours_of_use && el[0]?.select_count));\r\n    }\r\n  }, [rooms]);\r\n\r\n  useEffect(() => {\r\n    if (mStartTime && mEndTime) {\r\n      const start = extractHour(mStartTime, ':');\r\n      const end = extractHour(mEndTime, ':');\r\n      setTotalHour(end - start);\r\n    }\r\n  }, [mStartTime, mEndTime]);\r\n\r\n  useEffect(() => {\r\n    setMaxCount(Math.floor(totalHour / mHours));\r\n  }, [totalHour]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!mUseFlag) {\r\n  //     const zeroAvailableTime = resetAvailableTime();\r\n  //     setAvailableTime([...zeroAvailableTime]);\r\n  //   }\r\n  // }, [mUseFlag]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: uuid(),\r\n      width: 60,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else if (_record.bookable === 'N') {\r\n          return <Badge status=\"default\" text=\"예약 중\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      // las상에서 유저를 조회할 때 사용하는 키\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청시간',\r\n      dataIndex: 'reserved_time',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item ? moment(_item).format('MM-DD HH:mm') : ''}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 취소',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"예약을 취소하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <DvdMakeReservation\r\n        openModal={isModal}\r\n        setIsModal={setIsModal}\r\n        selectedTimes={selectedTimes}\r\n        onReserveRoom={onReserveRoom}\r\n        changeRoomName={changeRoomName}\r\n        user={user}\r\n      />\r\n\r\n      <MenuGuide title={`DVD 예약 상세`} subTitle={`DVD 예약 상태를 관리할 수 있습니다.`} />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`DVD실(${room_name}) 정보`}</Text>\r\n      </Divider>\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"실 명\" span={1}>\r\n          <Text>{`${room_name}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"실 상태\" span={3}>\r\n          {/* {use_flag === \"Y\" && start_time && (\r\n            <Badge status=\"processing\" text=\"정상 운영\" />\r\n          )}\r\n          {use_flag === \"N\" && !start_time && (\r\n            <Badge status=\"default\" text=\"이용 불가\" />\r\n          )} */}\r\n          {use_flag === 'Y' && <Badge status=\"processing\" text=\"정상 운영\" />}\r\n          {use_flag === 'N' && <Badge status=\"default\" text=\"이용 불가\" />}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"대여실 이름\" span={3}>\r\n              <Input\r\n                value={changeRoomName}\r\n                onChange={(e) => {\r\n                  setChangeRoomName(e.target.value);\r\n                }}\r\n              />\r\n            </Descriptions.Item>\r\n\r\n            {!sameEveryday &&\r\n              availableTime?.map((el, idx) => {\r\n                const isNull = !el.start_time && !el.end_time;\r\n\r\n                return (\r\n                  <Descriptions.Item label={`대여 운영 시간 설정 - ${days[idx]}`} span={3} key={el.day}>\r\n                    {isNull ? (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    ) : (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        defaultValue={[moment(el.start_time, 'HH:mm'), moment(el.end_time, 'HH:mm')]}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    )}\r\n                  </Descriptions.Item>\r\n                );\r\n              })}\r\n\r\n            {sameEveryday && (\r\n              <>\r\n                <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n                  <TimePicker.RangePicker\r\n                    placeholder={[`시작시간`, `종료시간`]}\r\n                    format={`HH:mm`}\r\n                    value={[moment(mStartTime, 'HH:mm'), moment(mEndTime, 'HH:mm')]}\r\n                    onChange={(e) => {\r\n                      if (e) {\r\n                        const [start, end] = e;\r\n                        if (start && end) {\r\n                          setmStartTime(start?.format('HH:00'));\r\n                          setmEndTime(end?.format('HH:00'));\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></TimePicker.RangePicker>\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"연속 예약 횟수\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mCount === undefined}\r\n                    min={1}\r\n                    max={Math.floor(totalHour / mHours)}\r\n                    defaultValue={mCount}\r\n                    onChange={(e) => {\r\n                      console.log(e);\r\n\r\n                      setmCount(e);\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"예약 시간 단위\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mHours === undefined}\r\n                    min={1}\r\n                    max={totalHour}\r\n                    defaultValue={mHours}\r\n                    onChange={(e) => {\r\n                      setmHours(e);\r\n                      setMaxCount(Math.floor(totalHour / e));\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n              </>\r\n            )}\r\n            <Descriptions.Item label=\"대여 불가 설정\" span={3}>\r\n              <Switch\r\n                checked={!mUseFlag}\r\n                onClick={() => {\r\n                  setmUseFlag((prevData) => {\r\n                    return !prevData;\r\n                  });\r\n                }}\r\n              ></Switch>\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              {/* <Link\r\n              to={{\r\n                pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n              }}\r\n              >\\\r\n              </Link> */}\r\n              <Button type=\"primary\" onClick={onFix}>\r\n                정보 및 목록 수정\r\n              </Button>\r\n              <Popconfirm\r\n                title=\"아이템을 정말 삭제하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  //   e.stopPropagation();\r\n                  onDeleteClick();\r\n                  //   console.log(_record.user_key);\r\n                  //   onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <Button type=\"primary\" danger>\r\n                  삭 제\r\n                </Button>\r\n                {/* <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                /> */}\r\n              </Popconfirm>\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n      <MenuGuide\r\n        style={{\r\n          marginTop: '2rem',\r\n        }}\r\n        title={`DVD실 시간표`}\r\n        subTitle={`예약 상태를 확인 할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`예약 정보`}</Text>\r\n      </Divider>\r\n      <Table rowKey={(record) => record.start_time} columns={columns} rowSelection={{ ...rowSelection }} dataSource={dataSource} bordered size=\"small\" />\r\n      <div style={{ marginBottom: '10px', textAlign: 'center' }}>\r\n        {dataSource && (\r\n          <Button type=\"primary\" onClick={findUser} disabled={err || selectedRowkeys.length === 0}>\r\n            예약하기\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DvdDetailForm;\r\n","import { UploadOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport React, { useState } from 'react';\r\nimport { noImg } from '../../CommonImage';\r\n\r\nconst EventPosterUploadComponent = (props) => {\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState();\r\n  const { fileList, setFileList, eventPoster } = props;\r\n\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  };\r\n\r\n  const beforeUpload = (file, fileList) => {\r\n    return false;\r\n  };\r\n  return (\r\n    <div>\r\n      <Modal visible={previewVisible} footer={null} onCancel={handleCancel}>\r\n        <img\r\n          alt='example'\r\n          style={{ width: '100%' }}\r\n          src={previewImage}\r\n          onError={(error) => {\r\n            error.currentTarget.src = noImg;\r\n          }}\r\n        />\r\n      </Modal>\r\n      <Upload\r\n        className='event-poster-wrapped'\r\n        listType='picture-card'\r\n        beforeUpload={beforeUpload}\r\n        customRequest={dummyRequest}\r\n        onPreview={handlePreview}\r\n        multiple={false}\r\n        fileList={fileList}\r\n        onChange={(info) => {\r\n          if (\r\n            !(\r\n              info.file.type.includes('image') ||\r\n              info.file.type.includes('video')\r\n            )\r\n          ) {\r\n            message.error(\r\n              `이미지 또는 비디오 파일만 업로드 가능합니다 : ${info.file.name}`\r\n            );\r\n          } else {\r\n            setFileList(info.fileList);\r\n          }\r\n        }}\r\n      >\r\n        {fileList.length >= 1 ? null : (\r\n          <Button>\r\n            <UploadOutlined /> 포스터 업로드\r\n          </Button>\r\n        )}\r\n      </Upload>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventPosterUploadComponent;\r\n","/* eslint-disable eqeqeq */\r\nimport { Descriptions } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport EventPosterUploadComponent from './EventPosterUploadComponent';\r\n\r\nconst EventDetailComponent = (props) => {\r\n  const {\r\n    eventMaster,\r\n    eventTarget,\r\n    eventPoster,\r\n    setFileList,\r\n    fileList,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    console.log('EventDetailComponent props', props);\r\n    return () => {};\r\n  }, []);\r\n\r\n  const covertDays = (daysStr = '') => {\r\n    let dayArray = daysStr.split(',');\r\n    let daysStrArray = dayArray.map((day) => {\r\n      if (day == 6) {\r\n        return '일';\r\n      } else if (day == 0) {\r\n        return '월';\r\n      } else if (day == 1) {\r\n        return '화';\r\n      } else if (day == 2) {\r\n        return '수';\r\n      } else if (day == 3) {\r\n        return '목';\r\n      } else if (day == 4) {\r\n        return '금';\r\n      } else if (day == 5) {\r\n        return '토';\r\n      } else {\r\n        return '설정 안됨';\r\n      }\r\n    });\r\n    return daysStrArray.toString().replace(/,/g, ', ');\r\n  };\r\n  const getAgeName = (age) => {\r\n    switch (age) {\r\n      case 0:\r\n        return '연령무관';\r\n      case 6:\r\n        return '유아';\r\n      case 8:\r\n        return '초등';\r\n      case 14:\r\n        return '청소년';\r\n      case 20:\r\n        return '성인';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Descriptions className='event-wrap' bordered>\r\n        <Descriptions.Item label='등록 번호' span={3}>\r\n          {eventMaster.event_master_idx}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 명' span={2}>\r\n          {' '}\r\n          {eventMaster.event_title}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='포스터' span={1}>\r\n          <EventPosterUploadComponent\r\n            setFileList={setFileList}\r\n            eventPoster={eventPoster}\r\n            fileList={fileList}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='내 용' span={3}>\r\n          {eventMaster.event_description}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item\r\n          label='행사 신청 기간'\r\n          span={2}\r\n        >{`${eventMaster.event_apply_start_date}~${eventMaster.event_apply_end_date}`}</Descriptions.Item>\r\n        <Descriptions.Item label='행사 수행 기간' span={1}>\r\n          {`${eventMaster.event_activity_start_date}~${eventMaster.event_activity_end_date}`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 요일' span={2}>\r\n          {covertDays(eventMaster.event_activity_weekday)}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 시간' span={1}>\r\n          {`${eventMaster.event_activity_start_time}~${eventMaster.event_activity_end_time}`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='장 소' span={2}>\r\n          {eventMaster.event_place}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='행사 대상(연령/성별)' span={1}>\r\n          {`${getAgeName(eventTarget.event_target_age)} / ${\r\n            eventTarget.event_target_sex === 'MALE' ? '남성' : ''\r\n          }${eventTarget.event_target_sex === 'FEMALE' ? '여성' : ''}${\r\n            eventTarget.event_target_sex === 'COMMON' ? '제한없음' : ''\r\n          }`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='그룹 신청 여부' span={2}>\r\n          {`${\r\n            eventMaster.event_is_group === 'Y'\r\n              ? `허용 (최대 ${eventMaster.event_group_limit_cnt} 명)`\r\n              : `비허용`\r\n          }`}\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='공개 여부' span={1}>\r\n          {eventMaster.event_is_public === 'Y' ? `공개` : `비공개`}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailComponent;\r\n","import { Divider, Table, Select, Radio } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport { formatPhoneNumber } from '../../CommonUtils';\r\nimport * as Constants from '../../Constants';\r\n\r\nconst EventDetailEnrolleeListComponent = (props) => {\r\n  const { event_master_idx, getEvent } = props;\r\n  const [enrolleeList, setEnrolleeList] = useState([]);\r\n\r\n  const [eventApplicantState, setEventApplicantState] = useState('APPLY');\r\n  const [isLoading, setIsLoading] = useState();\r\n\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const columns = [\r\n    {\r\n      title: '번호',\r\n      dataIndex: 'IDX',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '신청자 이름',\r\n      dataIndex: 'is_user_nm',\r\n      key: uuid(),\r\n      width: 250,\r\n      align: 'center',\r\n    },\r\n\r\n    {\r\n      title: '신청 인원',\r\n      dataIndex: 'event_group_applicant_cnt',\r\n      key: uuid(),\r\n      align: 'center',\r\n      width: 100,\r\n      render: (item, record, idx) => {\r\n        return `${item}명`;\r\n      },\r\n    },\r\n    {\r\n      title: '연락처',\r\n      dataIndex: 'is_user_phone',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        if (item === null) {\r\n          return null;\r\n        }\r\n        return formatPhoneNumber(item);\r\n      },\r\n    },\r\n    {\r\n      title: '신청상태',\r\n      dataIndex: 'event_applicant_state',\r\n      width: 150,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (item, record, idx) => {\r\n        return (\r\n          <Select\r\n            value={item}\r\n            onChange={(e) => {\r\n              console.log(e);\r\n              console.log(record);\r\n              axios\r\n                .post(`/event/modify/applicant`, {\r\n                  eventValues: {\r\n                    event_applicant_state: e,\r\n                    event_applicant_idx: record.event_applicant_idx,\r\n                    event_master_idx: event_master_idx,\r\n                  },\r\n                })\r\n                .then((res) => {\r\n                  console.log(res);\r\n                  getEnrolleeList(eventApplicantState);\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                });\r\n            }}\r\n          >\r\n            <Select.Option value={'APPLY'}>신청완료</Select.Option>\r\n            <Select.Option value={'CANCEL'}>신청취소</Select.Option>\r\n          </Select>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'modify_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        return item;\r\n      },\r\n    },\r\n  ];\r\n  const getEnrolleeList = (event_applicant_state) => {\r\n    axios\r\n      .get(`/event/applicant`, {\r\n        params: {\r\n          event_master_idx: event_master_idx,\r\n          event_applicant_state: event_applicant_state,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setEnrolleeList(res.data.response_body);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getEnrolleeList(eventApplicantState);\r\n  }, [eventApplicantState]);\r\n\r\n  return (\r\n    <div>\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>신청자 목록</Text>\r\n      </Divider>\r\n      <div>\r\n        <Radio.Group\r\n          value={eventApplicantState}\r\n          onChange={(e) => {\r\n            setEventApplicantState(e.target.value);\r\n          }}\r\n          style={{ margin: '10px' }}\r\n        >\r\n          <Radio value={'APPLY'}>신청완료</Radio>\r\n          <Radio value={'CANCEL'}>신청취소</Radio>\r\n        </Radio.Group>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={enrolleeList}\r\n        columns={columns}\r\n        size=\"small\"\r\n        bordered\r\n        pagination={{\r\n          pageSize: 50,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailEnrolleeListComponent;\r\n","export const formatPhoneNumber = (str = '') => {\r\n  return str\r\n    .replace(/[^0-9]/g, '')\r\n    .replace(\r\n      /(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,\r\n      '$1-$2-$3'\r\n    )\r\n    .replace('--', '-');\r\n};\r\n","import { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Space } from 'antd';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport EventDetailComponent from './EventDetailComponent';\r\nimport EventDetailEnrolleeListComponent from './EventDetailEnrolleeListComponent';\r\n\r\nconst EventDetailContainer = (props) => {\r\n  const { event_master_idx } = props.match.params;\r\n  const [event, setEvent] = useState();\r\n\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getEvent();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    sendImages(fileList, event_master_idx);\r\n  }, [fileList]);\r\n\r\n  useEffect(() => {\r\n    getEventPoster(event);\r\n  }, [event]);\r\n\r\n  const getEvent = () => {\r\n    axios\r\n      .get(`/event/detail/${event_master_idx}`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setEvent(res.data.response_body);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getEventPoster = (event) => {\r\n    if (event && event.event_poster && event.event_poster.event_poster_file_name) {\r\n      let uid = event.event_poster.event_poster_file_name.split('.')[0];\r\n      let extension = event.event_poster.event_poster_file_name.split('.')[1];\r\n      let tempFileList = [\r\n        {\r\n          uid: uid,\r\n          name: event.event_poster.event_poster_file_name,\r\n          status: 'done',\r\n          type: `image/${extension}`,\r\n          url: `${axios.defaults.baseURL}/files/event/${event.event_poster.event_poster_file_name}`,\r\n        },\r\n      ];\r\n      setFileList(tempFileList);\r\n    }\r\n  };\r\n\r\n  const deleteEvent = (event_master_idx) => {\r\n    axios\r\n      .delete(`/event/delete/${event_master_idx}`)\r\n      .then((res) => {\r\n        props.history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, event_master_idx) => {\r\n    if (imageList.length === 0) {\r\n      return;\r\n    }\r\n    if ('status' in imageList[0]) {\r\n      return;\r\n    }\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'GES_EVENT',\r\n        idx: idx,\r\n        ref_idx: event_master_idx,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '90%', margin: 'auto', marginBottom: '50px' }}>\r\n      <MenuGuide title={'행사 등록 관리 ▶ 행사 상세'} subTitle={''} />\r\n\r\n      {event ? (\r\n        <div>\r\n          <EventDetailComponent\r\n            eventMaster={event.event_master}\r\n            eventTarget={event.event_target}\r\n            eventPoster={event.event_poster}\r\n            setFileList={setFileList}\r\n            fileList={fileList}\r\n          />\r\n          <Space style={{ marginTop: '10px' }}>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() => {\r\n                props.history.push(`/event/form/${event_master_idx}`, {\r\n                  event: event,\r\n                });\r\n              }}\r\n            >\r\n              수정\r\n            </Button>\r\n            <Button\r\n              danger\r\n              onClick={() => {\r\n                confirm({\r\n                  title: '행사를 삭제하시겠습니까?',\r\n                  icon: <ExclamationCircleOutlined style={{ color: 'red' }} />,\r\n                  content: '',\r\n                  okText: '확인',\r\n                  cancelText: '취소',\r\n                  onOk() {\r\n                    deleteEvent(event_master_idx);\r\n                  },\r\n                  onCancel() {},\r\n                });\r\n              }}\r\n            >\r\n              삭제\r\n            </Button>\r\n          </Space>\r\n        </div>\r\n      ) : null}\r\n      <EventDetailEnrolleeListComponent event_master_idx={event_master_idx} getEvent={getEvent} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetailContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Button,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  InputNumber,\r\n  TimePicker,\r\n  Radio,\r\n} from 'antd';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Prompt } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nconst EventFormComponent = (props) => {\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [isBack, setIsBack] = useState(true);\r\n  const [eventIsGroup, setEventIsGroup] = useState(true);\r\n  const [form] = Form.useForm();\r\n  const [mode, setMode] = useState('regist');\r\n  const [maxGroupCnt, setMaxGroupCnt] = useState(1);\r\n\r\n  useEffect(() => {\r\n    console.log('EventFormComponent useEffect');\r\n    console.log(props);\r\n\r\n    enablePrevent();\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.location.state && props.location.state.event) {\r\n      setMode('modify');\r\n      console.log(mode);\r\n\r\n      let {\r\n        event_master,\r\n        event_poster,\r\n        event_target,\r\n      } = props.location.state.event;\r\n      setMaxGroupCnt(event_master.event_applicant_limit_cnt);\r\n\r\n      form.setFieldsValue({\r\n        event_title: event_master.event_title,\r\n        event_description: event_master.event_description,\r\n        event_place: event_master.event_place,\r\n        event_target_sex: event_target.event_target_sex,\r\n        event_target_age: event_target.event_target_age,\r\n        event_apply_period_date: [\r\n          moment(event_master.event_apply_start_date),\r\n          moment(event_master.event_apply_end_date),\r\n        ],\r\n        event_activity_period_date: [\r\n          moment(event_master.event_activity_start_date),\r\n          moment(event_master.event_activity_end_date),\r\n        ],\r\n        event_activity_weekday: event_master.event_activity_weekday.split(','),\r\n        event_activity_time: [\r\n          moment(event_master.event_activity_start_time, 'h:mm'),\r\n          moment(event_master.event_activity_end_time, 'h:mm'),\r\n        ],\r\n        event_applicant_limit_cnt: event_master.event_applicant_limit_cnt,\r\n        event_is_group: event_master.event_is_group,\r\n        event_group_limit_cnt: event_master.event_group_limit_cnt,\r\n        event_is_public: event_master.event_is_public,\r\n      });\r\n    }\r\n  }, [props]);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n\r\n    if (values.event_activity_period_date) {\r\n      let startDate = values.event_activity_period_date[0];\r\n      let endDate = values.event_activity_period_date[1];\r\n\r\n      values['event_activity_start_date'] = startDate.format('YYYY-MM-DD');\r\n      values['event_activity_end_date'] = endDate.format('YYYY-MM-DD');\r\n    }\r\n\r\n    if (values.event_apply_period_date) {\r\n      let startDate = values.event_apply_period_date[0];\r\n      let endDate = values.event_apply_period_date[1];\r\n\r\n      values['event_apply_start_date'] = startDate.format('YYYY-MM-DD');\r\n      values['event_apply_end_date'] = endDate.format('YYYY-MM-DD');\r\n    }\r\n\r\n    if (values.event_activity_time) {\r\n      let startTime = values.event_activity_time[0];\r\n      let endTime = values.event_activity_time[1];\r\n\r\n      values['event_activity_start_time'] = startTime.format('HH:mm');\r\n      values['event_activity_end_time'] = endTime.format('HH:mm');\r\n    }\r\n\r\n    if (values.event_activity_weekday) {\r\n      values[\r\n        'event_activity_weekday'\r\n      ] = values.event_activity_weekday.sort().toString();\r\n    }\r\n\r\n    axios\r\n      .post(\r\n        mode === 'regist'\r\n          ? `/event/new`\r\n          : `/event/modify/${props.location.state.event.event_master.event_master_idx}`,\r\n        {\r\n          eventValues: values,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        // props.history.replace(`/event/detail/${res}`);\r\n\r\n        if (res.data.description.includes('Success')) {\r\n          setIsBack(false);\r\n          props.history.replace(\r\n            `/event/detail/${res.data.response_body.event_master.event_master_idx}`\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const rangeConfig = {\r\n    rules: [{ type: 'array', required: true, message: '기간을 선택해주세요' }],\r\n  };\r\n\r\n  const initialValues = () => {};\r\n  return (\r\n    <div>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <Form\r\n        className='event-form'\r\n        form={form}\r\n        validateMessages={validateMessages}\r\n        onFinish={onFinish}\r\n        initialValues={initialValues}\r\n      >\r\n        <FormGuideComponent title='행사명' guide='' required={true} />\r\n        <Form.Item name='event_title' rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 설명' guide='' required={true} />\r\n        <Form.Item name='event_description' rules={[{ required: true }]}>\r\n          <TextArea />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 장소' guide='' required={true} />\r\n        <Form.Item name='event_place' rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 대상 - 성별' guide='' />\r\n        <Form.Item\r\n          name='event_target_sex'\r\n          rules={[{ required: true }]}\r\n          initialValue={'COMMON'}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value='COMMON'>제한없음</Radio>\r\n            <Radio value='MALE'>남자</Radio>\r\n            <Radio value='FEMALE'>여자</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 대상 - 연령' guide='' />\r\n        <Form.Item\r\n          name='event_target_age'\r\n          rules={[{ required: true }]}\r\n          initialValue={0}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value={0}>제한없음</Radio>\r\n            <Radio value={6}>{`유아(6~7 세)`}</Radio>\r\n            <Radio value={8}>{`초등(8~13 세)`}</Radio>\r\n            <Radio value={14}>{`청소년(14~19 세)`}</Radio>\r\n            <Radio value={20}>{`성인`}</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 신청 기간' guide='' required={true} />\r\n        <Form.Item name='event_apply_period_date' {...rangeConfig}>\r\n          <DatePicker.RangePicker />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 수행 기간' guide='' required={true} />\r\n        <Form.Item name='event_activity_period_date' {...rangeConfig}>\r\n          <DatePicker.RangePicker />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 요일 선택' guide='' required={true} />\r\n        <Form.Item name='event_activity_weekday' rules={[{ required: true }]}>\r\n          <Checkbox.Group style={{ width: '100%' }}>\r\n            <Row>\r\n              <Col span={2}>\r\n                <Checkbox value='0'>월</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='1'>화</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='2'>수</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='3'>목</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='4'>금</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='5'>토</Checkbox>\r\n              </Col>\r\n              <Col span={2}>\r\n                <Checkbox value='6'>일</Checkbox>\r\n              </Col>\r\n            </Row>\r\n          </Checkbox.Group>\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent\r\n          title='행사 시작/종료 시간'\r\n          guide=''\r\n          required={true}\r\n        />\r\n        <Form.Item name='event_activity_time' rules={[{ required: true }]}>\r\n          <TimePicker.RangePicker\r\n            placeholder={[`시작시간`, `종료시간`]}\r\n            format={`HH:mm`}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent title='행사 최대 정원' guide='' />\r\n        <Form.Item\r\n          name='event_applicant_limit_cnt'\r\n          rules={[{ required: true }]}\r\n          initialValue={1}\r\n        >\r\n          <InputNumber\r\n            min={1}\r\n            formatter={(value) => `${value} 명`}\r\n            onChange={(e) => setMaxGroupCnt(e)}\r\n          />\r\n        </Form.Item>\r\n\r\n        <FormGuideComponent\r\n          title='행사 그룹 신청 여부'\r\n          guide='한명의 회원이 다수의 회원 신청(익명)이 가능합니다.'\r\n        />\r\n        <Form.Item\r\n          name='event_is_group'\r\n          rules={[{ required: true }]}\r\n          initialValue={'Y'}\r\n        >\r\n          <Radio.Group\r\n            onChange={(e) => {\r\n              console.log(e.target.value);\r\n              setEventIsGroup(e.target.value === 'Y');\r\n            }}\r\n          >\r\n            <Radio value='Y'>허용</Radio>\r\n            <Radio value='N'>비허용</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        {eventIsGroup ? (\r\n          <FormGuideComponent\r\n            title='행사 그룹 신청 가능 회원 수'\r\n            guide='한명의 회원이 다수의 회원 신청(익명)이 가능합니다.'\r\n          />\r\n        ) : null}\r\n\r\n        {eventIsGroup ? (\r\n          <Form.Item\r\n            name='event_group_limit_cnt'\r\n            rules={[{ required: true }]}\r\n            initialValue={1}\r\n          >\r\n            <InputNumber\r\n              min={1}\r\n              formatter={(value) => `${value} 명`}\r\n              max={maxGroupCnt}\r\n            />\r\n          </Form.Item>\r\n        ) : null}\r\n\r\n        <FormGuideComponent\r\n          title='행사 공개 여부'\r\n          guide='예약시스템에서 숨김처리가 가능합니다.'\r\n        />\r\n        <Form.Item\r\n          name='event_is_public'\r\n          rules={[{ required: true }]}\r\n          initialValue={'Y'}\r\n        >\r\n          <Radio.Group>\r\n            <Radio value='Y'>공개</Radio>\r\n            <Radio value='N'>비공개</Radio>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type='primary' htmlType='submit' block>\r\n            등 록\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventFormComponent;\r\n","import { message } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport './Event.css';\r\nimport EventFormComponent from './EventFormComponent';\r\nconst EventFormContainer = (props) => {\r\n  const [eventIdx, setEventIdx] = useState('');\r\n  const [event, setEvent] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    return () => {};\r\n  }, [fileList]);\r\n\r\n  const onChange = (e) => {\r\n    const { value } = e.target;\r\n    const reg = /^-?\\d*?$/;\r\n    if (!isNaN(value) && reg.test(value)) {\r\n      setEventIdx(value);\r\n    }\r\n  };\r\n\r\n  const registerEvent = () => {\r\n    if (!eventIdx) {\r\n      message.error('행사 등록 번호를 입력해주세요.');\r\n    }\r\n    axios\r\n      .post(`/ayevent/registAyEvent`, {\r\n        IDX: eventIdx,\r\n      })\r\n      .then((res) => {\r\n        let { ayEvent = { IDX: 0, event_idx: 0 } } = res.data;\r\n        if (fileList.length > 0) {\r\n          sendImages(fileList, ayEvent.IDX);\r\n        } else {\r\n          props.history.push('/is');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, IDX) => {\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'AY_EVENT',\r\n        idx: idx,\r\n        ref_idx: IDX,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData, {\r\n        headers: {\r\n          'content-type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        props.history.push('/is');\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getEvent = () => {\r\n    if (eventIdx) {\r\n      axios\r\n        .get(`/ayevent/getProgram`, {\r\n          params: {\r\n            IDX: eventIdx,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setEvent(res.data.program);\r\n          setFileList([]);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div style={{ width: '90%', margin: 'auto' }}>\r\n      <MenuGuide\r\n        title={'행사 관리 ▶ 행사 등록'}\r\n        subTitle={'행사 정보를 입력 해주세요.'}\r\n      />\r\n      <EventFormComponent {...props} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventFormContainer;\r\n","import {\r\n  DeleteOutlined,\r\n  QuestionCircleOutlined,\r\n  CaretRightOutlined,\r\n} from '@ant-design/icons';\r\nimport { Button, DatePicker, List, Space, Popconfirm } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport { Map } from 'immutable';\r\n\r\nconst ItemLoanDetailMasterBlockComponent = (props) => {\r\n  const {\r\n    itemMaster = {\r\n      blockScheduleList: [],\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n  const [datePickerValue, setDatePickerValue] = useState([]);\r\n  useEffect(() => {\r\n    getClosureSchedule();\r\n  }, []);\r\n  useEffect(() => {}, [props]);\r\n  const [closureList, setClosureList] = useState([]);\r\n  const [blockPeriod, setBlockPeriod] = useState({\r\n    block_start_date: '',\r\n    block_end_date: '',\r\n  });\r\n  const getClosureSchedule = () => {\r\n    axios\r\n      .get(`/lib/getLibClosureAfterNow`, {})\r\n      .then((res) => {\r\n        setClosureList(res.data.closureList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  const disabledDate = (current = moment()) => {\r\n    // Can not select days before today and today\r\n\r\n    var closureDate = closureList.find(\r\n      (closure) => closure.closure_date === current.format('YYYY-MM-DD')\r\n    );\r\n\r\n    // 지우지 마시오. 휴관일과 달력 매칭하는 로직임\r\n    // var closureDateBoolean =\r\n    //   current.format(\"YYYY-MM-DD\") ===\r\n    //   (closureDate ? closureDate.closure_date : null);\r\n\r\n    return (\r\n      current.startOf('day') < moment().startOf('day') //|| closureDateBoolean // 이것도 지우지 마시오\r\n    );\r\n  };\r\n\r\n  const addBlockPeriod = () => {\r\n    if (!blockPeriod.block_start_date || !blockPeriod.block_end_date) return;\r\n\r\n    axios\r\n      .post(`/is/modifyLoanItemBlockSchedule`, {\r\n        ...itemMaster,\r\n        ...blockPeriod,\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(res.data.itemMaster);\r\n        blockPeriod.block_start_date = '';\r\n        blockPeriod.block_end_date = '';\r\n        setBlockPeriod(Map(blockPeriod).toJS());\r\n        setDatePickerValue([]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const deleteBlockPeriod = (blockPeriod) => {\r\n    axios\r\n      .post(`/is/deleteLoanItemBlockSchedule`, blockPeriod)\r\n      .then((res) => {\r\n        setItemMaster(res.data.itemMaster);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  return (\r\n    <div className='ItemLoanDetailMasterBlockComponentWrap'>\r\n      <Space>\r\n        <DatePicker.RangePicker\r\n          value={datePickerValue}\r\n          disabledDate={disabledDate}\r\n          renderExtraFooter={() => '신청 불가 시작일과 종료일을 선택해주세요'}\r\n          onChange={(e) => {\r\n            setDatePickerValue(e);\r\n            blockPeriod.block_start_date = e[0].format('YYYY-MM-DD');\r\n            blockPeriod.block_end_date = e[1].format('YYYY-MM-DD');\r\n            setBlockPeriod(Map(blockPeriod).toJS());\r\n          }}\r\n          style={{ width: '360px' }}\r\n        />\r\n        <Button\r\n          type='primary'\r\n          onClick={() => {\r\n            addBlockPeriod();\r\n          }}\r\n        >\r\n          추 가\r\n        </Button>\r\n      </Space>\r\n      <div>\r\n        <List\r\n          className='blockList'\r\n          size='small'\r\n          bordered={false}\r\n          style={{ marginTop: '10px', width: '426.729px' }}\r\n          dataSource={itemMaster.blockScheduleList}\r\n          renderItem={(item, index) => {\r\n            return (\r\n              <List.Item\r\n                style={{\r\n                  padding: '0',\r\n                  margin: '10px 0px',\r\n                  border: '0',\r\n                }}\r\n              >\r\n                <Text style={{ fontFamily: 'NanumGothic' }}>\r\n                  <CaretRightOutlined />\r\n                  {` ${item.block_start_date} ~ ${item.block_end_date} 신청 불가`}\r\n                </Text>\r\n                <Popconfirm\r\n                  title='삭제하시겠습니까?'\r\n                  icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                  onConfirm={() => {\r\n                    deleteBlockPeriod(item);\r\n                  }}\r\n                  onCancel={() => {\r\n                    return;\r\n                  }}\r\n                  okText='예'\r\n                  cancelText='아니오'\r\n                >\r\n                  <Button\r\n                    type='dashed'\r\n                    size='small'\r\n                    block\r\n                    style={{\r\n                      width: '58.06px',\r\n                      textAlign: 'center',\r\n                      padding: 0,\r\n                    }}\r\n                  >\r\n                    <DeleteOutlined\r\n                      style={{\r\n                        fontSize: '1.2em',\r\n                        position: 'relative',\r\n                        top: '2px',\r\n                        color: '#c0392b',\r\n                      }}\r\n                    />\r\n                  </Button>\r\n                </Popconfirm>\r\n              </List.Item>\r\n            );\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterBlockComponent;\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst ItemLoanDetailMasterEquipComponent = (props) => {\r\n  const { selectedEquipList = [], onChangeEquip, equipList = [] } = props;\r\n  return (\r\n    <div>\r\n      <Select\r\n        value={selectedEquipList}\r\n        mode=\"multiple\"\r\n        showArrow\r\n        placeholder=\"IS를 선택해주세요\"\r\n        style={{ width: \"100%\" }}\r\n        onChange={(e) => {\r\n          onChangeEquip(e);\r\n        }}\r\n      >\r\n        {equipList.map((item, idx) => {\r\n          return (\r\n            <Select.Option key={uuid()} value={item.idx}>\r\n              {item.eqpName}\r\n            </Select.Option>\r\n          );\r\n        })}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterEquipComponent;\r\n","import Text from \"antd/lib/typography/Text\";\r\nimport React from \"react\";\r\n\r\nconst ItemLoanDetailMasterLoanReturnStatusComponent = (props) => {\r\n  const { itemMaster } = props;\r\n  if (itemMaster.item_master_loan_mode === \"start\") {\r\n    return (\r\n      <Text>\r\n        대여일 기준{\" \"}\r\n        <Text style={{ color: \"#1e90ff\" }}>\r\n          {itemMaster.item_master_loan_days}\r\n        </Text>{\" \"}\r\n        일 후 반납\r\n      </Text>\r\n    );\r\n  } else if (itemMaster.item_master_loan_mode === \"end\") {\r\n    return (\r\n      <Text>\r\n        반납일 기준{\" \"}\r\n        <Text style={{ color: \"#1e90ff\" }}>\r\n          {itemMaster.item_master_end_date}\r\n        </Text>{\" \"}\r\n        까지 반납\r\n      </Text>\r\n    );\r\n  } else {\r\n    return <Text>제한 없음</Text>;\r\n  }\r\n};\r\n\r\nexport default ItemLoanDetailMasterLoanReturnStatusComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { TimePicker, Button, Space } from 'antd';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../Constants';\r\nimport { confirm } from '../../ConfirmModal';\r\n\r\nconst ItemLoanDetailMasterOperationTimeComponent = (props) => {\r\n  const {\r\n    itemMaster = {\r\n      ...props.itemMaster,\r\n      item_master_operation_start_time: '',\r\n      item_master_operation_end_time: '',\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n  const [isEditable, setIsEditable] = useState(false);\r\n  const [timeValue, setTimeValue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (itemMaster.item_master_operation_start_time) {\r\n      setTimeValue([\r\n        moment(itemMaster.item_master_operation_start_time, 'HH:mm'),\r\n        moment(itemMaster.item_master_operation_end_time, 'HH:mm'),\r\n      ]);\r\n    }\r\n  }, [props]);\r\n\r\n  const modifyOperationTime = () => {\r\n    if (timeValue.length > 2) return;\r\n    confirm({\r\n      title: `운영 시간을 변경하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/updateIsItemOperationTime`, {\r\n            item_master_idx: itemMaster.item_master_idx,\r\n            item_master_operation_start_time: timeValue[0].format('HH:mm'),\r\n            item_master_operation_end_time: timeValue[1].format('HH:mm'),\r\n          })\r\n          .then((res) => {\r\n            setItemMaster(res.data.itemMaster);\r\n            setIsEditable(false);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {\r\n        setIsEditable(false);\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <Space>\r\n        <TimePicker.RangePicker\r\n          className='operationTimePick'\r\n          style={{ width: '360.67px' }}\r\n          format={'HH:mm'}\r\n          disabled={!isEditable}\r\n          value={timeValue}\r\n          onChange={(e) => {\r\n            setTimeValue(e);\r\n          }}\r\n        />\r\n        <Button\r\n          type='primary'\r\n          className={isEditable ? 'operationTimeApplyBtn' : ''}\r\n          onClick={() => {\r\n            if (isEditable) {\r\n              modifyOperationTime();\r\n            } else {\r\n              setIsEditable(!isEditable);\r\n            }\r\n          }}\r\n        >\r\n          {isEditable ? '적 용' : '변 경'}\r\n        </Button>\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterOperationTimeComponent;\r\n","import React from 'react';\r\nimport { Popover, Badge, Space, Modal } from 'antd';\r\n\r\nconst ItemLoanDetailMasterStatusComponent = (props) => {\r\n  const { isBlockSettingVisible, setIsBlockSettingVisible, itemMaster, modifyIsItemMasterIsBlock } = props;\r\n\r\n  const isBlockPopOver = () => {\r\n    return (\r\n      <Space direction=\"vertical\">\r\n        <Badge\r\n          status=\"processing\"\r\n          text=\"정상 운영\"\r\n          onClick={(e) => {\r\n            if (itemMaster.item_master_is_block === 'Y') {\r\n              Modal.error({\r\n                title: '변경이 불가합니다.',\r\n                content: '운영시간 또는 대여 불가 기간을 확인해주세요.',\r\n              });\r\n            } else if (itemMaster.item_master_is_block === 'N' && itemMaster.item_master_is_block_origin === 'Y') {\r\n              modifyIsItemMasterIsBlock('N');\r\n            }\r\n            setIsBlockSettingVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          status=\"default\"\r\n          text=\"대여 불가\"\r\n          onClick={(e) => {\r\n            if (itemMaster.item_master_is_block_origin === 'N') {\r\n              modifyIsItemMasterIsBlock('Y');\r\n            }\r\n            setIsBlockSettingVisible(false);\r\n          }}\r\n        />\r\n      </Space>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Popover content={isBlockPopOver} title=\"물품 상태 변경\" trigger=\"click\" className=\"isBlockSetting\" visible={isBlockSettingVisible}>\r\n      {itemMaster.item_master_is_block_origin === 'Y' || (itemMaster.item_master_is_block_origin === 'N' && itemMaster.item_master_is_block === 'Y') ? (\r\n        <Badge\r\n          status=\"default\"\r\n          text=\"대여 불가\"\r\n          onClick={() => {\r\n            setIsBlockSettingVisible(true);\r\n          }}\r\n        />\r\n      ) : (\r\n        <Badge\r\n          status=\"processing\"\r\n          text=\"정상 운영\"\r\n          onClick={() => {\r\n            setIsBlockSettingVisible(true);\r\n          }}\r\n        />\r\n      )}\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterStatusComponent;\r\n","/* eslint-disable no-undef */\r\nimport { CaretDownOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport { Button, Collapse, Descriptions, Modal, Space } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { confirm } from '../../ConfirmModal';\r\nimport ItemLoanDetailMasterBlockComponent from './ItemLoanDetailMasterBlockComponent';\r\nimport ItemLoanDetailMasterEquipComponent from './ItemLoanDetailMasterEquipComponent';\r\nimport ItemLoanDetailMasterLoanReturnStatusComponent from './ItemLoanDetailMasterLoanReturnStatusComponent';\r\nimport ItemLoanDetailMasterOperationTimeComponent from './ItemLoanDetailMasterOperationTimeComponent';\r\nimport ItemLoanDetailMasterStatusComponent from './ItemLoanDetailMasterStatusComponent';\r\n\r\nconst ItemLoanDetailMasterComponent = (props) => {\r\n  const [isBlockSettingVisible, setIsBlockSettingVisible] = useState(false);\r\n  const [equipList, setEquipList] = useState([]);\r\n  const [selectedEquipList, setSelectedEquipList] = useState([]);\r\n  const {\r\n    itemMaster = {\r\n      item_master_idx: '',\r\n      item_master_subject: '',\r\n      item_master_desc: '',\r\n      total_item_cnt: '',\r\n      item_master_is_block: '',\r\n      item_status_state: '',\r\n      is_item_loaning_cnt: '',\r\n      is_item_ready_cnt: '',\r\n      is_reserve_cnt: '',\r\n      is_inspection_cnt: '',\r\n      is_block_cnt: '',\r\n      group_concat_equip_idx: '',\r\n      item_master_is_editable: '',\r\n    },\r\n    setItemMaster,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    getIsEquipList();\r\n    setSelectedEquipList(itemMaster.group_concat_equip_idx ? itemMaster.group_concat_equip_idx.split(',').map((item) => parseInt(item)) : []);\r\n\r\n    return () => {};\r\n  }, [props]);\r\n\r\n  const deleteIsItemMaster = (YN) => {\r\n    confirm({\r\n      title: `물품을 삭제하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/deleteItemMaster`, {\r\n            item_master_is_del: YN,\r\n            item_master_idx: itemMaster.item_master_idx,\r\n          })\r\n          .then((res) => {\r\n            props.history.replace('/is', {});\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {},\r\n    });\r\n  };\r\n\r\n  const modifyIsItemMasterIsBlock = (YN) => {\r\n    if (itemMaster.item_master_is_block === 'Y') {\r\n      Modal.error({\r\n        width: 500,\r\n        title: `물품 상태를 정상운영 상태로 변경 할 수 없습니다.`,\r\n        content: `대여 불가 기간 및 이용시간을 확인해주세요`,\r\n        onOk() {},\r\n      });\r\n    } else {\r\n      confirm({\r\n        title: `물품 상태를 변경하시겠습니까?`,\r\n        content: ``,\r\n        onOk: () => {\r\n          axios\r\n            .post(`/is/modifyIsItemMasterIsBlock`, {\r\n              item_master_is_block: YN,\r\n              item_master_idx: itemMaster.item_master_idx,\r\n            })\r\n            .then((res) => {\r\n              setItemMaster(res.data);\r\n            })\r\n            .catch((err) => {\r\n              console.error(err);\r\n            });\r\n        },\r\n        onCancle: () => {},\r\n      });\r\n    }\r\n  };\r\n\r\n  const onChangeEquip = (e) => {\r\n    confirm({\r\n      title: `적용 IS를 변경하시겠습니까?`,\r\n      content: ``,\r\n      onOk: () => {\r\n        axios\r\n          .post(`/is/modifyIsItemEquip`, {\r\n            item_master_idx: itemMaster.item_master_idx,\r\n            equipIdxList: e,\r\n          })\r\n          .then((res) => {\r\n            setItemMaster(res.data);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n      },\r\n      onCancle: () => {},\r\n    });\r\n  };\r\n\r\n  const getIsEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: 'is',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"ItemLoanDetailMasterComponentWrap\"\r\n      onClick={(e) => {\r\n        if (isBlockSettingVisible) {\r\n          setIsBlockSettingVisible(false);\r\n        }\r\n      }}\r\n    >\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"물품 명\" span={3}>\r\n          <Text>{`${itemMaster.item_master_subject ? itemMaster.item_master_subject : ''}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"물품 설명\" span={3}>\r\n          <Text>{itemMaster.item_master_desc && <pre style={{ fontFamily: 'NotoSansKR-Bold', fontSize: '0.98em' }}>{itemMaster.item_master_desc}</pre>}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"물품 상태\" span={3}>\r\n          <ItemLoanDetailMasterStatusComponent\r\n            modifyIsItemMasterIsBlock={modifyIsItemMasterIsBlock}\r\n            isBlockSettingVisible={isBlockSettingVisible}\r\n            setIsBlockSettingVisible={setIsBlockSettingVisible}\r\n            itemMaster={itemMaster}\r\n          />\r\n        </Descriptions.Item>\r\n        {/* <Descriptions.Item label='SMS 발송 여부' span={1}>\r\n          <ItemLoanDetailMasterIsAutoComponent\r\n            itemMaster={itemMaster}\r\n            setItemMaster={setItemMaster}\r\n          />\r\n        </Descriptions.Item> */}\r\n        <Descriptions.Item label=\"물품 현황\" span={3}>\r\n          <Space direction=\"horizontal\" size=\"large\">\r\n            <div>전체 : {itemMaster.total_item_cnt}</div>\r\n            <div>대여가능 : {itemMaster.is_item_ready_cnt}</div>\r\n            <div>예약중 : {itemMaster.is_reserve_cnt}</div>\r\n            <div>대여중 : {itemMaster.is_item_loaning_cnt}</div>\r\n            <div>점검중 : {itemMaster.is_inspection_cnt}</div>\r\n            <div>대여불가 : {itemMaster.is_block_cnt}</div>\r\n          </Space>\r\n        </Descriptions.Item>\r\n\r\n        <Descriptions.Item label=\"반납일 상태\" span={3}>\r\n          <ItemLoanDetailMasterLoanReturnStatusComponent itemMaster={itemMaster} />\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"적용된 시스템\" span={3}>\r\n              <ItemLoanDetailMasterEquipComponent onChangeEquip={onChangeEquip} selectedEquipList={selectedEquipList} equipList={equipList} />\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n              <ItemLoanDetailMasterOperationTimeComponent itemMaster={itemMaster} setItemMaster={setItemMaster} />\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"대여 불가 기간 설정\" span={3}>\r\n              <ItemLoanDetailMasterBlockComponent itemMaster={itemMaster} setItemMaster={setItemMaster} />\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              <Link\r\n                to={{\r\n                  pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n                }}\r\n              >\r\n                <Button type=\"primary\">정보 및 목록 수정</Button>\r\n              </Link>\r\n              {itemMaster.item_master_is_editable === 'Y' ? (\r\n                <Button type=\"primary\" danger onClick={() => deleteIsItemMaster('Y')}>\r\n                  삭 제\r\n                </Button>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailMasterComponent;\r\n","/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Popover, Badge, Space, Modal } from 'antd';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\n\r\nconst ItemLoanDetailPropStatusComponent = (props) => {\r\n  const { itemDetail, setItemMaster, isVisible, setIsVisible } = props;\r\n\r\n  useEffect(() => {\r\n    return () => {};\r\n  });\r\n\r\n  const modifyIsItemPropState = (itemDetailParam) => {\r\n    axios\r\n      .post(`/is/modifyIsItemPropState`, itemDetailParam)\r\n      .then((res) => {\r\n        setItemMaster(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const isBlockPopOver = () => {\r\n    return (\r\n      <Space direction='vertical'>\r\n        <Badge\r\n          className='status-ready-badge'\r\n          status='processing'\r\n          text='대여 가능'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'block' ||\r\n              itemDetail.item_status_state === 'inspection'\r\n            ) {\r\n              itemDetail.item_status_state = 'ready';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              confirm({\r\n                title: '예약 중인 물품 입니다.',\r\n                icon: <ExclamationCircleOutlined style={{ color: 'red' }} />,\r\n                content: '대여 가능한 상태로 변경하시겠습니까?',\r\n                okText: '확인',\r\n                cancelText: '취소',\r\n                onOk() {\r\n                  itemDetail.item_status_state = 'ready';\r\n                  modifyIsItemPropState(itemDetail);\r\n                },\r\n                onCancel() {},\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          className='status-inspection-badge'\r\n          status='processing'\r\n          text='점검 중'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'block' ||\r\n              itemDetail.item_status_state === 'ready'\r\n            ) {\r\n              itemDetail.item_status_state = 'inspection';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              Modal.error({\r\n                title: `예약 중인 물품입니다.`,\r\n                content: '대여 가능 상태로 변경해주세요.',\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n        <Badge\r\n          className='status-block-badge'\r\n          status='processing'\r\n          text='대여 불가'\r\n          onClick={(e) => {\r\n            if (\r\n              itemDetail.item_status_state === 'inspection' ||\r\n              itemDetail.item_status_state === 'ready'\r\n            ) {\r\n              itemDetail.item_status_state = 'block';\r\n              modifyIsItemPropState(itemDetail);\r\n            } else if (itemDetail.item_status_state === 'loaning') {\r\n              Modal.error({\r\n                title: '대여 중인 물품입니다.',\r\n                content: '반납 버튼을 사용해주세요.',\r\n              });\r\n            } else if (itemDetail.item_status_state === 'reserve') {\r\n              Modal.error({\r\n                title: '예약 중인 물품입니다.',\r\n                content: '대여 가능 상태로 변경해주세요.',\r\n              });\r\n            }\r\n            setIsVisible(false);\r\n          }}\r\n        />\r\n      </Space>\r\n    );\r\n  };\r\n\r\n  const calcLeftTime = () => {\r\n    let startTime = moment(\r\n      itemDetail.item_prop_subject.split('-')[0],\r\n      'HH:mm'\r\n    ).format('HHmm');\r\n    let endTime = moment(\r\n      itemDetail.item_prop_subject.split('-')[1],\r\n      'HH:mm'\r\n    ).format('HHmm');\r\n    let nowTime = moment().format('HHmm');\r\n\r\n    if (\r\n      itemDetail.item_master_idx == Constants.OFFICE_ITEM_MASTER_IDX &&\r\n      itemDetail.reserve_left_time < itemDetail.reserve_left_time_for_office\r\n    ) {\r\n      let hour = Math.floor(itemDetail.reserve_left_time_for_office / 60);\r\n      let minutes = itemDetail.reserve_left_time_for_office % 60;\r\n      return `${hour !== 0 ? `${hour}시간 ` : ''}${minutes}분`;\r\n    } else {\r\n      return `${itemDetail.reserve_left_time}분`;\r\n    }\r\n  };\r\n\r\n  const PropsStateComponent = () => {\r\n    if (itemDetail.item_status_state === 'ready') {\r\n      return (\r\n        <Badge\r\n          className='status-ready-badge'\r\n          status='processing'\r\n          text='대여 가능'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'inspection') {\r\n      return (\r\n        <Badge\r\n          className='status-inspection-badge'\r\n          status='processing'\r\n          text='점검 중'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'block') {\r\n      return (\r\n        <Badge\r\n          className='status-block-badge'\r\n          status='processing'\r\n          text='대여 불가'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'reserve') {\r\n      return (\r\n        <Badge\r\n          className='status-reserve-badge'\r\n          status='processing'\r\n          text={`예약 중 (${calcLeftTime()} 남음)`}\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else if (itemDetail.item_status_state === 'loaning') {\r\n      return (\r\n        <Badge\r\n          status='processing'\r\n          text='대여 중'\r\n          onClick={() => {\r\n            setIsVisible(!isVisible);\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return <></>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      content={isBlockPopOver}\r\n      title='물품 상태 변경'\r\n      trigger='click'\r\n      className='isBlockSetting'\r\n      visible={isVisible}\r\n    >\r\n      <PropsStateComponent />\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailPropStatusComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Modal,\r\n  DatePicker,\r\n  Table,\r\n  Space,\r\n  Collapse,\r\n  Input,\r\n  Select,\r\n  Button,\r\n} from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport * as Constants from '../../Constants';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nclass FilterObject {\r\n  constructor() {\r\n    this.item_prop_uuid = '';\r\n    this.start_date = moment(new Date()).add(-7, 'd').format(dateFormat);\r\n    this.end_date = moment(new Date()).format(dateFormat);\r\n    this.user_id = '';\r\n    this.state = 'total';\r\n  }\r\n}\r\n\r\nconst ItemLoanDetailItemHistoryComponent = (props) => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage')\r\n      ? Number.parseInt(sessionStorage.getItem('currentPage'))\r\n      : 1\r\n  );\r\n  const [filter, setFilter] = useState(new FilterObject());\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(\r\n          sessionStorage.getItem('currentPage')\r\n        );\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '일자',\r\n      dataIndex: 'item_status_reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '사용자',\r\n      dataIndex: 'user_info',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '연락처',\r\n      dataIndex: 'is_user_phone',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '처리 상태',\r\n      dataIndex: 'item_status_state',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        if (item === 'loaning') {\r\n          return (\r\n            <Text\r\n              style={{\r\n                color: '#077707',\r\n              }}\r\n            >\r\n              대여\r\n            </Text>\r\n          );\r\n        }\r\n        if (item === 'return') {\r\n          return (\r\n            <Text\r\n              style={{\r\n                color: '#e74c3c',\r\n              }}\r\n            >\r\n              반납\r\n            </Text>\r\n          );\r\n        }\r\n        return null;\r\n      },\r\n    },\r\n    {\r\n      title: '담당자',\r\n      dataIndex: 'item_status_sys_user',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  const {\r\n    itemDetail = {\r\n      is_user_id: '',\r\n      is_user_info: '',\r\n      is_user_nm: '',\r\n      is_user_phone: '',\r\n      item_master_idx: 0,\r\n      item_prop_idx: 0,\r\n      item_prop_reg_date: '',\r\n      item_prop_seq: '',\r\n      item_prop_subject: '',\r\n      item_prop_uuid: '',\r\n      item_status_is_sys: '',\r\n      item_status_reg_date: '',\r\n      item_status_start_dttm: '',\r\n      item_status_state: '',\r\n      item_status_user: '',\r\n    },\r\n    isItemHistoryModal,\r\n    setIsItemHistoryModal,\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    if (isItemHistoryModal) {\r\n      getItemHistory();\r\n    }\r\n\r\n    return () => {};\r\n  }, [isItemHistoryModal]);\r\n  const getItemHistory = () => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(`/is/getLoanItemHistList`, {\r\n        params: { ...filter, item_prop_uuid: itemDetail.item_prop_uuid },\r\n      })\r\n      .then((res) => {\r\n        setDataSource(res.data.histList);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  return (\r\n    <Modal\r\n      className='item-history-modal'\r\n      title={`${itemDetail.item_prop_subject} 대여 이력`}\r\n      visible={isItemHistoryModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsItemHistoryModal(false);\r\n        setDataSource([]);\r\n        setCurrentPage(1);\r\n        setFilter(new FilterObject());\r\n      }}\r\n    >\r\n      <Space direction='vertical' style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => (\r\n                <FilterOutlined\r\n                  style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }}\r\n                />\r\n              )}\r\n              style={{ marginTop: '10px' }}\r\n            >\r\n              <Collapse.Panel\r\n                header={\r\n                  <Text style={{ cursor: 'pointer' }}>\r\n                    물품 대여 이력 조회 설정\r\n                  </Text>\r\n                }\r\n                key='1'\r\n              >\r\n                <Space\r\n                  direction='horizontal'\r\n                  style={{ width: '100%' }}\r\n                  size='large'\r\n                >\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[\r\n                        moment(filter.start_date),\r\n                        moment(filter.end_date),\r\n                      ]}\r\n                      onChange={(e) => {\r\n                        if (e && e[0] && e[1]) {\r\n                          filter.start_date = e[0].format(dateFormat);\r\n                          filter.end_date = e[1].format(dateFormat);\r\n                          setFilter(Map(filter).toJS());\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size='small'\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size='small'\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      value={filter.user_id}\r\n                      onChange={(e) => {\r\n                        filter.user_id = e.target.value;\r\n                        setFilter(Map(filter).toJS());\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>처리 상태</Text>\r\n                    <Select\r\n                      value={filter.state}\r\n                      style={{ width: '150px' }}\r\n                      size='small'\r\n                      onChange={(e) => {\r\n                        filter.state = e;\r\n                        setFilter(Map(filter).toJS());\r\n                      }}\r\n                    >\r\n                      <Select.Option key='total'>전체</Select.Option>\r\n                      <Select.Option key='loaning'>대여</Select.Option>\r\n                      <Select.Option key='return'>반납</Select.Option>\r\n                    </Select>\r\n                  </Space>\r\n                </Space>\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'flex-end',\r\n                  }}\r\n                >\r\n                  <Space>\r\n                    <Button\r\n                      type='primary'\r\n                      size='small'\r\n                      onClick={() => {\r\n                        getItemHistory();\r\n                      }}\r\n                    >\r\n                      적용\r\n                    </Button>\r\n                    <Button\r\n                      size='small'\r\n                      onClick={async () => {\r\n                        setFilter(new FilterObject());\r\n                      }}\r\n                    >\r\n                      초기화\r\n                    </Button>\r\n                  </Space>\r\n                </div>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table\r\n          rowKey={(dataSource) => uuid()}\r\n          loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size='small'\r\n          bordered\r\n          pagination={{\r\n            pageSize: 10,\r\n            current: currentPage,\r\n            onChange: (e) => {\r\n              sessionStorage.setItem('currentPage', e);\r\n              setCurrentPage(e);\r\n            },\r\n          }}\r\n        />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailItemHistoryComponent;\r\n","import { ExclamationCircleOutlined, MobileOutlined } from '@ant-design/icons';\r\nimport { Button, Descriptions, Divider, Popover, Modal } from 'antd';\r\nimport confirm from 'antd/lib/modal/confirm';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport * as Constants from '../../Constants';\r\nimport ItemLoanDetailPropStatusComponent from './ItemLoanDetailPropStatusComponent';\r\nimport ItemLoanSmsComponent from './ItemLoanSmsComponent';\r\nimport ItemLoanDetailItemHistoryComponent from './ItemLoanDetailItemHistoryComponent';\r\n\r\nconst ItemLoanDetailItemComponent = (props) => {\r\n  const {\r\n    itemDetail = {\r\n      is_user_id: '',\r\n      is_user_info: '',\r\n      is_user_nm: '',\r\n      is_user_phone: '',\r\n      item_master_idx: 0,\r\n      item_prop_idx: 0,\r\n      item_prop_reg_date: '',\r\n      item_prop_seq: '',\r\n      item_prop_subject: '',\r\n      item_prop_uuid: '',\r\n      item_status_is_sys: '',\r\n      item_status_reg_date: '',\r\n      item_status_start_dttm: '',\r\n      item_status_state: '',\r\n      item_status_user: '',\r\n    },\r\n    idx,\r\n    itemMaster,\r\n    setItemMaster,\r\n  } = props;\r\n\r\n  const [isItemHistoryModal, setIsItemHistoryModal] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  return (\r\n    <div\r\n      className='itemLoanDetailItem'\r\n      onClick={(e) => {\r\n        if (isVisible) {\r\n          setIsVisible(false);\r\n        }\r\n      }}\r\n    >\r\n      <ItemLoanDetailItemHistoryComponent\r\n        isItemHistoryModal={isItemHistoryModal}\r\n        setIsItemHistoryModal={setIsItemHistoryModal}\r\n        itemDetail={itemDetail}                                                 \r\n      />\r\n      <Descriptions\r\n        title={`${idx + 1}번 ${itemMaster.item_master_subject}`}\r\n        bordered\r\n        size='small'\r\n        className={`desc-${itemDetail.item_status_state}-wrap`}\r\n      >\r\n        <Descriptions.Item label='소분류-물품 명' span={3}>\r\n          {itemDetail.item_prop_subject}\r\n        </Descriptions.Item>\r\n\r\n        <Descriptions.Item label='물품 상태' span={1}>\r\n          <ItemLoanDetailPropStatusComponent\r\n            itemDetail={itemDetail}\r\n            setItemMaster={setItemMaster}\r\n            isVisible={isVisible}\r\n            setIsVisible={setIsVisible}\r\n          />\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label='대여 이력' span={2}>\r\n          <Button\r\n            type='link'\r\n            onClick={() => {\r\n              setIsItemHistoryModal(true);\r\n            }}\r\n          >\r\n            보기\r\n          </Button>\r\n        </Descriptions.Item>\r\n        {itemDetail.item_status_state === 'reserve' ||\r\n        itemDetail.item_status_state === 'loaning' ? (\r\n          <>\r\n            <Descriptions.Item label='대여자 정보' span={1}>\r\n              {itemDetail.is_user_info}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label='연락처' span={2}>\r\n              {itemDetail.is_user_phone}\r\n            </Descriptions.Item>\r\n            {/* <Descriptions.Item label=\"SMS\" span={1}>\r\n              <ItemLoanSmsComponent itemDetail={itemDetail} />\r\n            </Descriptions.Item> */}\r\n            <Descriptions.Item label='대여일' span={3}>\r\n              {itemDetail.item_status_start_dttm}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label='반납일' span={3}>\r\n              {itemDetail.item_status_end_dttm}\r\n            </Descriptions.Item>\r\n            {itemDetail.item_status_state === 'reserve' ||\r\n            itemDetail.item_status_state === 'loaning' ? (\r\n              <Descriptions.Item label='물품 상태 처리' span={3}>\r\n                {itemDetail.item_status_state === 'reserve' ? (\r\n                  <Button\r\n                    className='item-loan-btn'\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: '80px', fontSize: '2em' }}\r\n                    onClick={() => {\r\n                      confirm({\r\n                        title: `${itemDetail.item_prop_subject}을 대출 승인 하시겠습니까?`,\r\n                        icon: <ExclamationCircleOutlined />,\r\n                        content: (\r\n                          <Text>\r\n                            반납 처리 후{' '}\r\n                            <Text\r\n                              style={{ color: '#077707', fontWeight: 'bold' }}\r\n                            >\r\n                              대여 중 상태\r\n                            </Text>\r\n                            로 전환됩니다.\r\n                          </Text>\r\n                        ),\r\n                        okText: '확인',\r\n                        cancelText: '취소',\r\n                        onOk() {\r\n                          axios\r\n                            .post(`/is/confirmIsItemProp`, itemDetail)\r\n                            .then((res) => {\r\n                              setItemMaster(res.data);\r\n                            })\r\n                            .catch((err) => {\r\n                              console.error(err);\r\n                            });\r\n                        },\r\n                        onCancel() {},\r\n                      });\r\n                    }}\r\n                  >\r\n                    대출 확인\r\n                  </Button>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                {itemDetail.item_status_state === 'loaning' ? (\r\n                  <Button\r\n                    className='item-return-btn'\r\n                    type='primary'\r\n                    block\r\n                    style={{ height: '80px', fontSize: '2em' }}\r\n                    onClick={() => {\r\n                      confirm({\r\n                        title: `${itemDetail.item_prop_subject}을 반납 처리 하시겠습니까?`,\r\n                        icon: <ExclamationCircleOutlined />,\r\n                        content: (\r\n                          <Text>\r\n                            반납 처리 후{' '}\r\n                            <Text\r\n                              style={{ color: '#3498db', fontWeight: 'bold' }}\r\n                            >\r\n                              대여 가능 상태\r\n                            </Text>\r\n                            로 전환됩니다.\r\n                          </Text>\r\n                        ),\r\n                        okText: '확인',\r\n                        cancelText: '취소',\r\n                        onOk() {\r\n                          axios\r\n                            .post(`/is/returnIsItemProp`, itemDetail)\r\n                            .then((res) => {\r\n                              setItemMaster(res.data);\r\n                            })\r\n                            .catch((err) => {\r\n                              console.error(err);\r\n                            });\r\n                        },\r\n                        onCancel() {},\r\n                      });\r\n                    }}\r\n                  >\r\n                    반납 처리\r\n                  </Button>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </Descriptions.Item>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </Descriptions>\r\n      <Divider dashed />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailItemComponent;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from './ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from './ItemLoanDetailItemComponent';\r\nimport './ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst ItemLoanDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: props.match.params.item_master_idx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`일반 물품 상세`}\r\n        subTitle={`일반 물품 대여 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          {`${itemMaster.item_master_subject} 정보`}\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          {`${itemMaster.item_master_subject} 목록`}\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailContainer;\r\n","import {\r\n  DeleteOutlined,\r\n  PlusCircleOutlined,\r\n  QuestionCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Input, Popconfirm } from \"antd\";\r\nimport { Map } from \"immutable\";\r\nimport React from \"react\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst ItemLoanItemEditor = (props) => {\r\n  const { items, setItems } = props;\r\n\r\n  const addItem = () => {\r\n    var item_prop_uuid = uuid();\r\n\r\n    items[item_prop_uuid] = {\r\n      item_prop_uuid: item_prop_uuid,\r\n      item_prop_subject: \"\",\r\n      item_prop_desc: \"\",\r\n      item_prop_seq: new Date().getTime(),\r\n    };\r\n\r\n    setItems(\r\n      Map(items)\r\n        .sortBy((item) => item.item_prop_seq)\r\n        .toJS()\r\n    );\r\n  };\r\n\r\n  const deleteItem = (key) => {\r\n    setItems(\r\n      Map(items)\r\n        .delete(key)\r\n        .sortBy((item) => item.item_prop_seq)\r\n        .toJS()\r\n    );\r\n  };\r\n\r\n  const deleteAllItem = () => {\r\n    setItems({});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n          marginTop: \"5px\",\r\n        }}\r\n      >\r\n        <Button\r\n          type=\"dashed\"\r\n          onClick={addItem}\r\n          size=\"large\"\r\n          style={{ width: \"calc(100% - 48px)\" }}\r\n        >\r\n          물품 추가{\" \"}\r\n          <PlusCircleOutlined\r\n            style={{ fontSize: \"1.2em\", position: \"relative\", top: \"2px\" }}\r\n          />\r\n        </Button>\r\n        <Popconfirm\r\n          title=\"목록을 전체 삭제하시겠습니까?\"\r\n          icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n          onConfirm={() => {\r\n            deleteAllItem();\r\n          }}\r\n          onCancel={() => {\r\n            return;\r\n          }}\r\n          okText=\"예\"\r\n          cancelText=\"아니오\"\r\n        >\r\n          <Button\r\n            type=\"dashed\"\r\n            size=\"large\"\r\n            block\r\n            style={{ width: \"44px\", textAlign: \"center\", padding: 0 }}\r\n          >\r\n            <DeleteOutlined\r\n              style={{\r\n                fontSize: \"1.2em\",\r\n                position: \"relative\",\r\n                top: \"2px\",\r\n                color: \"#c0392b\",\r\n              }}\r\n            />\r\n          </Button>\r\n        </Popconfirm>\r\n      </div>\r\n      {Object.keys(items)\r\n        .sort((a, b) => {\r\n          return items[a][\"item_prop_seq\"] - items[b][\"item_prop_seq\"];\r\n        })\r\n        .map((key, idx) => {\r\n          return (\r\n            <div\r\n              key={key}\r\n              style={{\r\n                margin: \"20px 0\",\r\n                display: \"row\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <Input\r\n                value={items[key].item_prop_subject}\r\n                onChange={(e) => {\r\n                  items[key].item_prop_subject = e.target.value;\r\n                  setItems(\r\n                    Map(items)\r\n                      .sortBy((item) => item.item_prop_seq)\r\n                      .toJS()\r\n                  );\r\n                }}\r\n                addonBefore={`${idx + 1}번 물품명`}\r\n                addonAfter={\r\n                  <Popconfirm\r\n                    title=\"삭제하시겠습니까?\"\r\n                    icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n                    onConfirm={() => {\r\n                      deleteItem(key);\r\n                    }}\r\n                    onCancel={() => {\r\n                      return;\r\n                    }}\r\n                    okText=\"예\"\r\n                    cancelText=\"아니오\"\r\n                  >\r\n                    <DeleteOutlined\r\n                      style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                      }}\r\n                    />\r\n                  </Popconfirm>\r\n                }\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanItemEditor;\r\n","import usePreventLeave from '@nooks/use-prevent-leave';\r\nimport {\r\n  Button,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  Select,\r\n  Space,\r\n} from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Prompt } from 'react-router-dom';\r\nimport * as Constants from '../../Constants';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanItemEditor from './ItemLoanItemEditor';\r\n\r\nconst ItemLoanForm = (props) => {\r\n  const [isBack, setIsBack] = useState(true);\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [loanMode, setLoanMode] = useState('nolimit');\r\n  const [closureList, setClosureList] = useState([]);\r\n  const [itemMaster, setItemMaster] = useState({\r\n    item_master_subject: '',\r\n    item_master_is_editable: 'Y',\r\n  });\r\n\r\n  useEffect(() => {\r\n    // 목록을 클릭해 들어왔을 때\r\n\r\n    if (props.match.params.loan_idx !== 'new') {\r\n      getLoanItem(props.match.params.loan_idx);\r\n    }\r\n\r\n    getClosureSchedule();\r\n\r\n    // enablePrevent();\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const getClosureSchedule = () => {\r\n    axios\r\n      .get(`/lib/getLibClosureAfterNow`, {})\r\n      .then((res) => {\r\n        setClosureList(res.data.closureList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n  const disabledDate = (current = moment()) => {\r\n    // Can not select days before today and today\r\n\r\n    var closureDate = closureList.find(\r\n      (closure) => closure.closure_date === current.format('YYYY-MM-DD')\r\n    );\r\n\r\n    var closureDateBoolean =\r\n      current.format('YYYY-MM-DD') ===\r\n      (closureDate ? closureDate.closure_date : null);\r\n\r\n    return (\r\n      current.startOf('day') < moment().startOf('day') || closureDateBoolean // 이것도 지우지 마시오\r\n    );\r\n  };\r\n\r\n  const [form] = Form.useForm();\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n  const [items, setItems] = useState({});\r\n\r\n  const getLoanItem = (itemMasterIdx) => {\r\n    axios\r\n      .get(`/is/getLoanItem`, {\r\n        params: {\r\n          item_master_idx: itemMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        form.setFieldsValue({\r\n          item_master_subject: res.data.item_master_subject,\r\n          item_master_desc: res.data.item_master_desc,\r\n          item_master_loan_mode: res.data.item_master_loan_mode,\r\n          item_master_loan_days: res.data.item_master_loan_days,\r\n          item_master_end_date: moment(\r\n            res.data.item_master_end_date\r\n              ? res.data.item_master_end_date\r\n              : new Date(),\r\n            'YYYY-MM-DD'\r\n          ),\r\n        });\r\n        setLoanMode(res.data.item_master_loan_mode);\r\n        setItemMaster(res.data);\r\n        setItems(\r\n          Map(res.data.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    if (\r\n      Object.keys(items).filter(\r\n        (key) =>\r\n          items[key].item_status_state === 'loaning' ||\r\n          items[key].item_status_state === 'reserve'\r\n      ).length > 0\r\n    ) {\r\n      message.error(\r\n        <Paragraph>\r\n          반납하지 않은 또는 예약된 물품이 있습니다. <br />\r\n          모든 물품이 반납되어야 수정이 가능합니다.\r\n        </Paragraph>\r\n      );\r\n      return;\r\n    }\r\n    if (\r\n      Object.keys(items).filter(\r\n        (key) => items[key] && items[key].item_prop_subject.trim().length === 0\r\n      ).length !== 0\r\n    ) {\r\n      message.error('물품명을 모두 입력해주세요.');\r\n      return;\r\n    }\r\n    if (Object.keys(items).length === 0) {\r\n      message.error('물품을 추가해주세요');\r\n      return;\r\n    }\r\n    if (\r\n      'item_master_end_date' in values &&\r\n      values.item_master_end_date === ''\r\n    ) {\r\n      message.error('반납일을 지정해주세요.');\r\n      return;\r\n    } else if (\r\n      values.item_master_loan_mode === 'end' &&\r\n      values.item_master_end_date\r\n    ) {\r\n      values.item_master_end_date = values.item_master_end_date.format(\r\n        'YYYY-MM-DD'\r\n      );\r\n    }\r\n\r\n    var formData = Map(values).toJS();\r\n    var itemArray = [];\r\n    Object.keys(items).forEach((key) => {\r\n      itemArray.push(items[key]);\r\n    });\r\n\r\n    formData['itemList'] = itemArray;\r\n\r\n    formData['item_master_idx'] = props.match.params.loan_idx;\r\n\r\n    axios\r\n      .post(`/is/insertItemLoan`, formData)\r\n      .then((res) => {\r\n        setIsBack(false);\r\n\r\n        props.history.push(\r\n          `/loanitem/detail/${res.data.resultMap.item_master_idx}`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const LoanModeComponent = (props) => {\r\n    if (props.loanMode === 'start') {\r\n      return (\r\n        <>\r\n          <Form.Item\r\n            noStyle\r\n            name='item_master_loan_days'\r\n            style={{ animation: 'fadein 0.25s' }}\r\n            initialValue={3}\r\n          >\r\n            <InputNumber\r\n              className='item-loan-form-limit-days-input'\r\n              style={{ textAlign: 'center', width: '100px' }}\r\n              min={1}\r\n            />\r\n          </Form.Item>\r\n          <Text> 일 후 반납</Text>\r\n        </>\r\n      );\r\n    } else if (props.loanMode === 'end') {\r\n      return (\r\n        <>\r\n          <Form.Item\r\n            noStyle\r\n            name='item_master_end_date'\r\n            style={{ animation: 'fadein 0.25s' }}\r\n          >\r\n            <DatePicker\r\n              disabledDate={disabledDate}\r\n              style={{ width: '150px' }}\r\n              onChange={(e) => {}}\r\n            />\r\n          </Form.Item>\r\n          <Text> 까지 반납</Text>\r\n        </>\r\n      );\r\n    } else {\r\n      return <></>;\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title={`${itemMaster.item_master_subject} 등록/수정`}\r\n        subTitle={`${itemMaster.item_master_subject} 물품을 등록/수정 할 수 있습니다.`}\r\n      />\r\n      <div>\r\n        <Form\r\n          form={form}\r\n          validateMessages={validateMessages}\r\n          onFinish={onFinish}\r\n        >\r\n          <FormGuideComponent title='대분류-물품' guide='' />\r\n          <Form.Item name='item_master_subject' rules={[{ required: true }]}>\r\n            <Input disabled={itemMaster.item_master_is_editable === 'N'} />\r\n          </Form.Item>\r\n          <FormGuideComponent title='대분류-물품 설명' guide='' />\r\n          <Form.Item name='item_master_desc' rules={[{ required: false }]}>\r\n            <TextArea rows={5} />\r\n          </Form.Item>\r\n          <FormGuideComponent title='대분류-대여 기간 설정' guide='' />\r\n          <Form.Item\r\n            noStyle\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'row',\r\n              justifyContent: 'left',\r\n            }}\r\n          >\r\n            <Space style={{ marginBottom: '20px' }}>\r\n              <Form.Item\r\n                noStyle\r\n                name='item_master_loan_mode'\r\n                initialValue={loanMode}\r\n              >\r\n                <Select\r\n                  value={loanMode}\r\n                  onChange={(e) => {\r\n                    setLoanMode(e);\r\n                  }}\r\n                >\r\n                  <Select.Option value={'nolimit'}>제한 없음</Select.Option>\r\n                  <Select.Option value={'start'}>시작일 기준</Select.Option>\r\n                  <Select.Option value={'end'}>반납일 기준</Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n              <LoanModeComponent loanMode={loanMode} />\r\n            </Space>\r\n          </Form.Item>\r\n\r\n          {itemMaster.item_master_is_editable === 'Y' ? (\r\n            <Form.Item>\r\n              <FormGuideComponent title='소분류-물품' guide='' />\r\n              <ItemLoanItemEditor setItems={setItems} items={items} />\r\n            </Form.Item>\r\n          ) : null}\r\n\r\n          <Form.Item>\r\n            <div style={{ margin: '0px 0px 100px 0px' }}>\r\n              <Button type='primary' htmlType='submit' block size='large'>\r\n                {props.match.params.loan_idx !== 'new' ? '수 정' : '등 록'}\r\n              </Button>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanForm;\r\n","import axios from 'axios';\r\nimport { DvdListType, getDvdDetailType, logDvdType, postDvdType, putDvdDetailType } from '../types/Dvd';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\n\r\nexport const getItemLoanList = async () => {\r\n  const response = await axios.get<ResponseVo<DvdListType[]>>(`/reserve/item`);\r\n  return response.data;\r\n};\r\n\r\nexport const getItemLoanDetail = async (room_seq: string) => {\r\n  const response = await axios.get<ResponseVo<getDvdDetailType[]>>(`/reserve/item/${room_seq}`);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteItemLoan = async (room_seq: string) => {\r\n  const response = await axios.delete<ResponseVo<putDvdDetailType[]>>(`/reserve/item/${room_seq}`);\r\n  return response.data;\r\n};\r\nexport const postItemLoan = async ({ params }: { params: any }) => {\r\n  const response = await axios.post<ResponseVo<postDvdType[]>>(`/reserve/item`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const putItemLoan = async ({ seq, params }: { seq: any; params: any }) => {\r\n  const response = await axios.put<ResponseVo<putDvdDetailType[]>>(`/reserve/item/${seq}`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postCancelReserve = async ({ params }: { params: { userKey: string } }) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(`/reserve/item/reservation/cancel`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postReturnReserve = async ({ params }: { params: { userKey: string } }) => {\r\n  const response = await axios.post<ResponseVo<putDvdDetailType[]>>(`/reserve/item/reservation/return`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const postItemLoanReserve = async (params: {\r\n  userInfo: {\r\n    userNo: string;\r\n  };\r\n  reserveInfo: {\r\n    item_seq: number | string;\r\n    reserve_time: string[];\r\n  };\r\n}) => {\r\n  const response = await axios.post<ResponseVo<any[]>>(`/reserve/item/reservation`, params);\r\n  return response.data;\r\n};\r\n\r\nexport const getItemLoanLogs = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    start_date?: string;\r\n    end_date?: string;\r\n    user_key?: string;\r\n    user_name?: string;\r\n    status?: string;\r\n  };\r\n}) => {\r\n  const response = await axios.get<ResponseVo<logDvdType[]>>(`/reserve/hist`, {\r\n    params,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getDvdList = async () => {};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport moment from 'moment';\r\nexport const ITEMLOAN = 'ItemLoan';\r\n\r\ntype SliceState = {\r\n  seq: string | number;\r\n  item_name: string;\r\n  use_flag: 'Y' | 'N';\r\n  bookable_count: number;\r\n  start_time: string;\r\n  end_time: string;\r\n  hours_of_use?: number;\r\n  select_count?: number;\r\n};\r\ntype PayloadType = {\r\n  [ITEMLOAN]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nconst ItemLoanSlice = createSlice({\r\n  name: `${ITEMLOAN}`,\r\n  initialState: {\r\n    seq: 0,\r\n    item_name: 'DVD',\r\n    use_flag: 'Y',\r\n    bookable_count: 0,\r\n    start_time: moment().format('HH:00'),\r\n    end_time: moment().add('8', 'hour').format('HH:00'),\r\n    hours_of_use: 1,\r\n    select_count: 1,\r\n  } as SliceState,\r\n  reducers: {\r\n    setItemLoanName: (state, action: PayloadAction<{ item_name: string }>) => {\r\n      state.item_name = action.payload.item_name;\r\n    },\r\n    setItemLoanDetail: (\r\n      state,\r\n      action: PayloadAction<{\r\n        item_name?: string;\r\n        start_time?: string;\r\n        end_time?: string;\r\n        use_flag?: 'Y' | 'N';\r\n        hours_of_use?: number;\r\n        select_count?: number;\r\n      }>\r\n    ) => {\r\n      if (action.payload.item_name) {\r\n        state.item_name = action.payload.item_name;\r\n      }\r\n      if (action.payload.start_time) {\r\n        state.start_time = action.payload.start_time;\r\n      }\r\n      if (action.payload.end_time) {\r\n        state.end_time = action.payload.end_time;\r\n      }\r\n      if (action.payload.use_flag) {\r\n        state.use_flag = action.payload.use_flag;\r\n      }\r\n      if (action.payload.hours_of_use) {\r\n        state.hours_of_use = action.payload.hours_of_use;\r\n      }\r\n      if (action.payload.select_count) {\r\n        state.select_count = action.payload.select_count;\r\n      }\r\n    },\r\n  },\r\n  extraReducers: {},\r\n});\r\n\r\nexport const { setItemLoanName, setItemLoanDetail } = ItemLoanSlice.actions;\r\nexport default ItemLoanSlice.reducer;\r\nexport const selectItemLoanSlice = (state: PayloadType) => state[ITEMLOAN];\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//form\r\nimport { Form, TimePicker, Switch } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport { available_time } from '../../../types/Dvd';\r\n\r\nconst ItemDailyAddForm = ({ available_time, setAvailable_time, tabKey }: { available_time: available_time[]; setAvailable_time: any; tabKey: string }) => {\r\n  const [daily, setDaily] = useState();\r\n\r\n  const days = ['월요일', '화요일', '수요일', '목요일', '금요일', '토요일', '일요일'];\r\n\r\n  const reset = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n\r\n    setAvailable_time([...arr]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [daily, tabKey]);\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (value) {\r\n      const [a, b] = value;\r\n      available_time[day - 1].start_time = moment(a).format('HH:00');\r\n      available_time[day - 1].end_time = moment(b).format('HH:00');\r\n    } else {\r\n      available_time[day - 1].start_time = '';\r\n      available_time[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  const settingWeekday = (value: RangeValue<moment.Moment>, weekend: boolean) => {\r\n    const endIdx = weekend ? days.length - 1 : 4;\r\n    const startIdx = weekend ? 5 : 0;\r\n\r\n    if (value) {\r\n      const [a, b] = value;\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = moment(a).format('HH:00');\r\n        available_time[i].end_time = moment(b).format('HH:00');\r\n      }\r\n    } else {\r\n      for (let i = startIdx; i <= endIdx; i++) {\r\n        available_time[i].start_time = '';\r\n        available_time[i].end_time = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const changeSettingMode = (value: any) => {\r\n    setDaily(value);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <Form.Item className=\"mt-2 \">\r\n      <div className=\" mb-3\">\r\n        <Switch onChange={changeSettingMode} className=\"mr-1\" />\r\n        <span>{!daily ? '요일별 시간 설정' : '평일/주말 시간설정'}</span>\r\n      </div>\r\n\r\n      {!daily ? (\r\n        <div>\r\n          {days.map((d, idx) => (\r\n            <div key={d} className=\"mb-1\">\r\n              {d}\r\n              {'   '}\r\n              <TimePicker.RangePicker\r\n                format={'HH:mm'}\r\n                onChange={(value) => {\r\n                  settingDailyTime(value, idx + 1);\r\n                }}\r\n                className=\"ml-3\"\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className=\"mb-2\">\r\n            평일{' '}\r\n            <TimePicker.RangePicker\r\n              format={'HH:mm'}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, false);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n          <div>\r\n            주말{' '}\r\n            <TimePicker.RangePicker\r\n              format={'HH:mm'}\r\n              onChange={(value) => {\r\n                if (value) settingWeekday(value, true);\r\n              }}\r\n              className=\"ml-3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default ItemDailyAddForm;\r\n","import { Button, Form, Input, TimePicker, InputNumber, Tabs, Select } from 'antd';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ko';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Prompt, useHistory } from 'react-router-dom';\r\nimport { postItemLoan } from '../../../api/ItemLoan.api';\r\n\r\n// import { setDvdDetail } from '../../../slice/DvdSlice';\r\nimport { setItemLoanDetail } from '../../../slice/ItemLoanSlice';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemDailyAddForm from './ItemDailyAddForm';\r\n\r\nconst ItemLoanAddForm = (props) => {\r\n  // 남부평생교육원 룸등록에만 hoursofuse, selectcount가 있음.\r\n\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const { TabPane } = Tabs;\r\n\r\n  const [startTime, setStartTime] = useState();\r\n  const [endTime, setEndTime] = useState();\r\n  const [maxHour, setMaxHour] = useState(24);\r\n  const [maxCount, setMaxCount] = useState();\r\n  const [currVal, setCurrVal] = useState();\r\n\r\n  const [available_time, setAvailable_time] = useState([]);\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [sameEveryday, setSameEveryday] = useState(true);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: '종료시간이 시작시간보다 짧습니다',\r\n    },\r\n  };\r\n\r\n  const handleChange = (value) => {\r\n    const val = value === '1' ? true : false;\r\n    setSameEveryday(val);\r\n  };\r\n\r\n  const setHoursOfUse = (startTime, endTime) => {\r\n    if (startTime && endTime) {\r\n      const start = startTime.split(':');\r\n      const end = endTime.split(':');\r\n      const total = end[0] - start[0];\r\n\r\n      setMaxHour(total);\r\n    } else {\r\n      console.log('not yet');\r\n    }\r\n  };\r\n\r\n  const onClick = async (values) => {\r\n    let data;\r\n    const { item_name } = values;\r\n\r\n    if (sameEveryday) {\r\n      if (currVal > maxCount) return;\r\n      const start_time = moment(values.start_time).format('HH:00');\r\n      const end_time = moment(values.end_time).format('HH:00');\r\n      const hours_of_use = values.hours_of_use || 1;\r\n      const select_count = values.select_count || 1;\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          item_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n          use_flag: true,\r\n        })\r\n      );\r\n      data = await postItemLoan({\r\n        params: {\r\n          item_name,\r\n          start_time,\r\n          end_time,\r\n          hours_of_use,\r\n          select_count,\r\n        },\r\n      });\r\n    } else {\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          item_name,\r\n        })\r\n      );\r\n      data = await postItemLoan({ params: { item_name, available_time } });\r\n    }\r\n\r\n    if (data.status_code === 200) {\r\n      const res = data.response_body[0];\r\n      res ? history.push(`/item/detail/${data.response_body[0].item_seq}`) : history.push('/is/item');\r\n    }\r\n  };\r\n\r\n  const onChange = (value) => setMaxCount(Math.floor(maxHour / value));\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '50%',\r\n        margin: 'auto',\r\n      }}\r\n    >\r\n      <MenuGuide title={`물품 등록`} subTitle={`물품을 등록 할 수 있습니다.`} />\r\n      <Form validateMessages={validateMessages} onFinish={onClick}>\r\n        <FormGuideComponent title=\"명칭\" guide=\"\" />\r\n        <Form.Item name=\"item_name\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Tabs defaultActiveKey={tabKey} onChange={handleChange} type=\"card\" className=\"mt-3\" destroyInactiveTabPane={true}>\r\n          <TabPane tab=\"동일 시간 설정\" key=\"1\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n            <Form.Item name=\"start_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                format={'HH:mm'}\r\n                value={moment(startTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setStartTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item name=\"end_time\" rules={[{ required: true }]}>\r\n              <TimePicker\r\n                placeholder=\"종료시간\"\r\n                format={'HH:mm'}\r\n                value={moment(endTime, 'HH:mm')}\r\n                onSelect={(e) => {\r\n                  setEndTime(e.format('H:mm'));\r\n                  setHoursOfUse(startTime, endTime);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"예약 시간 단위\" guide=\"\" />\r\n            <Form.Item name=\"hours_of_use\" validateStatus={maxHour < 0 && 'error'} help={maxHour < 0 ? '종료시간이 시작시간보다 짧습니다' : ''}>\r\n              <InputNumber min={1} max={maxHour} defaultValue={1} disabled={maxHour < 0} onChange={onChange} />\r\n            </Form.Item>\r\n            <FormGuideComponent title=\"최대 연속 예약 횟수\" guide=\"\" />\r\n            <Form.Item\r\n              name=\"select_count\"\r\n              validateStatus={currVal > maxCount && 'error'}\r\n              help={currVal > maxCount ? '연속 예약할 수 있는 횟수가 총 예약 시간보다 많습니다.' : ''}\r\n            >\r\n              <InputNumber\r\n                // name=\"select_count\"\r\n                min={1}\r\n                max={maxCount ? maxCount : maxHour}\r\n                defaultValue={1}\r\n                onChange={(e) => {\r\n                  setCurrVal(e);\r\n                }}\r\n              />\r\n            </Form.Item>\r\n          </TabPane>\r\n          <TabPane tab=\"요일별 시간 설정\" key=\"2\">\r\n            <FormGuideComponent title=\"운영시간\" guide=\"\" />\r\n\r\n            <ItemDailyAddForm available_time={available_time} setAvailable_time={setAvailable_time} tabKey={tabKey} />\r\n          </TabPane>\r\n        </Tabs>\r\n\r\n        <Form.Item>\r\n          <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanAddForm;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getDvdDetail, getDvdLists } from '../../../api/Dvd.api';\r\nimport { getItemLoanDetail } from '../../../api/ItemLoan.api';\r\n\r\nimport { DvdListType } from '../../../types/Dvd';\r\n\r\nconst useGetItemDetail = (room_seq: string) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getItemDetailData = async (e: string) => {\r\n    const result = await getItemLoanDetail(e);\r\n    console.log(result);\r\n    setState(result.response_body);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getItemDetailData(room_seq);\r\n  }, [room_seq]);\r\n\r\n  return [state, setState] as const;\r\n};\r\n\r\nexport default useGetItemDetail;\r\n","import axios, { Axios, AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { getItemLoanList } from '../../../api/ItemLoan.api';\r\n\r\nconst useGetItemList = (currentPage?: any) => {\r\n  const [state, setState] = useState<any[]>([]);\r\n\r\n  const getReserverDate = async () => {\r\n    const result = await getItemLoanList();\r\n    setState(result.response_body);\r\n  };\r\n  useEffect(() => {\r\n    getReserverDate();\r\n  }, [currentPage]);\r\n  return state;\r\n};\r\n\r\nexport default useGetItemList;\r\n","import React from 'react';\r\nimport { Modal, Table, message } from 'antd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n\r\nimport { UserType } from '../../../types/User';\r\n\r\nconst ItemLoanMakeReservation = ({\r\n  openModal,\r\n  setIsModal,\r\n  selectedTimes,\r\n  onReserveRoom,\r\n  changeRoomName,\r\n  user,\r\n}: {\r\n  openModal: boolean;\r\n  setIsModal: any;\r\n  selectedTimes: DvdListType[];\r\n  onReserveRoom: (userKey: any) => void;\r\n  changeRoomName: string;\r\n  user: UserType;\r\n}) => {\r\n  const sortedData = selectedTimes.sort((a, b) => a.seq - b.seq);\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: 'no',\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentP1age')!);\r\n        return <>{idx + 1}</>;\r\n      },\r\n    },\r\n    {\r\n      title: 'Item Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: () => {\r\n        return <>{changeRoomName}</>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자',\r\n      dataIndex: 'user_name',\r\n      key: 'age',\r\n      render: () => {\r\n        return <>{user.is_user_nm}</>;\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: 'start_time',\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: 'end_time',\r\n    },\r\n  ];\r\n\r\n  const closeModal = () => setIsModal(false);\r\n\r\n  return (\r\n    <>\r\n      {user.user_key === 'NO_USER' && user.user_key === 'NO_USER' ? (\r\n        <Modal visible={openModal} onCancel={closeModal} onOk={closeModal}>\r\n          <p>일치하는 사용자가 없습니다.</p>\r\n        </Modal>\r\n      ) : (\r\n        <Modal\r\n          visible={openModal}\r\n          onCancel={closeModal}\r\n          onOk={() => {\r\n            onReserveRoom(user.user_key);\r\n          }}\r\n        >\r\n          <div className=\" ml-0 m-3\">아래와 같이 예약을 진행하시겠습니까?</div>\r\n          <Table rowKey={(record) => record.seq} columns={columns} dataSource={sortedData} bordered pagination={false} />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemLoanMakeReservation;\r\n","//library\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport moment from 'moment';\r\nimport { RangeValue } from 'rc-picker/lib/interface';\r\n\r\n//css\r\nimport { CaretDownOutlined, DeleteOutlined, EnterOutlined, QuestionCircleOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport { Button, Divider, Space, Descriptions, Badge, Collapse, Input, TimePicker, Switch, Table, Popconfirm, InputNumber, Modal, message, Alert } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n//api\r\nimport useGetItemDetail from './useGetItemDetail';\r\nimport useGetItemList from './useGetItemList';\r\n\r\n//types\r\nimport { available_time } from '../../../types/Dvd';\r\nimport { DvdListType } from '../../../types/Dvd';\r\nimport { postDvdType } from '../../../types/Dvd';\r\n\r\n//slices\r\nimport { fetchUser, selectUser, resetUser } from '../../../slice/userSlice';\r\nimport { selectItemLoanSlice, setItemLoanDetail } from '../../../slice/ItemLoanSlice';\r\n//components\r\nimport DvdMakeReservation from './ItemLoanMakeReservation';\r\n\r\nimport { putItemLoan, getItemLoanDetail, deleteItemLoan, postItemLoanReserve, postCancelReserve, postReturnReserve } from '../../../api/ItemLoan.api';\r\n\r\nconst ItemLoanDetailForm = () => {\r\n  /////////variables\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch<{ item_seq: string }>();\r\n  //room\r\n  const item_seq = match.params.item_seq;\r\n  const rooms = useGetItemList();\r\n  const { item_name, start_time, end_time, use_flag, select_count, hours_of_use } = useSelector(selectItemLoanSlice);\r\n\r\n  // user\r\n  const { user } = useSelector(selectUser);\r\n\r\n  ///////// states\r\n  //room\r\n  const [dataSource, setDataSource] = useGetItemDetail(item_seq);\r\n  const [changeItemName, setChangeItemName] = useState('');\r\n  const [mStartTime, setmStartTime] = useState('');\r\n  const [mEndTime, setmEndTime] = useState('');\r\n  const [mUseFlag, setmUseFlag] = useState<boolean>();\r\n  const [mHours, setmHours] = useState(0);\r\n  const [mCount, setmCount] = useState(0);\r\n  const [availableTime, setAvailableTime] = useState<available_time[]>();\r\n  // control\r\n  const [maxCount, setMaxCount] = useState(0);\r\n  const [totalHour, setTotalHour] = useState(0);\r\n  const [sameEveryday, setSameEveryday] = useState<boolean>();\r\n  const [selectedRowkeys, setSelectedRowkeys] = useState<string[]>([]);\r\n  const [selectedTimes, setSelectedTimes] = useState<DvdListType[]>([]);\r\n  // ui\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [err, setErr] = useState(false);\r\n\r\n  const days = ['월', '화', '수', '목', '금', '토', '일'];\r\n  let parsedUserNo = '';\r\n  /////////functions\r\n  //room management\r\n  const extractHour = (time: string, separator: string) => {\r\n    const arr = time.split(separator);\r\n    return Number(arr[0]);\r\n  };\r\n\r\n  const resetAvailableTime = () => {\r\n    const arr = Array(7)\r\n      .fill({ day: '', start_time: '', end_time: '' })\r\n      .map((_, idx) => {\r\n        const obj = {\r\n          day: idx + 1,\r\n          start_time: '',\r\n          end_time: '',\r\n        };\r\n        return obj;\r\n      });\r\n    return arr;\r\n  };\r\n\r\n  const bookedUser = () => {\r\n    const data = dataSource.filter((item: postDvdType) => item.bookable === 'N');\r\n    if (data.length >= 1) {\r\n      message.warning('예약자가 존재합니다. 확인해주세요');\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const onFix = async () => {\r\n    let putData;\r\n\r\n    if (sameEveryday) {\r\n      const data = dataSource.filter((item) => {\r\n        if (item.bookable === 'N') {\r\n          const end = moment(item.end_time, 'HH:mm');\r\n          const newEnd = moment(mEndTime, 'HH:mm');\r\n          const diff = newEnd.diff(end, 'm');\r\n          if (diff < 1) {\r\n            return item;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (data.length >= 1) {\r\n        message.success('예약자가 존재합니다. 확인해주세요');\r\n        return;\r\n      } else {\r\n        if (mCount > maxCount) {\r\n          message.error('연속 예약 횟수를 확인해주세요. ');\r\n          return;\r\n        }\r\n      }\r\n\r\n      putData = {\r\n        seq: item_seq,\r\n        params: {\r\n          item_name: changeItemName,\r\n          start_time: mStartTime,\r\n          end_time: mEndTime,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          hours_of_use: mHours,\r\n          select_count: mCount,\r\n        },\r\n      };\r\n    } else {\r\n      if (dataSource) {\r\n        const res = bookedUser();\r\n        if (res) return;\r\n      }\r\n\r\n      putData = {\r\n        seq: item_seq,\r\n        params: {\r\n          item_name: changeItemName,\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          available_time: availableTime,\r\n        },\r\n      };\r\n    }\r\n    const response = await putItemLoan(putData);\r\n\r\n    // 수정할때 예약자있음 수정못하게해야함.\r\n    if (response.status_code === 200) {\r\n      const result = await getItemLoanDetail(item_seq);\r\n      dispatch(\r\n        setItemLoanDetail({\r\n          use_flag: mUseFlag ? 'Y' : 'N',\r\n          item_name: changeItemName,\r\n        })\r\n      );\r\n\r\n      setDataSource(result.response_body);\r\n\r\n      message.success('변경이 완료되었습니다');\r\n    }\r\n  };\r\n\r\n  const onDeleteClick = async () => {\r\n    if (dataSource) {\r\n      const res = bookedUser();\r\n      if (res) return;\r\n    }\r\n\r\n    const result = await deleteItemLoan(item_seq);\r\n    if (result.status_code === 200) {\r\n      history.push('/is/item');\r\n    }\r\n  };\r\n\r\n  const onChangeInput = (e: any) => {\r\n    parsedUserNo = e.target.value;\r\n  };\r\n\r\n  //reservation\r\n  const rowSelection = {\r\n    selectedRowkeys,\r\n    onChange: (selected: any, selectedObj: any) => {\r\n      if (selected.length > 3) {\r\n        setErr(true);\r\n        message.error('최대 3시간까지 예약이 가능합니다.');\r\n      } else {\r\n        setSelectedTimes([...selectedObj]);\r\n        setSelectedRowkeys(selected);\r\n      }\r\n    },\r\n\r\n    getCheckboxProps: (record: any) => ({\r\n      disabled: record.bookable === 'N',\r\n      bookable: record.bookable,\r\n    }),\r\n\r\n    onSelect: (obj: any, selected: any, selectedRows: DvdListType[]) => {\r\n      if (selectedRows.length > 1) {\r\n        const seq = selectedRows.map((el: any) => el.seq);\r\n        const maxSeq = Math.max(...seq);\r\n        const minSeq = Math.min(...seq);\r\n        const acceptableSeq = minSeq + selectedRows.length - 1;\r\n\r\n        if (acceptableSeq < maxSeq) {\r\n          message.error('최대 3시간까지 연속 예약이 가능합니다.');\r\n          setErr(true);\r\n          return;\r\n        } else {\r\n          setErr(false);\r\n        }\r\n      }\r\n      setErr(false);\r\n    },\r\n    hideSelectAll: true,\r\n  };\r\n\r\n  const findUser = () => {\r\n    Modal.info({\r\n      closable: true,\r\n      title: '회원증을 인식해주세요.',\r\n      content: (\r\n        <div className=\"mt-5\">\r\n          <Input onChange={onChangeInput} autoFocus={true} />\r\n        </div>\r\n      ),\r\n\r\n      onOk() {\r\n        const params = {\r\n          user_key: parsedUserNo,\r\n          card_password: '',\r\n        };\r\n        console.log(params);\r\n        dispatch(fetchUser(params));\r\n        setIsModal(true);\r\n      },\r\n    });\r\n  };\r\n  const onReserveRoom = async (userKey: any) => {\r\n    console.log(selectedTimes);\r\n\r\n    const reserve_time = selectedTimes.map((el) => el.start_time);\r\n\r\n    const params = {\r\n      userInfo: {\r\n        userNo: userKey,\r\n      },\r\n      reserveInfo: {\r\n        item_seq,\r\n        reserve_time,\r\n      },\r\n    };\r\n\r\n    const res = await postItemLoanReserve(params);\r\n    if (res.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n        message.success({\r\n          content: '예약이 완료되었습니다.',\r\n          style: { marginTop: '20vh' },\r\n        });\r\n\r\n        // 성공적으로 예약이 되면, 새로고침기능임.\r\n        setTimeout(() => {\r\n          history.push(`/item/detail/${item_seq}`);\r\n        }, 2000);\r\n      }\r\n    } else if (res.status_code === 4401) {\r\n      message.warning({\r\n        content: '이미 예약하신 정보가 존재합니다. 예약은 한 번만 가능합니다',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    } else if (res.status_code === 9404) {\r\n      message.warning({\r\n        content: '회원이 존재하지 않습니다.',\r\n        style: { marginTop: '20vh' },\r\n      });\r\n    }\r\n    setIsModal(false);\r\n    dispatch(resetUser());\r\n  };\r\n  const onCancelReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postCancelReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n  const onReturnReserve = async (userKey: string) => {\r\n    console.log(userKey);\r\n    const result = await postReturnReserve({\r\n      params: {\r\n        userKey,\r\n      },\r\n    });\r\n    console.log(result);\r\n    if (result.status_code === 200) {\r\n      const details = await getItemLoanDetail(item_seq);\r\n      if (details.status_code === 200) {\r\n        setDataSource(details.response_body);\r\n      }\r\n    }\r\n  };\r\n\r\n  const settingDailyTime = (value: RangeValue<moment.Moment>, day: number) => {\r\n    if (availableTime && value) {\r\n      const [a, b] = value;\r\n      availableTime[day - 1].start_time = moment(a).format('HH:00:00');\r\n      availableTime[day - 1].end_time = moment(b).format('HH:00:00');\r\n    } else if (availableTime && !value) {\r\n      availableTime[day - 1].start_time = '';\r\n      availableTime[day - 1].end_time = '';\r\n    }\r\n  };\r\n\r\n  /////////useEffect\r\n  useEffect(() => {\r\n    setSelectedTimes([]);\r\n    const el = rooms.filter((el) => el.seq === Number(item_seq));\r\n\r\n    if (el) {\r\n      const isY = el[0]?.use_flag === 'Y';\r\n      setChangeItemName(el[0]?.item_name);\r\n      setmStartTime(el[0]?.start_time);\r\n      setmEndTime(el[0]?.end_time);\r\n      setmUseFlag(isY);\r\n      setmHours(el[0]?.hours_of_use);\r\n      setmCount(el[0]?.select_count);\r\n      if (el[0]?.available_time) {\r\n        const arr = el[0]?.available_time;\r\n        setAvailableTime([...arr]);\r\n      }\r\n      setSameEveryday(Boolean(el[0]?.hours_of_use && el[0]?.select_count));\r\n    }\r\n  }, [rooms]);\r\n\r\n  useEffect(() => {\r\n    if (mStartTime && mEndTime) {\r\n      const start = extractHour(mStartTime, ':');\r\n      const end = extractHour(mEndTime, ':');\r\n      setTotalHour(end - start);\r\n    }\r\n  }, [mStartTime, mEndTime]);\r\n\r\n  useEffect(() => {\r\n    setMaxCount(Math.floor(totalHour / mHours));\r\n  }, [totalHour]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!mUseFlag) {\r\n  //     const zeroAvailableTime = resetAvailableTime();\r\n  //     setAvailableTime([...zeroAvailableTime]);\r\n  //   }\r\n  // }, [mUseFlag]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'no',\r\n      key: uuid(),\r\n      width: 60,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else if (_record.bookable === 'N') {\r\n          return <Badge status=\"default\" text=\"예약 중\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청시간',\r\n      dataIndex: 'reserved_time',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item ? moment(_item).format('MM-DD HH:mm') : ''}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 취소',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 100,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"예약을 취소하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '반납 처리',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 100,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <>\r\n            {_record.user_name !== null && (\r\n              <Popconfirm\r\n                title=\"반납 처리하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  e.stopPropagation();\r\n                  console.log(_record.user_key);\r\n                  onReturnReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <EnterOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                />\r\n              </Popconfirm>\r\n            )}\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <DvdMakeReservation\r\n        openModal={isModal}\r\n        setIsModal={setIsModal}\r\n        selectedTimes={selectedTimes}\r\n        onReserveRoom={onReserveRoom}\r\n        changeRoomName={changeItemName}\r\n        user={user}\r\n      />\r\n\r\n      <MenuGuide title={`물품 예약 상세`} subTitle={`물품 예약 상태를 관리할 수 있습니다.`} />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`물품(${item_name}) 정보`}</Text>\r\n      </Divider>\r\n      <Descriptions bordered>\r\n        <Descriptions.Item label=\"실 명\" span={1}>\r\n          <Text>{`${item_name}`}</Text>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item label=\"실 상태\" span={3}>\r\n          {/* {use_flag === \"Y\" && start_time && (\r\n            <Badge status=\"processing\" text=\"정상 운영\" />\r\n          )}\r\n          {use_flag === \"N\" && !start_time && (\r\n            <Badge status=\"default\" text=\"이용 불가\" />\r\n          )} */}\r\n          {use_flag === 'Y' && <Badge status=\"processing\" text=\"정상 운영\" />}\r\n          {use_flag === 'N' && <Badge status=\"default\" text=\"이용 불가\" />}\r\n        </Descriptions.Item>\r\n      </Descriptions>\r\n      <Collapse\r\n        expandIcon={({ isActive }) => <SettingOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} rotate={isActive ? 90 : 0} />}\r\n        style={{ marginTop: '10px' }}\r\n        bordered={false}\r\n      >\r\n        <Collapse.Panel\r\n          header={\r\n            <Text style={{ cursor: 'pointer' }}>\r\n              {`운영 상세 설정  `}\r\n              <CaretDownOutlined />\r\n            </Text>\r\n          }\r\n          key=\"1\"\r\n        >\r\n          <Descriptions bordered size=\"small\">\r\n            <Descriptions.Item label=\"대여실 이름\" span={3}>\r\n              <Input\r\n                value={changeItemName}\r\n                onChange={(e) => {\r\n                  setChangeItemName(e.target.value);\r\n                }}\r\n              />\r\n            </Descriptions.Item>\r\n\r\n            {!sameEveryday &&\r\n              availableTime?.map((el, idx) => {\r\n                const isNull = !el.start_time && !el.end_time;\r\n\r\n                return (\r\n                  <Descriptions.Item label={`대여 운영 시간 설정 - ${days[idx]}`} span={3} key={el.day}>\r\n                    {isNull ? (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    ) : (\r\n                      <TimePicker.RangePicker\r\n                        format={`HH:mm`}\r\n                        disabled={!mUseFlag}\r\n                        defaultValue={[moment(el.start_time, 'HH:mm'), moment(el.end_time, 'HH:mm')]}\r\n                        onChange={(e) => {\r\n                          settingDailyTime(e, idx + 1);\r\n                        }}\r\n                      ></TimePicker.RangePicker>\r\n                    )}\r\n                  </Descriptions.Item>\r\n                );\r\n              })}\r\n\r\n            {sameEveryday && (\r\n              <>\r\n                <Descriptions.Item label=\"대여 운영 시간 설정\" span={3}>\r\n                  <TimePicker.RangePicker\r\n                    placeholder={[`시작시간`, `종료시간`]}\r\n                    format={`HH:mm`}\r\n                    value={[moment(mStartTime, 'HH:mm'), moment(mEndTime, 'HH:mm')]}\r\n                    onChange={(e) => {\r\n                      if (e) {\r\n                        const [start, end] = e;\r\n                        if (start && end) {\r\n                          setmStartTime(start?.format('HH:00'));\r\n                          setmEndTime(end?.format('HH:00'));\r\n                        }\r\n                      }\r\n                    }}\r\n                  ></TimePicker.RangePicker>\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"연속 예약 횟수\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mCount === undefined}\r\n                    min={1}\r\n                    max={Math.floor(totalHour / mHours)}\r\n                    defaultValue={mCount}\r\n                    onChange={(e) => {\r\n                      console.log(e);\r\n\r\n                      setmCount(e);\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"예약 시간 단위\" span={3}>\r\n                  <InputNumber\r\n                    disabled={mHours === undefined}\r\n                    min={1}\r\n                    max={totalHour}\r\n                    defaultValue={mHours}\r\n                    onChange={(e) => {\r\n                      setmHours(e);\r\n                      setMaxCount(Math.floor(totalHour / e));\r\n                    }}\r\n                  />\r\n                </Descriptions.Item>\r\n              </>\r\n            )}\r\n            <Descriptions.Item label=\"대여 불가 설정\" span={3}>\r\n              <Switch\r\n                checked={!mUseFlag}\r\n                onClick={() => {\r\n                  setmUseFlag((prevData) => {\r\n                    return !prevData;\r\n                  });\r\n                }}\r\n              ></Switch>\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n          <div style={{ marginTop: '10px', textAlign: 'right' }}>\r\n            <Space>\r\n              {/* <Link\r\n              to={{\r\n                pathname: `/loanitem/form/${itemMaster.item_master_idx}`,\r\n              }}\r\n              >\\\r\n              </Link> */}\r\n              <Button type=\"primary\" onClick={onFix}>\r\n                정보 및 목록 수정\r\n              </Button>\r\n              <Popconfirm\r\n                title=\"아이템을 정말 삭제하시겠습니까?\"\r\n                icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n                onConfirm={(e: any) => {\r\n                  //   e.stopPropagation();\r\n                  onDeleteClick();\r\n                  //   console.log(_record.user_key);\r\n                  //   onCancelReserve(_record.user_key);\r\n                  //   deleteEvent(record.IDX);\r\n                }}\r\n                onCancel={(e: any) => {\r\n                  e.stopPropagation();\r\n                  return;\r\n                }}\r\n                okText=\"예\"\r\n                cancelText=\"아니오\"\r\n              >\r\n                <Button type=\"primary\" danger>\r\n                  삭 제\r\n                </Button>\r\n                {/* <DeleteOutlined\r\n                  style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                  }}\r\n                /> */}\r\n              </Popconfirm>\r\n            </Space>\r\n          </div>\r\n        </Collapse.Panel>\r\n      </Collapse>\r\n      <MenuGuide\r\n        style={{\r\n          marginTop: '2rem',\r\n        }}\r\n        title={`물품 시간표`}\r\n        subTitle={`예약 상태를 확인 할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>{`예약 정보`}</Text>\r\n      </Divider>\r\n      <Table rowKey={(record) => record.start_time} columns={columns} rowSelection={{ ...rowSelection }} dataSource={dataSource} bordered size=\"small\" />\r\n      <div style={{ marginBottom: '10px', textAlign: 'center' }}>\r\n        {dataSource && (\r\n          <Button type=\"primary\" onClick={findUser} disabled={err || selectedRowkeys.length === 0}>\r\n            예약하기\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemLoanDetailForm;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  ModesType,\r\n  ModeType,\r\n  ContentsType,\r\n  ResponseVo,\r\n  EquipIdxType,\r\n  PutModeDataType,\r\n  PutReturnDateType,\r\n  ReturnDateType,\r\n  ContentsReturnType,\r\n  LoadingType,\r\n  GetContentsType,\r\n  HolidayType,\r\n  HolidayReturnType,\r\n  PutHolidayType,\r\n  PatchHolidayType,\r\n  PostHolidayType,\r\n  EqpNameType,\r\n  PublicHolidayModeType,\r\n  WeekPeriodType,\r\n  DayOfTheWeek,\r\n  HolidayInfoReturnType,\r\n  ResponseBodyContents,\r\n  ResponseBodyHoliday,\r\n  ResponseBodyHolidayInfo,\r\n  ResponseBodyMode,\r\n  ResponseBodyReturnDate,\r\n} from './../types/Lss';\r\n\r\nimport {\r\n  requestLssDeleteForCaptionContents,\r\n  requestLssDeleteForNoticeContents,\r\n  requestLssDeleteHoliday,\r\n  requestLssGetForContents,\r\n  requestLssGetForHoliday,\r\n  requestLssGetForMode,\r\n  requestLssGetForReturnDate,\r\n  requestLssGetHolidayInfo,\r\n  requestLssPatchChangeHoliday,\r\n  requestLssPostForCaption,\r\n  requestLssPostForContents,\r\n  requestLssPostHoliday,\r\n  requestLssPutChangeForHolidy,\r\n  requestLssPutForCaptionContents,\r\n  requestLssPutForMode,\r\n  requestLssPutForNoticeContents,\r\n  requestLssPutForReturnDate,\r\n} from '../api';\r\n\r\nimport { message } from 'antd';\r\n\r\nexport const LSS_DETAIL = 'lssDetail' as const;\r\n\r\ntype SliceState = {\r\n  mode: ModesType;\r\n  reg_date: string;\r\n  idx: number;\r\n  eqpName: string;\r\n  equip_idx: number;\r\n  //자막,메모\r\n  notice: Array<ContentsType>;\r\n  caption: Array<ContentsType>;\r\n  //휴가\r\n  holiday: Array<HolidayType>;\r\n  LegalHoliday: Array<HolidayType>;\r\n  //반납일\r\n  returnDate: string;\r\n  //휴가설정을 가져옴\r\n  type: null;\r\n  date: PublicHolidayModeType;\r\n  period1: WeekPeriodType;\r\n  period2: string | number;\r\n  value: DayOfTheWeek;\r\n  //\r\n  isSpin: boolean;\r\n  isProgress: boolean;\r\n};\r\ntype PayloadType = {\r\n  [LSS_DETAIL]: SliceState;\r\n  //\r\n};\r\nexport const fetchGetDefaultInfo = createAsyncThunk(`${LSS_DETAIL}/fetchGetDefaultInfo`, async ({ ...args }: EquipIdxType) => {\r\n  const response = await requestLssGetForMode({ ...args });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutMode = createAsyncThunk(`${LSS_DETAIL}/fetchPutMode`, async ({ ...args }: PutModeDataType) => {\r\n  const response = await requestLssPutForMode({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetReturnDate = createAsyncThunk(`${LSS_DETAIL}/fetchGetReturnDate`, async () => {\r\n  const response = await requestLssGetForReturnDate();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutReturnDate = createAsyncThunk(`${LSS_DETAIL}/fetchPutReturnDate`, async ({ codeName, ...args }: PutReturnDateType) => {\r\n  const response = await requestLssPutForReturnDate({\r\n    ...args,\r\n    codeName: codeName,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nexport const fetchGetContents = createAsyncThunk(`${LSS_DETAIL}/fetchGetContents`, async ({ ...args }: GetContentsType) => {\r\n  const response = await requestLssGetForContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchPutCaptionContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssPutForCaptionContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchPostNoticeContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssPostForContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchPostCaptionContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssPostForCaption({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchPutNoticeContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssPutForNoticeContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteNoticeContents = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteNoticeContents`, async ({ ...args }: ContentsType) => {\r\n  const response = await requestLssDeleteForNoticeContents({\r\n    ...args,\r\n  });\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteCaptionContents = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteCaptionContents`, async (data: Array<ContentsType>) => {\r\n  const response = await requestLssDeleteForCaptionContents(data);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n//holiday\r\nexport const fetchGetHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchGetHoliday`, async () => {\r\n  const response = await requestLssGetForHoliday();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPutChangeHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPutChangeHolidy`, async (element: PutHolidayType) => {\r\n  const response = await requestLssPutChangeForHolidy(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPatchChangeHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPatchChangeHoliday`, async (element: PatchHolidayType) => {\r\n  const response = await requestLssPatchChangeHoliday(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchDeleteHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchDeleteHoliday`, async (idx: number) => {\r\n  const response = await requestLssDeleteHoliday(idx);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchPostHoliday = createAsyncThunk(`${LSS_DETAIL}/fetchPostHoliday`, async (element: PostHolidayType) => {\r\n  const response = await requestLssPostHoliday(element);\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\nexport const fetchGetHolidayInfo = createAsyncThunk(`${LSS_DETAIL}/fetchGetHolidayInfo`, async () => {\r\n  const response = await requestLssGetHolidayInfo();\r\n  if (!!!response) return undefined;\r\n  return response.data;\r\n});\r\n\r\nconst lssSlice = createSlice({\r\n  name: LSS_DETAIL,\r\n  initialState: {\r\n    mode: 'CLOSURE',\r\n    reg_date: '',\r\n    idx: 1,\r\n    eqpName: 'LSS',\r\n    equip_idx: 1,\r\n    notice: [],\r\n    caption: [],\r\n    holiday: [],\r\n    LegalHoliday: [],\r\n    isSpin: false,\r\n    isProgress: false,\r\n    returnDate: '14',\r\n    type: null,\r\n    date: 'week',\r\n    period1: 'weekly',\r\n    period2: '',\r\n    value: ['MONDAY'],\r\n  } as SliceState,\r\n  reducers: {\r\n    setEquipIdx: (state, action: PayloadAction<EquipIdxType>) => {\r\n      state.equip_idx = action.payload.equip_idx;\r\n    },\r\n    setMode: (state, action: PayloadAction<ModeType>) => {\r\n      state.mode = action.payload.mode;\r\n    },\r\n    setReturnDate: (state, action: PayloadAction<ReturnDateType>) => {\r\n      state.returnDate = action.payload.returnDate;\r\n    },\r\n    setEqpName: (state, action: PayloadAction<EqpNameType>) => {\r\n      state.eqpName = action.payload.eqpName;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchGetDefaultInfo.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetDefaultInfo.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyMode>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.mode = result.mode;\r\n        //장비번호에 걸려있는 lss인덱스까지 가져옴.\r\n        state.idx = result.idx;\r\n        state.equip_idx = result.equip_idx;\r\n        state.eqpName = result.eqpName;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutMode.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutMode.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyMode>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.mode = result.mode;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다.');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutReturnDate.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n\r\n    [fetchPutReturnDate.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyReturnDate>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.returnDate = result.returnDate;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetReturnDate.pending.type]: (state) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetReturnDate.fulfilled.type]: (state, action: PayloadAction<ResponseVo<ResponseBodyReturnDate>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.returnDate = result.returnDate;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        state.caption = result.CAPTION;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPostNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteNoticeContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteNoticeContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.notice = result.NOTICE;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPutCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchPostCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n\r\n    [fetchDeleteCaptionContents.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteCaptionContents.fulfilled.type]: (state: ContentsReturnType, action: PayloadAction<ResponseVo<ResponseBodyContents>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.caption = result.CAPTION;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPutChangeHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPutChangeHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPatchChangeHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPatchChangeHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchDeleteHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchDeleteHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchPostHoliday.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchPostHoliday.fulfilled.type]: (state: HolidayReturnType, action: PayloadAction<ResponseVo<ResponseBodyHoliday>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        message.error('실패하였습니다');\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.holiday = result.휴일;\r\n        state.LegalHoliday = result.공휴일;\r\n        message.success('변경되었습니다.');\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n    [fetchGetHolidayInfo.pending.type]: (state: LoadingType) => {\r\n      state.isProgress = true;\r\n      state.isSpin = true;\r\n    },\r\n    [fetchGetHolidayInfo.fulfilled.type]: (state: HolidayInfoReturnType, action: PayloadAction<ResponseVo<ResponseBodyHolidayInfo>>) => {\r\n      if (action.payload === undefined) {\r\n        state.isProgress = false;\r\n        state.isSpin = false;\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        state.type = result.type;\r\n        state.date = result.date;\r\n        state.period1 = result.period1;\r\n        state.period2 = result.period2;\r\n        state.value = result.value;\r\n      } else {\r\n        message.error('실패하였습니다');\r\n      }\r\n      state.isProgress = false;\r\n      state.isSpin = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setMode, setReturnDate, setEquipIdx, setEqpName } = lssSlice.actions;\r\nexport default lssSlice.reducer;\r\n\r\nexport const selectLssDetail = (state: PayloadType) => state;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  margin-left: 1rem;\r\n  font-family: 'bmjua';\r\n`;\r\n","import React, { FC, useCallback, useEffect, useState } from 'react';\r\nimport { Popconfirm, Radio, RadioChangeEvent } from 'antd';\r\nimport { ModesType } from '../../../../../types/Lss';\r\nimport { Wrapped } from './RadioMode.styled';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPutMode, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\n\r\ntype RadioModeType = {\r\n  value: ModesType;\r\n};\r\n\r\n/**\r\n *\r\n * @param value 라디오그룹에서 기본으로 정의된 데이터입니다.\r\n * @returns\r\n */\r\nconst RadioMode: FC<RadioModeType> = ({ value }) => {\r\n  const [mode, setMode] = useState(value);\r\n  const [prevMode, setPrevMode] = useState(value);\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  useEffect(() => {\r\n    setMode(value);\r\n  }, [value]);\r\n\r\n  //모드 변경을 위한 이벤트 핸들러\r\n  const onConfirmPutMode = useCallback(\r\n    (mode: ModesType) => {\r\n      dispatch(\r\n        fetchPutMode({\r\n          equip_idx: state[LSS_DETAIL].equip_idx,\r\n          mode: mode,\r\n        })\r\n      );\r\n    },\r\n    [value]\r\n  );\r\n\r\n  const onChangeMode = useCallback(\r\n    (e: RadioChangeEvent) => {\r\n      const mode = e.target.value as ModesType;\r\n      setMode(mode);\r\n    },\r\n    [value]\r\n  );\r\n  const onCancelMode = useCallback(\r\n    (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      setMode(prevMode);\r\n    },\r\n    [prevMode]\r\n  );\r\n  const onConfirm = useCallback(\r\n    (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      setPrevMode(mode);\r\n      onConfirmPutMode(mode);\r\n    },\r\n    [mode, onConfirmPutMode]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <Radio.Group onChange={onChangeMode} value={mode}>\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'LOAN'}>대출일</Radio>\r\n          </Popconfirm>\r\n\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'CLOSURE'}>휴관일</Radio>\r\n          </Popconfirm>\r\n\r\n          <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" onConfirm={onConfirm} onCancel={onCancelMode} okType=\"primary\">\r\n            <Radio value={'MEMO'}>메시지</Radio>\r\n          </Popconfirm>\r\n        </Radio.Group>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RadioMode;\r\n","import styled from 'styled-components';\r\nimport { InputNumber } from 'antd';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const Inner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Title = styled.span`\r\n  font-family: 'bmjua';\r\n  margin-right: 1rem;\r\n`;\r\n\r\nexport const InputNumberWrapped = styled(InputNumber)`\r\n  margin-right: 1rem;\r\n`;\r\n","import React, { FC, useCallback } from 'react';\r\nimport { Button, InputNumberProps } from 'antd';\r\nimport { Inner, Title, Wrapped, InputNumberWrapped } from './ReturnDate.styled';\r\nimport {\r\n  fetchPutReturnDate,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n  setReturnDate,\r\n} from '../../../../../slice/LssSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { valueType } from 'antd/lib/statistic/utils';\r\n\r\ntype ReturnDateComponentType = {\r\n  //대여일 값\r\n  value: number | undefined;\r\n};\r\n\r\nconst ReturnDateComponent: FC<ReturnDateComponentType> = ({\r\n  value,\r\n}: ReturnDateComponentType) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  //대여일 변경을위한 이벤트핸들러\r\n  const onChangeDate = useCallback(\r\n    (date: valueType) => {\r\n      const returnDate = date.toString();\r\n      dispatch(\r\n        setReturnDate({\r\n          returnDate: returnDate,\r\n        })\r\n      );\r\n    },\r\n    [state]\r\n  );\r\n  //저장이벤트\r\n  const onChangeDateSave = useCallback(() => {\r\n    const date = state[LSS_DETAIL].returnDate.toString();\r\n    dispatch(\r\n      fetchPutReturnDate({\r\n        codeName: date,\r\n        codeGroup: 'LSS',\r\n        codeID: 'rental_date',\r\n      })\r\n    );\r\n  }, [value]);\r\n\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <Inner>\r\n          <Title>대여일 : </Title>\r\n          {/* onChange 이벤트핸들러를 전달하기위해 아래 타입을 넣음. */}\r\n          {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/39136 링크참조 */}\r\n          <InputNumberWrapped<FC<InputNumberProps<number>>>\r\n            size={'large'}\r\n            min={1}\r\n            max={31}\r\n            value={value}\r\n            onChange={onChangeDate}\r\n          />\r\n          <Button size={'large'} type='primary' onClick={onChangeDateSave}>\r\n            적 용\r\n          </Button>\r\n        </Inner>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReturnDateComponent;\r\n","import styled from 'styled-components';\r\nimport { Tabs } from 'antd';\r\nimport { CalendarOutlined, SettingOutlined } from '@ant-design/icons';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n  font-family: 'bmjua';\r\n  letter-spacing: 0.1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  width: 65%;\r\n  margin: auto;\r\n`;\r\n\r\ntype Progress = {\r\n  isProgress: boolean;\r\n};\r\nexport const ProgressWrapped = styled.div<Progress>`\r\n  width: 100%;\r\n  margin: auto;\r\n  ${(props) =>\r\n    props.isProgress &&\r\n    `\r\n    filter : blur(8px),\r\n  `};\r\n`;\r\nexport const TabsWrapped = styled.div`\r\n  border: 1px solid #e7e7e7;\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n`;\r\nexport const TabWrapped = styled(Tabs)`\r\n  position: relative;\r\n`;\r\n\r\nexport const SpanWrapped = styled.span`\r\n  cursor: pointer;\r\n  height: 100%;\r\n`;\r\nexport const SettingIconWrapped = styled(SettingOutlined)`\r\n  margin: 0.5rem;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n`;\r\nexport const CalendarIconWrapped = styled(CalendarOutlined)`\r\n  margin: 0.5rem;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n`;\r\n","import { DeleteOutlined } from '@ant-design/icons';\r\nimport { Button, Card } from 'antd';\r\nimport styled from 'styled-components';\r\nimport TextArea, { TextAreaRef } from 'antd/lib/input/TextArea';\r\n\r\nexport const IconButton = styled(Button)`\r\n  border: 0;\r\n  background-color: white;\r\n\r\n  &[disabled] {\r\n    background-color: white;\r\n  }\r\n  &:hover[disabled] {\r\n    background-color: white;\r\n    cursor: default;\r\n  }\r\n  &:hover {\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nexport const RedIconButton = styled(IconButton)`\r\n  color: red;\r\n`;\r\nexport const BaddgeWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const CardWrapped = styled(Card)`\r\n  width: 96%;\r\n  margin: 0.5rem;\r\n  padding: 0 0.5rem;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n`;\r\n\r\nexport const DeleteIcon = styled(DeleteOutlined)`\r\n  color: #ce1b1b;\r\n`;\r\n\r\nexport const TextFieldsWrapped = styled(TextArea)`\r\n  cursor: default;\r\n`;\r\n","import { CheckOutlined, EditOutlined } from '@ant-design/icons';\r\nimport { Badge, Popconfirm } from 'antd';\r\nimport { TextAreaRef } from 'antd/lib/input/TextArea';\r\nimport React, { FC, memo, useEffect, useRef, useState } from 'react';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\nimport { BaddgeWrapped, CardWrapped, DeleteIcon, IconButton, RedIconButton, TextFieldsWrapped } from './NoticeCards.styled';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchDeleteNoticeContents, fetchPutNoticeContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport styles from './NoticeCards.module.scss';\r\n\r\ntype inputState = 'default' | 'changing';\r\ntype changeType = 'isUsed' | 'content';\r\n\r\nconst NoticeCards: FC<ContentsType> = ({ is_used, lss_content_idx, lss_master_idx, content }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  const [modeState, setModeState] = useState<inputState>('default');\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const [isUsed, setIsUsed] = useState(is_used === 'Y' ? true : false);\r\n  const [lssContentIdx, setLssContentIdx] = useState(lss_content_idx);\r\n  const [lssMasterIdx, setLssMasterIdx] = useState(lss_master_idx);\r\n  const [mContent, setmContent] = useState(content);\r\n  const [prevContent, setPrevContent] = useState(content);\r\n  const textRef = useRef<TextAreaRef>(null);\r\n\r\n  useEffect(() => {\r\n    //텍스트값이 변경되는지 확인하는 로직\r\n    if (modeState === 'default' && prevContent !== mContent) {\r\n      setModeState('changing');\r\n    }\r\n  }, [mContent]);\r\n\r\n  useEffect(() => {\r\n    //idx와 used가 바뀌면 다시 설정함.\r\n    setLssContentIdx(lss_content_idx);\r\n    setIsUsed(is_used === 'Y' ? true : false);\r\n  }, [lss_content_idx, is_used]);\r\n\r\n  const onNoticeContentPutChange = (content: ContentsType, type: changeType) => {\r\n    const data = JSON.parse(JSON.stringify(state[LSS_DETAIL].notice));\r\n    const fixedData: Array<ContentsType> = data.map((item: ContentsType) => {\r\n      if (type === 'isUsed') {\r\n        //표시할 공지사항을 선택할 경우 다른 아이템들의 is_used는 N으로 설정하고, 선택된 아이템의 isused만 Y로 변경하는 로직\r\n        if (item.lss_content_idx === content.lss_content_idx) {\r\n          item.is_used = content.is_used;\r\n        } else {\r\n          item.is_used = 'N';\r\n        }\r\n        return item;\r\n      } else {\r\n        if (item.lss_content_idx === content.lss_content_idx) {\r\n          item.content = content.content;\r\n        }\r\n        return item;\r\n      }\r\n    });\r\n    dispatch(fetchPutNoticeContents(fixedData));\r\n  };\r\n  const onNoticeDelete = (content: ContentsType) => {\r\n    content.lss_master_idx = state[LSS_DETAIL].idx;\r\n    dispatch(fetchDeleteNoticeContents({ ...content }));\r\n  };\r\n\r\n  const onChangeTextFields = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const target = e.target as HTMLTextAreaElement;\r\n    if (e.target.value.split('\\n').length > 6) {\r\n      return false;\r\n    }\r\n    setmContent(target.value);\r\n  };\r\n  const onChangeUsed = (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\r\n    isUsed ? setIsUsed(false) : setIsUsed(true);\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      //상태는 나중에 바뀌기 때문에 반전된 값을넣음\r\n      is_used: isUsed ? 'N' : 'Y',\r\n    };\r\n    onNoticeContentPutChange(data, 'isUsed');\r\n  };\r\n  const onChangeText = (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\r\n    // 현재 입력상태를 변경한다.\r\n    if (modeState === 'default') {\r\n      isDisabled ? setIsDisabled(false) : setIsDisabled(true);\r\n    }\r\n  };\r\n  const onCancel = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    if (modeState === 'changing') {\r\n      //취소하면 이전상태로 돌아옴\r\n      setModeState('default');\r\n      setmContent(prevContent);\r\n      isDisabled ? setIsDisabled(false) : setIsDisabled(true);\r\n    }\r\n  };\r\n  const onSaveText = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    const target = textRef.current as TextAreaRef;\r\n    const inputText = target.resizableTextArea?.props.value as string;\r\n    setPrevContent(inputText);\r\n    setmContent(inputText);\r\n    setModeState('default');\r\n    setIsDisabled(true);\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      is_used: isUsed ? 'Y' : 'N',\r\n    };\r\n    onNoticeContentPutChange(data, 'content');\r\n  };\r\n  const onDeleteIcon = (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n    const data: ContentsType = {\r\n      type: 'NOTICE',\r\n      content: mContent,\r\n      lss_content_idx: lssContentIdx,\r\n      lss_master_idx: lssMasterIdx,\r\n      //상태는 나중에 바뀌기 때문에 반전된 값을넣음\r\n      is_used: isUsed ? 'Y' : 'N',\r\n    };\r\n    onNoticeDelete(data);\r\n  };\r\n\r\n  const Textfields: React.ReactNode = (\r\n    <div className={styles.text}>\r\n      <TextFieldsWrapped\r\n        ref={textRef}\r\n        maxLength={25 * 6}\r\n        autoSize={{\r\n          maxRows: 6,\r\n        }}\r\n        disabled={isDisabled}\r\n        cols={1}\r\n        rows={6}\r\n        onChange={onChangeTextFields}\r\n        value={mContent}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  //#region 아이콘 버튼\r\n  const BadgeIcon: FC = () => {\r\n    return (\r\n      <BaddgeWrapped>\r\n        <IconButton>\r\n          <Badge status={isUsed ? 'processing' : 'warning'} />\r\n        </IconButton>\r\n      </BaddgeWrapped>\r\n    );\r\n  };\r\n  const ModifyIconBtn: FC = () => {\r\n    useEffect(() => {\r\n      textRef.current?.focus({\r\n        cursor: 'end',\r\n      });\r\n    });\r\n    return modeState === 'changing' ? (\r\n      <Popconfirm title=\"저장 하시겠습니까?\" okText=\"저장\" okType=\"primary\" onConfirm={onSaveText} onCancel={onCancel}>\r\n        <RedIconButton onClick={onChangeText}>\r\n          <EditOutlined key=\"edit\" />\r\n        </RedIconButton>\r\n      </Popconfirm>\r\n    ) : (\r\n      <IconButton onClick={onChangeText}>\r\n        <EditOutlined key=\"edit\" />\r\n      </IconButton>\r\n    );\r\n  };\r\n  const UsedIconBtn: FC = () => {\r\n    return (\r\n      <IconButton disabled={modeState === 'changing' ? true : false} onClick={onChangeUsed}>\r\n        <CheckOutlined key=\"ellipsis\" />\r\n      </IconButton>\r\n    );\r\n  };\r\n  const DeleteIconBtn: FC = () => {\r\n    return (\r\n      <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onDeleteIcon} okType=\"primary\">\r\n        <IconButton>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </Popconfirm>\r\n    );\r\n  };\r\n  //#endregion\r\n  return (\r\n    <CardWrapped className={styles.card} cover={Textfields} actions={[<BadgeIcon />, <ModifyIconBtn />, <UsedIconBtn />, <DeleteIconBtn />]}></CardWrapped>\r\n  );\r\n};\r\n\r\nexport default NoticeCards;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC } from 'react';\r\nimport { IconWrapped, Wrapped } from './NoticeDrawTitle.styled';\r\n\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>메모를 등록하거나 관리하세요</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DrawerTitle;\r\n","import { SettingTwoTone } from '@ant-design/icons';\r\nimport { Drawer } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\ntype Icon = {\r\n  isActive?: boolean;\r\n};\r\nexport const IconWrapped = styled.div<Icon>`\r\n  width: 4rem;\r\n  border-bottom: 1px inset rgba(29, 150, 224, 0.3);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.35s;\r\n  margin: 0 1rem 0 0;\r\n\r\n  ${(props) =>\r\n    props.isActive &&\r\n    `    transform: rotate3d(180, 20, 36, 360deg);\r\n  `}\r\n  &:hover {\r\n    transform: scale(0.9);\r\n  }\r\n`;\r\n\r\nexport const CardsWrapped = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: repeat(1, 1.5fr);\r\n  overflow: hidden;\r\n`;\r\nexport const TextWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 4rem;\r\n`;\r\n\r\nexport const DrawerWrapped = styled(Drawer)``;\r\n\r\nexport const SettingIconWrapped = styled(SettingTwoTone)`\r\n  margin: 0.5rem;\r\n  font-size: 2rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const TextAreaWrapped = styled(TextArea)`\r\n  text-align: center;\r\n  cursor: default;\r\n`;\r\n","import React, { FC, memo, useCallback } from 'react';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\nimport NoticeCards from './NoticeCards';\r\nimport DrawerTitle from './NoticeDrawTitle';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPostNoticeContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport styles from './Notice.module.scss';\r\nimport { useGetUsedNotice } from './hooks/useGetUseNotice';\r\nimport { Wrapped, InnerWrapped, IconWrapped, SettingIconWrapped, TextWrapped, TextAreaWrapped, DrawerWrapped, CardsWrapped } from './Notice.styled';\r\n\r\ntype NoticeType = {\r\n  isVisible: boolean;\r\n  notice: Array<ContentsType>;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nconst Notice: FC<NoticeType> = ({ isVisible, setIsVisible, notice }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n  //is_used가 y로 설정된 값을 가져옴\r\n  const selectedContent = useGetUsedNotice(notice);\r\n\r\n  //3.\r\n  const onNoticePost = (content: ContentsType) => {\r\n    content.lss_master_idx = state[LSS_DETAIL].idx;\r\n    dispatch(fetchPostNoticeContents({ ...content }));\r\n  };\r\n\r\n  const onClickAddIcon = useCallback((e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    onNoticePost({\r\n      type: 'NOTICE',\r\n      lss_content_idx: 0,\r\n      lss_master_idx: 0,\r\n      content: '메모',\r\n      is_used: 'N',\r\n    });\r\n  }, []);\r\n  const onClick = useCallback(() => {\r\n    setIsVisible(true);\r\n  }, []);\r\n  const onClose = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  const items = notice.map((item, index) => (\r\n    <NoticeCards\r\n      key={uuid()}\r\n      type={item.type}\r\n      content={item.content}\r\n      is_used={item.is_used}\r\n      lss_content_idx={item.lss_content_idx}\r\n      lss_master_idx={item.lss_master_idx}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <IconWrapped isActive={isVisible} onClick={onClick}>\r\n          <SettingIconWrapped twoToneColor={'#3b80ff'} />\r\n        </IconWrapped>\r\n        <TextWrapped className={styles.text}>\r\n          <h5>미리보기</h5>\r\n          <TextAreaWrapped\r\n            disabled={true}\r\n            value={selectedContent ? selectedContent.content : '적용된 메모가 없습니다'}\r\n            maxLength={25 * 6}\r\n            autoSize={{ maxRows: 6 }}\r\n            cols={1}\r\n            rows={6}\r\n          ></TextAreaWrapped>\r\n        </TextWrapped>\r\n      </InnerWrapped>\r\n      <DrawerWrapped\r\n        className={styles.drawer}\r\n        title={<DrawerTitle onClick={onClickAddIcon} />}\r\n        placement=\"right\"\r\n        closable={true}\r\n        visible={isVisible}\r\n        getContainer={false}\r\n        onClose={onClose}\r\n        width={'100%'}\r\n        maskStyle={{ backgroundColor: 'rgba(0,0,0,0)' }}\r\n      >\r\n        <CardsWrapped>{items}</CardsWrapped>\r\n      </DrawerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Notice;\r\n","import { useEffect, useState } from 'react';\r\nimport { ContentsType } from '../../../../../../types/Lss';\r\n\r\n/**\r\n * 사용중인 공지사항을 반환합니다.\r\n */\r\nexport const useGetUsedNotice = (notice: Array<ContentsType>) => {\r\n  const [selectedContents, setSelectedContents] = useState<ContentsType | undefined>({\r\n    seq: 0,\r\n    type: 'NOTICE',\r\n    content: 'undefined',\r\n    lss_content_idx: 1,\r\n    lss_master_idx: 1,\r\n    is_used: 'N',\r\n    uuid: '',\r\n  });\r\n  useEffect(() => {\r\n    const result = notice.find((o) => o.is_used === 'Y');\r\n    setSelectedContents(result);\r\n  }, [notice]);\r\n  return selectedContents;\r\n};\r\n","import { SettingTwoTone } from '@ant-design/icons';\r\nimport { Drawer } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const CaptionWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const DrawerWrapped = styled(Drawer)`\r\n  position: absolute;\r\n`;\r\ntype Icon = {\r\n  isActive?: boolean;\r\n};\r\nexport const IconWrapped = styled.div<Icon>`\r\n  width: 4rem;\r\n  border-bottom: 1px inset rgba(29, 150, 224, 0.3);\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.35s;\r\n  margin: 0 1rem 0 0;\r\n  ${(props) =>\r\n    props.isActive &&\r\n    `\r\n\r\n    transform: rotate3d(180, 20, 36, 360deg);\r\n  `}\r\n  &:hover {\r\n    transform: scale(0.9);\r\n  }\r\n`;\r\n\r\nexport const CardsWrapped = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: repeat(1, 1.5fr);\r\n`;\r\nexport const SettingIconWrapped = styled(SettingTwoTone)`\r\n  margin: 0.5rem;\r\n  font-size: 2rem;\r\n  cursor: pointer;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const IconWrapped = styled.div`\r\n  position: absolute;\r\n  font-size: 1.5rem;\r\n  left: 0rem;\r\n  transition: transform 0.45s;\r\n  cursor: pointer;\r\n  :hover {\r\n    transform: scale(1.3);\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n  > span:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport React, { FC, memo } from 'react';\r\nimport { IconWrapped, Wrapped } from './CaptionDrawTitle.styled';\r\n\r\ntype DrawerTitleType = {\r\n  onClick?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void | undefined;\r\n};\r\n\r\nconst DrawerTitle: FC<DrawerTitleType> = memo(({ onClick }) => {\r\n  return (\r\n    <>\r\n      <Wrapped>\r\n        <IconWrapped onClick={onClick}>\r\n          <PlusCircleOutlined />\r\n        </IconWrapped>\r\n        <span>자막을 등록하거나 관리하세요</span>\r\n      </Wrapped>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default DrawerTitle;\r\n","import styled from 'styled-components';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\n\r\nexport const CaptionWrapped = styled.div`\r\n  width: 100%;\r\n  margin: auto;\r\n`;\r\n\r\ntype TypeCaptionItemWrapped = {\r\n  isSelected?: boolean;\r\n};\r\nexport const CaptionItemWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  color: black;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\n    cursor:pointer;\r\n    color:blue;\r\n    `}\r\n`;\r\n\r\nexport const ItemsWrapped = styled.div<TypeCaptionItemWrapped>`\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n  transition: filter 0.25s;\r\n  font-size: 1.3rem;\r\n  margin: 0.2rem;\r\n  ${(props) =>\r\n    props.isSelected &&\r\n    `\r\nfilter : blur(2px)\r\n`}\r\n`;\r\nexport const SpanIconWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\ntype TypeNotice = {\r\n  isEdit?: boolean;\r\n};\r\nexport const NoticeBox = styled.div<TypeNotice>`\r\n  display: flex;\r\n  height: 0;\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  line-height: 100%;\r\n  padding: 0 3rem;\r\n  top: 0;\r\n  z-index: 99;\r\n  background-color: white;\r\n  transition: all 0.1s;\r\n  width: 100%;\r\n\r\n  ${(props) =>\r\n    props.isEdit &&\r\n    `\r\n    visibility: visible;\r\n    height: 7%;\r\n  `};\r\n`;\r\n\r\nexport const DragIndicatorIconWrapped = styled(DragIndicatorIcon)`\r\n  color: #dfe6e9;\r\n  vertical-align: middle;\r\n`;\r\n\r\nexport const DeleteOutlinedWrapped = styled(DeleteOutlined)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0 3rem;\r\n  color: #ce1b1b;\r\n`;\r\n\r\nexport const CaptionSpan = styled.span`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n`;\r\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable, DroppableProvided, DroppableStateSnapshot, DropResult } from 'react-beautiful-dnd';\r\nimport {\r\n  CaptionItemWrapped,\r\n  CaptionSpan,\r\n  DeleteOutlinedWrapped,\r\n  DragIndicatorIconWrapped,\r\n  ItemsWrapped,\r\n  NoticeBox,\r\n  SpanIconWrapped,\r\n} from './CaptionItems.styled';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchDeleteCaptionContents, fetchPutCaptionContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { Input, Popconfirm } from 'antd';\r\nimport { ContentsType } from '../../../../../types/Lss';\r\n\r\nconst grid: number = 2;\r\nconst getItemStyle = (isDragging: any, draggableStyle: any) => ({\r\n  userSelect: 'none',\r\n  padding: grid * 2,\r\n  margin: `0 0 ${grid}px 0`,\r\n  background: isDragging ? '#ecf0f188' : 'white',\r\n  borderRadius: '8px',\r\n  width: '100%',\r\n  ...draggableStyle,\r\n});\r\nconst reorder = (list: Array<any>, startIndex: number, endIndex: number) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n};\r\n//드래그끝나면 재정렬해야함\r\ntype CaptionType = Partial<ContentsType>;\r\n\r\ntype CaptionComponentType = {\r\n  captionList?: Array<CaptionType>;\r\n  innerText?: string;\r\n  uuid?: string;\r\n  selectedUuid?: string;\r\n};\r\n\r\nconst CaptionItems: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n  const [captionList, setCaptionList] = useState<Array<CaptionType>>(state[LSS_DETAIL].caption);\r\n  const [selectedItemUUID, setSelectedItemUUID] = useState('');\r\n  const [selectedCaption, setSelectedCaption] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const InputTextRef = useRef<Input>(null);\r\n  //drawer가 out되고 다시 나타나더라도 텍스트를 가지고있기 위해 존재하는 상태값\r\n\r\n  /**\r\n   * 자막의 내용, 삭제아이콘을 반환합니다\r\n   */\r\n  const CatpionContent: FC<CaptionComponentType> = ({ uuid, innerText }: CaptionComponentType) => {\r\n    const onConfirm = useCallback(\r\n      (e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n        e && e.stopPropagation();\r\n        const data = JSON.parse(JSON.stringify(captionList));\r\n        //선택된 요소를 삭제후 put을 전송합니다.\r\n        const result = data.filter((caption: ContentsType) => caption.uuid !== uuid);\r\n        dispatch(fetchDeleteCaptionContents(result));\r\n      },\r\n      [captionList]\r\n    );\r\n    const onCancel = useCallback((e: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => {\r\n      e && e.stopPropagation();\r\n      resetDefaultState();\r\n    }, []);\r\n    return (\r\n      <SpanIconWrapped>\r\n        <CaptionSpan data-set={'caption'}>{innerText}</CaptionSpan>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" onConfirm={onConfirm} onCancel={onCancel} okType=\"primary\">\r\n          <DeleteOutlinedWrapped />\r\n        </Popconfirm>\r\n      </SpanIconWrapped>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 내용을 수정할때 input박스가 나오는 기능\r\n   */\r\n  const ChangeModeComponent: FC = () => {\r\n    const onKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.code === 'Escape') {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        resetDefaultState();\r\n      }\r\n    }, []);\r\n    /**\r\n     * input 생성시 포커스맞춤\r\n     */\r\n    useEffect(() => {\r\n      const target = InputTextRef.current as Input;\r\n      target.setValue(selectedCaption);\r\n      target.focus({ preventScroll: true }); //preventscroll설정을 false로 할 경우 drawer 관련 랜더링 깨짐 증상이 있음\r\n    }, []);\r\n    return <Input ref={InputTextRef} maxLength={100} onPressEnter={onPressEnter} onKeyDown={onKeyDown}></Input>;\r\n  };\r\n\r\n  /**\r\n   * 선택아이템,아이템,editmode 값들을 초기화합니다.\r\n   */\r\n  const resetDefaultState = useCallback(() => {\r\n    setSelectedItemUUID('');\r\n    setSelectedCaption('');\r\n    setEditMode(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 현재 인풋이 아니라 drawer화면의 아무곳이나 클릭하면 수정을 취소하는 훅스함수\r\n   */\r\n  useEffect(() => {\r\n    const $el = document.querySelector('[data-caption=\"caption\"]');\r\n    $el &&\r\n      $el.addEventListener('click', (e) => {\r\n        const target = e.target as HTMLInputElement;\r\n        //input요소를 클릭하면 그냥 함수종료\r\n        if (target.classList.contains('ant-input')) {\r\n          return;\r\n        }\r\n        resetDefaultState();\r\n      });\r\n  }, []);\r\n\r\n  /**\r\n   * uuid 생성하는 훅스\r\n   */\r\n  useEffect(() => {\r\n    const data = JSON.parse(JSON.stringify(state[LSS_DETAIL].caption));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n  }, [state[LSS_DETAIL].caption]);\r\n\r\n  /**\r\n   * 자막을 클릭하면 입력상태를 변경함\r\n   */\r\n  const onCaptionClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, item: CaptionType) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    //선택된 아이템이 다르면 편집모드를 끄고, 현재 편집모드일 경우 다른곳을 클릭하면 편집모드를 취소시킨다.\r\n    const target = e.target as HTMLElement;\r\n    //자막이 들어있는 span이 아니라면 모두 취소\r\n    if (target.dataset.set !== 'caption') {\r\n      return;\r\n    }\r\n    // 다른 아이템을 클릭하면 입력상태를 초기화시킴\r\n    if (selectedItemUUID !== item.uuid && editMode) {\r\n      resetDefaultState();\r\n      return;\r\n    }\r\n    //선택된아이템을 설정하고 편집모드로 설정함\r\n    if (item.uuid) {\r\n      setSelectedItemUUID(item.uuid);\r\n      setSelectedCaption(item.content as string);\r\n      setEditMode(true);\r\n    }\r\n  };\r\n  /**\r\n   * 엔터 클릭시 수정된 내용으로 서버로 전송\r\n   */\r\n  const onPressEnter = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    //빈값이면 그냥 리턴\r\n    const target = e.target as HTMLTextAreaElement;\r\n    const inputText = target.value;\r\n    if (inputText.trim() === '') {\r\n      return;\r\n    }\r\n    const data = JSON.parse(JSON.stringify(captionList));\r\n    data.forEach((caption: CaptionType) => {\r\n      if (selectedItemUUID === caption.uuid) {\r\n        caption.content = inputText;\r\n      }\r\n    });\r\n    dispatch(fetchPutCaptionContents(data));\r\n    resetDefaultState();\r\n  };\r\n\r\n  /**\r\n   * 드래그앤드랍 정렬후 uuid 재생성하고 서버로 전송함\r\n   */\r\n  const onDragEnd = (result: DropResult): void => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(captionList, result.source.index, result.destination.index);\r\n    const data = JSON.parse(JSON.stringify(fixedItems));\r\n    data.forEach((caption: CaptionType) => {\r\n      caption['uuid'] = uuid();\r\n    });\r\n    setCaptionList(data);\r\n    resetDefaultState();\r\n    dispatch(fetchPutCaptionContents(data));\r\n  };\r\n  return (\r\n    <>\r\n      <NoticeBox isEdit={editMode}>enter키를 누르면 내용을 수정합니다, esc키를 누르면 수정을 취소합니다</NoticeBox>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={'droppable'} key={`droppable`}>\r\n          {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\r\n            <div {...provided.droppableProps} ref={provided.innerRef}>\r\n              {captionList.map((caption, index) => {\r\n                return (\r\n                  <CaptionItemWrapped\r\n                    key={`caption_${index}`}\r\n                    onClick={(e) => {\r\n                      onCaptionClick(e, caption);\r\n                    }}\r\n                  >\r\n                    <Draggable key={`key-${caption.uuid}`} draggableId={`id-${index}`} index={index}>\r\n                      {(provided, snapshot) => (\r\n                        <div ref={provided.innerRef} {...provided.draggableProps} style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}>\r\n                          <ItemsWrapped isSelected={editMode && selectedItemUUID !== caption.uuid ? true : false}>\r\n                            <span {...provided.dragHandleProps}>\r\n                              <DragIndicatorIconWrapped />\r\n                            </span>\r\n                            {selectedItemUUID === caption.uuid ? <ChangeModeComponent /> : <CatpionContent innerText={caption.content} uuid={caption.uuid} />}\r\n                          </ItemsWrapped>\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  </CaptionItemWrapped>\r\n                );\r\n              })}\r\n              <div>{provided.placeholder}</div>\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CaptionItems;\r\n","import React, { FC, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchPostCaptionContents, LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { CaptionWrapped, DrawerWrapped, IconWrapped, InnerWrapped, SettingIconWrapped, Wrapped } from './Caption.styled';\r\nimport DrawerTitle from './CaptionDrawTitle';\r\nimport CaptionItems from './CaptionItems';\r\n\r\ntype CaptionType = {\r\n  isVisible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nconst Caption: FC<CaptionType> = ({ isVisible, setIsVisible }) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  const onClickAddIcon = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      dispatch(\r\n        fetchPostCaptionContents({\r\n          lss_master_idx: state[LSS_DETAIL].idx,\r\n          lss_content_idx: 0,\r\n          is_used: 'N',\r\n          type: 'CAPTION',\r\n          content: '자막',\r\n        })\r\n      );\r\n    },\r\n    [state[LSS_DETAIL].idx]\r\n  );\r\n  /**\r\n   * drawer 관련 이벤트핸들러\r\n   */\r\n  const onClick = useCallback(() => {\r\n    setIsVisible(true);\r\n  }, []);\r\n  /**\r\n   * drawer 관련 이벤트핸들러\r\n   */\r\n  const onClose = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <IconWrapped isActive={isVisible} onClick={onClick}>\r\n          <SettingIconWrapped twoToneColor={'#3b80ff'} />\r\n        </IconWrapped>\r\n        <CaptionWrapped>등록된 자막 : {state[LSS_DETAIL].caption.length}</CaptionWrapped>\r\n      </InnerWrapped>\r\n      <DrawerWrapped\r\n        title={<DrawerTitle onClick={onClickAddIcon} />}\r\n        placement=\"right\"\r\n        closable={true}\r\n        visible={isVisible}\r\n        getContainer={false}\r\n        onClose={onClose}\r\n        width={'100%'}\r\n        maskStyle={{\r\n          backgroundColor: 'rgba(0,0,0,0)',\r\n        }}\r\n        data-caption={'caption'}\r\n      >\r\n        <CaptionItems />\r\n      </DrawerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Caption;\r\n","import { Button, DatePicker, Radio, Select } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const TitleWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const SelectWrapped = styled(Select)`\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n`;\r\n\r\nexport const RadioWrapped = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const RadioAntWrapped = styled(Radio)`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const RadioButtonAntWrapped = styled(Radio.Button)`\r\n  width: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0.5rem 0;\r\n`;\r\n\r\nexport const RadioTitle = styled.h2`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 5rem;\r\n`;\r\n\r\nexport const ExplanWrapped = styled.div`\r\n  min-height: 50px;\r\n  max-height: 50px;\r\n  font-weight: 100;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MonthWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const WeeklyWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FortnightlyWrapped = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const BaseDateWrapped = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  flex-shrink: 1.5;\r\n`;\r\n\r\nexport const ChangeButton = styled(Button)`\r\n  height: 70%;\r\n  width: 100%;\r\n`;\r\n\r\nexport const RadioGroupWrapped = styled(Radio.Group)`\r\n  display: flex;\r\n`;\r\nexport const DatePickerWrapped = styled(DatePicker)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const TitleTextWrapped = styled.p`\r\n  margin: auto;\r\n`;\r\n\r\nexport const SelectGroupWrapped = styled.div``;\r\n\r\nexport const ArticleWrapped = styled.article``;\r\n\r\nexport const FooterWrapped = styled.footer``;\r\n\r\nexport const MainWrapped = styled.main`\r\n  font-family: bmjua;\r\n`;\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default [\r\n  {\r\n    key: 0,\r\n    value: 'SUNDAY',\r\n    label: '일요일',\r\n  },\r\n  { key: 1, value: 'MONDAY', label: '월요일' },\r\n  {\r\n    key: 2,\r\n    value: 'TUESDAY',\r\n    label: '화요일',\r\n  },\r\n  {\r\n    key: 3,\r\n    value: 'WEDNESDAY',\r\n    label: '수요일',\r\n  },\r\n  {\r\n    key: 4,\r\n    value: 'THURSDAY',\r\n    label: '목요일',\r\n  },\r\n  {\r\n    key: 5,\r\n    value: 'FRIDAY',\r\n    label: '금요일',\r\n  },\r\n  {\r\n    key: 6,\r\n    value: 'SATURDAY',\r\n    label: '토요일',\r\n  },\r\n];\r\n","import { useEffect, useState } from 'react';\r\nimport { DayOfTheWeek } from '../../../../../../types/Lss';\r\n\r\n/**\r\n * 요일에 해당하는 키값을 주입하여 반환합니다.\r\n */\r\nconst useGenerateDayOfTheWeekKey = (dayOfTheWeek: DayOfTheWeek) => {\r\n  const [keyOfWeek, setKeyOfWeek] = useState<Array<number>>([]);\r\n\r\n  useEffect(() => {\r\n    if (dayOfTheWeek.length > 0) {\r\n      const weekData: Array<number> = [];\r\n      dayOfTheWeek.forEach((item) => {\r\n        if (item === 'SUNDAY') {\r\n          weekData.push(0);\r\n        } else if (item === 'MONDAY') {\r\n          weekData.push(1);\r\n        } else if (item === 'TUESDAY') {\r\n          weekData.push(2);\r\n        } else if (item === 'WEDNESDAY') {\r\n          weekData.push(3);\r\n        } else if (item === 'THURSDAY') {\r\n          weekData.push(4);\r\n        } else if (item === 'FRIDAY') {\r\n          weekData.push(5);\r\n        } else if (item === 'SATURDAY') {\r\n          weekData.push(6);\r\n        } else {\r\n        }\r\n      });\r\n      setKeyOfWeek(weekData);\r\n    }\r\n  }, [dayOfTheWeek]);\r\n\r\n  return keyOfWeek;\r\n};\r\n\r\nexport default useGenerateDayOfTheWeekKey;\r\n","import {\r\n  Divider,\r\n  InputNumber,\r\n  Modal,\r\n  Popconfirm,\r\n  Radio,\r\n  RadioChangeEvent,\r\n  SelectProps,\r\n  Tooltip,\r\n  Typography,\r\n} from 'antd';\r\nimport Paragraph from 'antd/lib/typography/Paragraph';\r\nimport moment from 'moment';\r\nimport React, {\r\n  FC,\r\n  memo,\r\n  useCallback,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  fetchPutChangeHoliday,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n} from '../../../../../slice/LssSlice';\r\nimport {\r\n  DayOfTheWeek,\r\n  HolidayInfoType,\r\n  PutHolidayType,\r\n} from '../../../../../types/Lss';\r\nimport {\r\n  ArticleWrapped,\r\n  BaseDateWrapped,\r\n  ChangeButton,\r\n  DatePickerWrapped,\r\n  ExplanWrapped,\r\n  FooterWrapped,\r\n  FortnightlyWrapped,\r\n  MainWrapped,\r\n  MonthWrapped,\r\n  RadioAntWrapped,\r\n  RadioButtonAntWrapped,\r\n  RadioGroupWrapped,\r\n  RadioTitle,\r\n  RadioWrapped,\r\n  SelectGroupWrapped,\r\n  SelectWrapped,\r\n  TitleTextWrapped,\r\n  TitleWrapped,\r\n  WeeklyWrapped,\r\n} from './HolidaySettingModal.styled';\r\nimport styles from './HolidaySettingModal.module.scss';\r\n\r\nimport options from './options';\r\nimport useGenerateDayOfTheWeekKey from './hooks/useGenerateDayOfTheWeekKey';\r\n\r\ntype HolidaySettingModalType = {\r\n  visible: boolean;\r\n  //외부에서 visible을 바꿀수있는 이벤트를 추가해야함.\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\nconst HolidaySettingModal: FC<HolidaySettingModalType> = ({\r\n  visible,\r\n  setIsVisible,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector(selectLssDetail);\r\n\r\n  //정규 휴무일을 위한 상태값.\r\n  const [holidayInfo, setHolidayInfo] = useState<HolidayInfoType>({\r\n    type: '임시휴일',\r\n    date: 'month',\r\n    period1: 'day',\r\n    period2: moment().day(0).format('YYYY-MM-DD'),\r\n    value: ['MONDAY'],\r\n  });\r\n  const [prevHolidayInfo, setPrevHolidayInfo] = useState<HolidayInfoType>({\r\n    type: '임시휴일',\r\n    date: 'month',\r\n    period1: 'day',\r\n    period2: moment().day(0).format('YYYY-MM-DD'),\r\n    value: ['MONDAY'],\r\n  });\r\n  const [daily, setDaily] = useState(10);\r\n  //월요일,화요일 ... 일요일 배열을 의미하는 상태값\r\n  const [dayOfWeek, setDayOfWeek] = useState<DayOfTheWeek>(['MONDAY']);\r\n\r\n  //격주표시를위한 상태값\r\n  const WeekCnt = useRef(0);\r\n  const OddEven = useRef<'Odd' | 'Even'>('Odd');\r\n\r\n  //요일에 맞는 키값을 생성\r\n  const keyOfWeek = useGenerateDayOfTheWeekKey(holidayInfo.value);\r\n  const { Text } = Typography;\r\n\r\n  const onCancelHolidayInfo = useCallback(() => {\r\n    setHolidayInfo(prevHolidayInfo);\r\n  }, [holidayInfo, prevHolidayInfo]);\r\n  const getPopupContainer = useCallback(\r\n    (e: HTMLElement) => e.parentElement as HTMLElement,\r\n    []\r\n  );\r\n  /**\r\n   * 설정값이 변경되면 새롭게 상태값을 갱신한다.\r\n   */\r\n  useEffect(() => {\r\n    const result: HolidayInfoType = {\r\n      type: '임시휴일',\r\n      date: state[LSS_DETAIL].date,\r\n      period1: state[LSS_DETAIL].period1,\r\n      period2: moment().day(0).format('YYYY-MM-DD'), //기준일을 뜻하는 값입니다.\r\n      value: state[LSS_DETAIL].value,\r\n    };\r\n    if (state[LSS_DETAIL].date === 'month') {\r\n      setDaily(state[LSS_DETAIL].period2 as number);\r\n    } else {\r\n      setDayOfWeek(state[LSS_DETAIL].value);\r\n    }\r\n    setHolidayInfo(result);\r\n    setPrevHolidayInfo(result);\r\n  }, [\r\n    state[LSS_DETAIL].date,\r\n    state[LSS_DETAIL].period1,\r\n    state[LSS_DETAIL].period2,\r\n    state[LSS_DETAIL].value,\r\n  ]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 주간 단위로 선택시 매주 / 격주 선택하는 컴포넌트이다.\r\n   */\r\n  const SelectComponent: FC = () => {\r\n    const onChange = (e: DayOfTheWeek) => {\r\n      if (e.length === 0) {\r\n        const init = [\r\n          'SUNDAY',\r\n          'MONDAY',\r\n          'TUESDAY',\r\n          'WEDNESDAY',\r\n          'THURSDAY',\r\n          'FRIDAY',\r\n          'SATURDAY',\r\n        ];\r\n        setDayOfWeek(init);\r\n        setHolidayInfo({ ...holidayInfo, value: init });\r\n        return;\r\n      }\r\n      //\r\n      setDayOfWeek(e);\r\n      setHolidayInfo({ ...holidayInfo, value: e });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {/* any로 일단 처리함..  antd를 styled로 감쌀 경우 아래와 같은 상황이 발생함 */}\r\n        <SelectWrapped<FC<SelectProps<any>>>\r\n          getPopupContainer={getPopupContainer}\r\n          mode='multiple'\r\n          size={'large'}\r\n          placeholder='휴관일을 선택해주세요'\r\n          onChange={(e) => {\r\n            if (e.length === 0) {\r\n              const init = [\r\n                'SUNDAY',\r\n                'MONDAY',\r\n                'TUESDAY',\r\n                'WEDNESDAY',\r\n                'THURSDAY',\r\n                'FRIDAY',\r\n                'SATURDAY',\r\n              ];\r\n              setDayOfWeek(init);\r\n              setHolidayInfo({ ...holidayInfo, value: init });\r\n              return;\r\n            }\r\n            //\r\n            setDayOfWeek(e);\r\n            setHolidayInfo({ ...holidayInfo, value: e });\r\n          }}\r\n          value={holidayInfo.value}\r\n          options={options}\r\n        ></SelectWrapped>\r\n      </>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 매주 / 격주 라디오버튼으로 구분짓는 컴포넌트.\r\n   */\r\n  const RadioComponent: FC = () => {\r\n    return (\r\n      <Radio.Group\r\n        onChange={(e) => {\r\n          setHolidayInfo({ ...holidayInfo, period1: e.target.value });\r\n        }}\r\n        defaultValue={holidayInfo.period1}\r\n      >\r\n        <RadioButtonAntWrapped value={'weekly'}>매주</RadioButtonAntWrapped>\r\n        <RadioButtonAntWrapped value={'fortnightly'}>\r\n          격주\r\n        </RadioButtonAntWrapped>\r\n      </Radio.Group>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 격주 선택시 나오는 미니 달력\r\n   */\r\n  const BaseDayComponent: FC = () => {\r\n    const onChange = (e: moment.Moment | null) => {\r\n      if (e) {\r\n        setHolidayInfo({ ...holidayInfo, period2: e?.format('YYYY-MM-DD') });\r\n      }\r\n    };\r\n\r\n    /**\r\n     * 일요일이 아니면 비활성화 시킨다.\r\n     */\r\n    const onDisabledDate = (current: moment.Moment) => {\r\n      return current.day() === 0 ? false : true;\r\n    };\r\n\r\n    /**\r\n     * 격주 선택시 랜더링되는 함수\r\n     */\r\n    const onDateRender = (current: moment.Moment): JSX.Element => {\r\n      const date = current.date();\r\n      const day = current.day();\r\n      const MONDAY = 0;\r\n\r\n      // 일주일간격으로 even | odd로 변경하는 로직\r\n      if (WeekCnt.current >= 7) {\r\n        OddEven.current = 'Even';\r\n      } else {\r\n        OddEven.current = 'Odd';\r\n      }\r\n      WeekCnt.current = WeekCnt.current + 1;\r\n      WeekCnt.current = WeekCnt.current % 14;\r\n      if (WeekCnt.current >= 14) {\r\n        OddEven.current = 'Odd';\r\n      }\r\n      // 일요일이면\r\n      if (day === MONDAY) {\r\n        return (\r\n          <div\r\n            key={current.format('YYYY-MM-DD')}\r\n            className={`ant-picker-cell-inner ${styles.sunday} ${styles.day}`}\r\n            data-oddeven={OddEven.current}\r\n            //마우스가 올라오면 odd면 파란색\r\n            onMouseOver={(e) => {\r\n              const target = e.target as HTMLDivElement;\r\n              const oddOrEven = target.dataset.oddeven;\r\n              const color = oddOrEven === 'Odd' ? '#82baee' : '#e45a5a';\r\n              const $el = document.querySelectorAll(\r\n                `.ant-picker-cell-inner[data-oddeven=${oddOrEven}`\r\n              );\r\n              $el.forEach((item) => {\r\n                const target = item as HTMLElement;\r\n                //일요일에 휴무일이 존재하면 색을 그린다.\r\n                const isExistSunday = keyOfWeek.includes(day);\r\n                if (isExistSunday) {\r\n                  target && target.style.setProperty('background-color', color);\r\n                  return;\r\n                }\r\n                //일요일은 색상을 그리지 않는다.\r\n                if (target.classList.contains(styles.sunday)) {\r\n                  return;\r\n                }\r\n                //백그라운드 색을 그린다\r\n                target && target.style.setProperty('background-color', color);\r\n              });\r\n            }}\r\n            //마우스를 나가면 다시 컬러를 원색으로 돌림\r\n            onMouseOut={() => {\r\n              const $el2 = document.querySelectorAll(\r\n                '.ant-picker-cell-inner[data-oddeven=Odd],.ant-picker-cell-inner[data-oddeven=Even]'\r\n              );\r\n              $el2.forEach((item) => {\r\n                const result = item as HTMLDivElement;\r\n                result &&\r\n                  result.style.setProperty('background-color', '#f5f5f5');\r\n                result && result.style.setProperty('color', 'black');\r\n              });\r\n            }}\r\n          >\r\n            {date}\r\n          </div>\r\n        );\r\n      } else {\r\n        //기준일에서 선택한 요일이 존재한다면\r\n        //ex) 월요일, 화요일이 존재하면 그려진다.\r\n        const isExist = keyOfWeek.includes(day);\r\n        if (isExist) {\r\n          return (\r\n            <div\r\n              key={current.format('YYYY-MM-DD')}\r\n              className='ant-picker-cell-inner'\r\n              data-oddeven={OddEven.current}\r\n            >\r\n              {date}\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n      return (\r\n        // 평범한 셀을 렌더링한다.\r\n        <div\r\n          key={current.format('YYYY-MM-DD')}\r\n          className='ant-picker-cell-inner'\r\n        >\r\n          {date}\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      <Tooltip placement='top' title={'기준일 설정'}>\r\n        <BaseDateWrapped>\r\n          <DatePickerWrapped\r\n            getPopupContainer={getPopupContainer}\r\n            className={styles.picker}\r\n            defaultValue={moment().day(0)}\r\n            value={moment(holidayInfo.period2)}\r\n            onChange={onChange}\r\n            disabledDate={onDisabledDate}\r\n            dateRender={onDateRender}\r\n          />\r\n        </BaseDateWrapped>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  const TitleComponent: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitleTextWrapped>휴관일 설정</TitleTextWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const onRadioChange = (e: RadioChangeEvent) => {\r\n    const date = e.target.value;\r\n    const period1 = date === 'month' ? 'day' : 'weekly';\r\n    const value = date === 'week' ? dayOfWeek : [daily.toString()];\r\n    setHolidayInfo({\r\n      ...holidayInfo,\r\n      date: date,\r\n      period1: period1,\r\n      value: value,\r\n    });\r\n  };\r\n  const onChangeConfirm = () => {\r\n    const result: Partial<PutHolidayType> = {};\r\n    result.type = '정기휴일';\r\n    result.date = holidayInfo.date; //month, week\r\n    result.period1 = holidayInfo.period1;\r\n    result.period2 = '';\r\n    if (holidayInfo.period1 === 'day') {\r\n      result.period2 = '';\r\n      result.value = [daily.toString()]; // 월간으로 설정되면 1부터 31일이 설정된다.\r\n    } else {\r\n      result.period2 = holidayInfo.period2; //격주로 설정시 들어가는 기준값.\r\n      result.value = holidayInfo.value;\r\n    }\r\n    if (result) {\r\n      dispatch(fetchPutChangeHoliday(result as PutHolidayType));\r\n      setPrevHolidayInfo(holidayInfo);\r\n      setIsVisible(false);\r\n    }\r\n  };\r\n  return (\r\n    <Modal\r\n      title={<TitleComponent />}\r\n      visible={visible}\r\n      onCancel={handleCancel}\r\n      footer={[]}\r\n    >\r\n      <MainWrapped>\r\n        {/* 월간, 주간으로 조건부 랜더링되는 컴포넌트 */}\r\n        <ArticleWrapped>\r\n          {/* 월간 주간을 나누는 라디오 컴포넌트 */}\r\n          <RadioWrapped>\r\n            <RadioGroupWrapped\r\n              onChange={onRadioChange}\r\n              value={holidayInfo.date}\r\n            >\r\n              <RadioAntWrapped value={'month'}>\r\n                <RadioTitle>월간</RadioTitle>\r\n              </RadioAntWrapped>\r\n              <RadioAntWrapped value={'week'}>\r\n                <RadioTitle>주간</RadioTitle>\r\n              </RadioAntWrapped>\r\n            </RadioGroupWrapped>\r\n          </RadioWrapped>\r\n          <Divider />\r\n          {/* 월간/주간 값으로 조건부 랜더링되는 설명 부분 컴포넌트 */}\r\n          <ExplanWrapped>\r\n            {/* 월간 일 경우 */}\r\n            {holidayInfo.date === 'month' && (\r\n              <>\r\n                <Paragraph>\r\n                  매월{' '}\r\n                  <Text keyboard strong={true}>\r\n                    {daily}\r\n                  </Text>\r\n                  일을 휴관일로 설정합니다.\r\n                </Paragraph>\r\n                <Paragraph>\r\n                  그 달에 존재하지 않는 일은 해당 월의{' '}\r\n                  <Text underline>마지막 일</Text>로 설정됩니다.\r\n                </Paragraph>\r\n              </>\r\n            )}\r\n            {/* 주간이면서 매주 일 경우 */}\r\n            {holidayInfo.date === 'week' && holidayInfo.period1 === 'weekly' && (\r\n              <>\r\n                <Paragraph>\r\n                  설정한 요일을 <Text keyboard>매주</Text> 휴관일로 설정합니다.\r\n                </Paragraph>\r\n                <Paragraph>\r\n                  요일은 일요일 ~ 토요일 단일, 복수 선택이 가능합니다\r\n                </Paragraph>\r\n              </>\r\n            )}\r\n            {/* 주간이면서 격주 일 경우 */}\r\n            {holidayInfo.date === 'week' &&\r\n              holidayInfo.period1 === 'fortnightly' && (\r\n                <>\r\n                  <Paragraph>\r\n                    설정한 요일을 <Text keyboard>격주</Text> 휴관일로\r\n                    설정합니다.\r\n                  </Paragraph>\r\n                  <Paragraph>\r\n                    달력에서 격주 휴관일을 미리 확인하고, 시작일(기준일)을{' '}\r\n                    <Text keyboard>설정</Text>해주세요\r\n                  </Paragraph>\r\n                </>\r\n              )}\r\n          </ExplanWrapped>\r\n          <Divider />\r\n          <SelectGroupWrapped>\r\n            {holidayInfo.date === 'month' && (\r\n              <MonthWrapped>\r\n                <Text strong>휴관일을 설정해주세요</Text>\r\n                <InputNumber\r\n                  onChange={(value) => {\r\n                    setDaily(value);\r\n                  }}\r\n                  size='large'\r\n                  min={1}\r\n                  max={31}\r\n                  defaultValue={daily}\r\n                />\r\n              </MonthWrapped>\r\n            )}\r\n            {holidayInfo.date === 'week' && holidayInfo.period1 === 'weekly' && (\r\n              <WeeklyWrapped>\r\n                <RadioComponent />\r\n                <SelectComponent />\r\n              </WeeklyWrapped>\r\n            )}\r\n            {holidayInfo.date === 'week' &&\r\n              holidayInfo.period1 === 'fortnightly' && (\r\n                <FortnightlyWrapped>\r\n                  <RadioComponent />\r\n                  <SelectComponent />\r\n                  <BaseDayComponent />\r\n                </FortnightlyWrapped>\r\n              )}\r\n          </SelectGroupWrapped>\r\n          <Divider />\r\n        </ArticleWrapped>\r\n\r\n        {/* 변경 버튼이 있는 Footer */}\r\n        <FooterWrapped>\r\n          <Popconfirm\r\n            title='변경 하시겠습니까?'\r\n            okText='변경'\r\n            onCancel={onCancelHolidayInfo}\r\n            onConfirm={onChangeConfirm}\r\n            okType='primary'\r\n          >\r\n            <ChangeButton\r\n              type={holidayInfo !== prevHolidayInfo ? 'primary' : 'default'}\r\n            >\r\n              변경\r\n            </ChangeButton>\r\n          </Popconfirm>\r\n        </FooterWrapped>\r\n      </MainWrapped>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default HolidaySettingModal;\r\n","import { AnimationControls } from 'framer-motion/types/animation/types';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n *\r\n * @param framterControl 애니메이션 컨트롤러 객체\r\n * @param y y축으로 이동할 좌표값\r\n * @param trigger 적용될 트리거 boolean\r\n * @returns\r\n */\r\nconst useMotionOpacity = (framterControl: AnimationControls, trigger: boolean) => {\r\n  useEffect(() => {\r\n    if (trigger) {\r\n      framterControl.start({\r\n        opacity: 1,\r\n        scale: 1,\r\n        transition: { duration: 0.4 },\r\n      });\r\n    } else {\r\n      framterControl.start({\r\n        opacity: 0,\r\n        scale: 0,\r\n        transition: { duration: 0.4 },\r\n      });\r\n    }\r\n  }, [trigger]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useMotionOpacity;\r\n","import { Button, Divider, Input } from 'antd';\r\nimport { motion } from 'framer-motion';\r\nimport styled from 'styled-components';\r\n\r\nexport const DateWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const TitleWrapped = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\nexport const RangePickerWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InnerColumnButton = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 1rem;\r\n  flex-grow: 0.1;\r\n`;\r\n\r\nexport const TitleTextWrapped = styled.p`\r\n  margin: auto;\r\n`;\r\n\r\nexport const DivideWrapped = styled(Divider)`\r\n  height: 100px;\r\n`;\r\n\r\nexport const ButtonWrapped = styled(Button)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const InputWrapped = styled(Input)`\r\n  width: 100%;\r\n`;\r\n// style={{ fontFamily: 'bmjua' }}\r\nexport const MotionDivWrapped = styled(motion.div)`\r\n  font-family: 'bmjua';\r\n`;\r\n","import { AnimationControls } from 'framer-motion/types/animation/types';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n *\r\n * @param framterControl 애니메이션 컨트롤러 객체\r\n * @param y y축으로 이동할 좌표값\r\n * @param trigger 적용될 트리거 (날짜 문자열로 날짜가 변경되면 동작함)\r\n * @returns\r\n */\r\nconst useMotionMovingAxisY = (framterControl: AnimationControls, y: number, trigger: string) => {\r\n  useEffect(() => {\r\n    framterControl.set({\r\n      y: y,\r\n      transition: { duration: 0.3 },\r\n    });\r\n    framterControl.start({\r\n      y: 0,\r\n      transition: { duration: 0.3 },\r\n    });\r\n  }, [trigger]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default useMotionMovingAxisY;\r\n","import { DatePicker, Divider, Modal, Popconfirm, Row } from 'antd';\r\nimport { motion, useAnimation } from 'framer-motion';\r\nimport moment from 'moment';\r\nimport React, { FC, memo, useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport useMotionOpacity from './hooks/useMotionOpacity';\r\nimport { fetchPostHoliday } from '../../../../../slice/LssSlice';\r\nimport { PostHolidayType } from '../../../../../types/Lss';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport {\r\n  ButtonWrapped,\r\n  DateWrapped,\r\n  DivideWrapped,\r\n  InnerColumnButton,\r\n  InputWrapped,\r\n  MotionDivWrapped,\r\n  RangePickerWrapped,\r\n  TitleTextWrapped,\r\n  TitleWrapped,\r\n} from './HolidayAddModal.styled';\r\nimport useMotionMovingAxisY from './hooks/useMotionMovingAxisY';\r\n\r\ntype HolidayAddModalType = {\r\n  visible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  selectedDate?: string;\r\n};\r\n\r\ntype SelectedStartDayAndEndDayType = Array<string>;\r\n\r\nconst HolidayAddModal: FC<HolidayAddModalType> = ({ visible, setIsVisible, selectedDate }) => {\r\n  const dispatch = useDispatch();\r\n  const dateFormat = 'YYYY/MM/DD';\r\n  const { RangePicker } = DatePicker;\r\n\r\n  //임시공휴일 추가를 위한 상태값\r\n  const [addForHolidayDate, setAddForHolidayDate] = useState<SelectedStartDayAndEndDayType>([\r\n    moment(selectedDate).format('YYYY-MM-DD').toString(),\r\n    moment(selectedDate).format('YYYY-MM-DD').toString(),\r\n  ]);\r\n  const startMonth = addForHolidayDate[0].split('-')[1]; //시작 달\r\n  const startDay = addForHolidayDate[0].split('-')[2]; //시작 일\r\n  const endMonth = addForHolidayDate[1].split('-')[1]; //종료 달\r\n  const endDay = addForHolidayDate[1].split('-')[2]; //종료 일\r\n  const [addForInputDesc, setAddForInputDesc] = useState('');\r\n\r\n  /**\r\n   * 달력에서 선택된 날짜를 기반으로 addForInputDesc문자열로 넣음\r\n   */\r\n  useEffect(() => {\r\n    const selectedDateInCalendar = moment(selectedDate).format('YYYY-MM-DD').toString();\r\n    setAddForHolidayDate([selectedDateInCalendar, selectedDateInCalendar]);\r\n  }, [selectedDate]);\r\n\r\n  /* \r\n  모션을 위한 기능\r\n  */\r\n  const ModalControls = useAnimation();\r\n  const StartTitleControls = useAnimation();\r\n  const EndTitleControls = useAnimation();\r\n  useMotionOpacity(ModalControls, visible);\r\n  useMotionMovingAxisY(StartTitleControls, 50, addForHolidayDate[0]);\r\n  useMotionMovingAxisY(EndTitleControls, 50, addForHolidayDate[1]);\r\n\r\n  /**\r\n   * 모달 닫는 이벤트 핸들러\r\n   */\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 설명을 바꾸는 이벤트 핸들러\r\n   */\r\n  const onChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setAddForInputDesc(e.target.value);\r\n  }, []);\r\n\r\n  /**\r\n   * 임시 공휴일 추가를 위한 이벤트 핸들러\r\n   */\r\n  const onAddConfirm = () => {\r\n    const result: Partial<PostHolidayType> = {};\r\n    result.type = '임시휴일';\r\n    result.desc = addForInputDesc === '' ? '임시휴일' : addForInputDesc;\r\n    result.date = {\r\n      startDay: addForHolidayDate[0],\r\n      endDay: addForHolidayDate[1],\r\n    };\r\n    dispatch(fetchPostHoliday(result as PostHolidayType));\r\n    setIsVisible(false); //모달 닫기\r\n    setAddForInputDesc(''); //초기화\r\n  };\r\n\r\n  const Title: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitleTextWrapped>임시휴일 추가</TitleTextWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const getPopupContainer = useCallback((e: HTMLElement) => e.parentElement as HTMLElement, []);\r\n  return (\r\n    <Modal onCancel={handleCancel} visible={visible} title={<Title />} footer={[]}>\r\n      <MotionDivWrapped animate={ModalControls}>\r\n        <div>\r\n          <Row justify={'space-around'}>\r\n            <DateWrapped>\r\n              <h1>시작일</h1>\r\n              <motion.h1 animate={StartTitleControls}>\r\n                {startMonth}/{startDay}\r\n              </motion.h1>\r\n            </DateWrapped>\r\n            <DivideWrapped type={'vertical'} />\r\n            <DateWrapped>\r\n              <h1>종료일</h1>\r\n              <motion.h1 animate={EndTitleControls}>\r\n                {endMonth}/{endDay}\r\n              </motion.h1>\r\n            </DateWrapped>\r\n          </Row>\r\n          <RangePickerWrapped>\r\n            <RangePicker\r\n              getPopupContainer={getPopupContainer}\r\n              style={{ width: '100%' }}\r\n              value={[moment(addForHolidayDate[0]), moment(addForHolidayDate[1])]}\r\n              format={dateFormat}\r\n              onCalendarChange={(e) => {\r\n                if (e) {\r\n                  if (!!e[0] && !!e[1]) {\r\n                    const days = e as Array<moment.Moment>;\r\n                    const startday = days[0].format('YYYY-MM-DD');\r\n                    const endDay = days[1].format('YYYY-MM-DD');\r\n                    setAddForHolidayDate([startday, endDay]);\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n          </RangePickerWrapped>\r\n          <Divider />\r\n          <FormGuideComponent title=\"설명\" guide=\"임시휴관일에 대한 설명을 적어주세요 (최대 9글자)\" />\r\n\r\n          <Row justify={'space-around'}>\r\n            <InputWrapped value={addForInputDesc} placeholder=\"설명을 입력하세요 (최대 9글자)\" maxLength={9} onChange={onChange}></InputWrapped>\r\n          </Row>\r\n        </div>\r\n        <InnerColumnButton>\r\n          <Popconfirm title=\"추가 하시겠습니까?\" okText=\"추가\" onConfirm={onAddConfirm} okType=\"primary\">\r\n            <ButtonWrapped type=\"primary\">추가</ButtonWrapped>\r\n          </Popconfirm>\r\n        </InnerColumnButton>\r\n      </MotionDivWrapped>\r\n    </Modal>\r\n  );\r\n};\r\nexport default HolidayAddModal;\r\n","import { useEffect, useState } from 'react';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { HolidayProcessType, HolidayType } from '../../../../../../types/Lss';\r\n\r\n/**\r\n *\r\n * @param Holiday 정기,임시공휴일배열\r\n * @param Legal 법정공휴일배열\r\n * @returns 하나의 휴가배열로 생성하면서 uuid를 할당하여 반환한다.\r\n */\r\nconst useGenerateHolidayUuid = (Holiday: Array<HolidayType>, Legal: Array<HolidayType>) => {\r\n  const [holidayArray, setHolidayArray] = useState<Array<HolidayProcessType>>([]);\r\n\r\n  useEffect(() => {\r\n    const temp = [...Holiday, ...Legal];\r\n    const result: Array<HolidayProcessType> = temp.map((item) => {\r\n      let badge: 'success' | 'processing' | 'error' | 'default' | 'warning' = 'success';\r\n      if (item.type === '임시휴일') {\r\n        badge = 'warning';\r\n      } else if (item.type === '법정공휴일') {\r\n        badge = 'error';\r\n      }\r\n      const data: HolidayProcessType = {\r\n        ...item,\r\n        uuid: uuid(),\r\n        badgeType: badge,\r\n      };\r\n      return data;\r\n    });\r\n\r\n    setHolidayArray(result);\r\n  }, [Holiday, Legal]);\r\n\r\n  return holidayArray;\r\n};\r\n\r\nexport default useGenerateHolidayUuid;\r\n","/**\r\n *\r\n * @param startDate\r\n * @param endDate\r\n * @returns 시작과 종료일의 요일을 배열의 형태로 반환합니다. (ex [\"2021-04-10\",\"2021-04-11\",\"2021-0412\"]\r\n */\r\nfunction getDatesStartToLast(startDate: string, endDate: string) {\r\n  const regex = RegExp(/^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/);\r\n  if (!(regex.test(startDate) && regex.test(endDate))) return undefined;\r\n  const result = [];\r\n  const curDate = new Date(startDate);\r\n  while (curDate <= new Date(endDate)) {\r\n    result.push(curDate.toISOString().split('T')[0]);\r\n    curDate.setDate(curDate.getDate() + 1);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport default getDatesStartToLast;\r\n","import { getDatesStartToLast } from '..';\r\nimport { HolidayProcessType } from '../../types/Lss';\r\n\r\n//해당 함수는 getDatesStartToLast 함수를 의존합니다.\r\n\r\n/**\r\n *\r\n * @param value moment로 calendar에서 순회하는 날짜를 뜻합니다.\r\n * @param holidayArray uuid,badge타입 후가공된 holiday 배열입니다.\r\n * @returns 해당 날짜에 존재하는 휴가정보를 반환합니다.\r\n */\r\nconst getIncludesHolidayOfDay = (value: moment.Moment, holidayArray: Array<HolidayProcessType>) => {\r\n  const date = value.format('YYYY-MM-DD');\r\n  const result: Array<HolidayProcessType> = [];\r\n  holidayArray.forEach((parentItem) => {\r\n    //LSS의 모든 휴가 날짜가 반환된다.\r\n    const ArrayStartAndEnd = getDatesStartToLast(parentItem.startDate, parentItem.endDate);\r\n    if (ArrayStartAndEnd) {\r\n      ArrayStartAndEnd.forEach((item) => {\r\n        //result에는 해당요일에 존재하는 모든 휴가정보가 들어간다.\r\n        if (date === item) {\r\n          result.push({\r\n            idx: parentItem.idx,\r\n            type: parentItem.type,\r\n            desc: parentItem.desc,\r\n            startDate: parentItem.startDate,\r\n            endDate: parentItem.endDate,\r\n            isUsed: parentItem.isUsed,\r\n            period: parentItem.period,\r\n            uuid: parentItem.uuid,\r\n            badgeType: parentItem.badgeType,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nexport default getIncludesHolidayOfDay;\r\n","import { Button } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nexport const Wrapped = styled.div`\r\n  width: 100%;\r\n`;\r\nexport const InnerWrapped = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport const SetupIconWrapped = styled.div`\r\n  font-size: 3rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const HeaderWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\ntype BadgeWrapperProps = {\r\n  isUsed?: 'Y' | 'N';\r\n};\r\nexport const BadgeWrapped = styled.div<BadgeWrapperProps>`\r\n  transform: scale(0.9);\r\n  font-size: 0.65rem;\r\n  ${(props) =>\r\n    props.isUsed === 'N' &&\r\n    `color: rgba(1,1,1,0.5);\r\n  `}\r\n`;\r\n\r\nexport const ButtonWrapped = styled(Button)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const HeaderButtonWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const FooterWrapped = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const TitleWrapped = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const TitileDescWrapped = styled.p`\r\n  margin: 0;\r\n`;\r\n","import { Button, DatePicker, Divider, Input, Modal, Popconfirm, Space, Switch } from 'antd';\r\nimport moment from 'moment';\r\nimport React, { FC, memo, useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchDeleteHoliday, fetchPatchChangeHoliday } from '../../../../../slice/LssSlice';\r\nimport { HolidayProcessType, PatchHolidayType } from '../../../../../types/Lss';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport { FooterWrapped, TitileDescWrapped, TitleWrapped } from './HolidayDetailModal.styled';\r\n\r\ntype HolidayDetailModalType = {\r\n  visible: boolean;\r\n  //외부에서 visible을 바꿀수있는 이벤트를 추가해야함.\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  data: DataType;\r\n};\r\n\r\ntype DataType = Partial<HolidayProcessType>;\r\n\r\nconst HolidayDetailModal: FC<HolidayDetailModalType> = ({ data, setIsVisible, visible }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const dateFormat = 'YYYY/MM/DD';\r\n\r\n  //변경을 위한 상태값 정보들\r\n  const [desc, setDesc] = useState(data.desc);\r\n  const [startDate, setStartDate] = useState(data.startDate);\r\n  const [endDate, setEndDate] = useState(data.endDate);\r\n  const [isUsed, setIsUsed] = useState(data.isUsed);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    setIsVisible(false);\r\n  }, []);\r\n\r\n  /**\r\n   * 부모로 부터 전달받은 상태값으로 설정한다.\r\n   */\r\n  useEffect(() => {\r\n    setDesc(data.desc);\r\n    setStartDate(data.startDate);\r\n    setEndDate(data.endDate);\r\n    setIsUsed(data.isUsed);\r\n  }, [data]);\r\n\r\n  const Footer: FC = () => {\r\n    const onChangeConfirm = useCallback(() => {\r\n      const result: Partial<PatchHolidayType> = {};\r\n      result.idx = data.idx;\r\n      result.type = data.type;\r\n      result.desc = desc;\r\n      result.startDate = startDate;\r\n      result.endDate = endDate;\r\n      result.isUsed = isUsed;\r\n      dispatch(fetchPatchChangeHoliday(result as PatchHolidayType));\r\n      setIsVisible(false);\r\n    }, [data]);\r\n    const onDeleteConfirm = useCallback(() => {\r\n      dispatch(fetchDeleteHoliday(data.idx as number));\r\n      setIsVisible(false);\r\n    }, [data]);\r\n    return (\r\n      <FooterWrapped>\r\n        <Popconfirm title=\"변경 하시겠습니까?\" okText=\"변경\" onConfirm={onChangeConfirm} okType=\"primary\">\r\n          <Button>변경</Button>\r\n        </Popconfirm>\r\n        <Popconfirm title=\"삭제 하시겠습니까?\" okText=\"삭제\" okType=\"danger\" disabled={data.type === '임시휴일' ? false : true} onConfirm={onDeleteConfirm}>\r\n          <Button disabled={data.type === '임시휴일' ? false : true}>삭제</Button>\r\n        </Popconfirm>\r\n      </FooterWrapped>\r\n    );\r\n  };\r\n  const Title: FC = memo(() => {\r\n    return (\r\n      <TitleWrapped>\r\n        <TitileDescWrapped>{data.desc}</TitileDescWrapped>\r\n      </TitleWrapped>\r\n    );\r\n  });\r\n\r\n  const onUsedChange = useCallback((e: boolean) => {\r\n    e ? setIsUsed('Y') : setIsUsed('N');\r\n  }, []);\r\n  const onDescChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setDesc(e.target.value);\r\n  }, []);\r\n  const getPopupContainer = useCallback((e: HTMLElement) => e.parentElement as HTMLElement, []);\r\n  return (\r\n    <Modal key={`${data.uuid}`} title={<Title />} visible={visible} onCancel={handleCancel} footer={<Footer />}>\r\n      <FormGuideComponent title=\"휴무일\" guide=\"휴무일을 변경 할 수 있습니다.\" />\r\n      <RangePicker\r\n        getPopupContainer={getPopupContainer}\r\n        format={dateFormat}\r\n        disabled={data.type === '임시휴일' ? false : true}\r\n        defaultValue={[moment(data.startDate, dateFormat), moment(data.endDate, dateFormat)]}\r\n        onCalendarChange={(days) => {\r\n          if (days) {\r\n            if (days.length > 1) {\r\n              setStartDate(days[0]?.format('YYYY-MM-DD'));\r\n              setEndDate(days[1]?.format('YYYY-MM-DD'));\r\n            }\r\n          }\r\n        }}\r\n      />\r\n      <Divider />\r\n      <FormGuideComponent title=\"설명\" guide=\"등록될 임시공휴일에 대한 설명을 적어주세요(최대 9글자)\" />\r\n      <Input disabled={data.type === '임시휴일' ? false : true} maxLength={9} defaultValue={data.desc} onChange={onDescChange}></Input>\r\n      <Divider />\r\n      <FormGuideComponent title=\"활성화\" guide=\"휴무일을 활성화하거나 비활성화 합니다\" />\r\n      <span>적용 여부 : </span>\r\n      <Switch defaultChecked={data.isUsed === 'Y' ? true : false} onChange={onUsedChange}></Switch>\r\n      <Space></Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default HolidayDetailModal;\r\n","import React, { FC, useCallback, useEffect, useState } from 'react';\r\nimport { Calendar, Badge } from 'antd';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { PlusCircleTwoTone, SettingTwoTone } from '@ant-design/icons';\r\nimport HolidaySettingModal from './HolidaySettingModal';\r\nimport HolidayAddModal from './HolidayAddModal';\r\nimport moment from 'moment';\r\nimport FormGuideComponent from '../../../../FormGuideComponent';\r\nimport { useSelector } from 'react-redux';\r\nimport { LSS_DETAIL, selectLssDetail } from '../../../../../slice/LssSlice';\r\nimport { HolidayProcessType } from '../../../../../types/Lss';\r\nimport useGenerateHolidayUuid from './hooks/useGenerateHolidayUuid';\r\nimport { getDatesStartToLast } from '../../../../../util';\r\nimport getIncludesHolidayOfDay from '../../../../../util/Date/getIncludesHolidayOfDay';\r\nimport styles from './Holiday.module.scss';\r\nimport { BadgeWrapped, ButtonWrapped, HeaderButtonWrapped, HeaderWrapped, InnerWrapped, SetupIconWrapped, Wrapped } from './Holiday.styled';\r\nimport HolidayDetailModal from './HolidayDetailModal';\r\nconst Holiday: FC = () => {\r\n  const state = useSelector(selectLssDetail);\r\n  // 정규휴무일을 설정하는 모달창의 보여짐을 위한 상태값\r\n  const [settingModalVisible, setSettingModalVisible] = useState(false);\r\n  // 휴무일 추가하는 모달창의 보여짐을 위한 상태값\r\n  const [addModalVisible, setAddModalVisible] = useState(false);\r\n  // 선택된 휴무일을 보여주는 모달창의 보여짐을 위한 상태값\r\n  const [detailModalVisible, setDetailModalVisible] = useState(false);\r\n  // 어떤 휴무일이 선택되었는지 저장하는 상태값\r\n  const [selectedModalData, setSelectedModalData] = useState<Partial<HolidayProcessType>>({});\r\n\r\n  //렌더링을위한 더미 상태\r\n  const [selectedDate, setSelectedDate] = useState<string>();\r\n\r\n  //서버로 송신받은 정규&휴가정보를 하나의 휴가배열로 생성하면서 uuid를 할당함\r\n  const holidayArray = useGenerateHolidayUuid(state[LSS_DETAIL].holiday, state[LSS_DETAIL].LegalHoliday);\r\n\r\n  /**\r\n   * 모든 날짜를 순회하면서 휴가가있는날은 빨간색으로 칠한다.\r\n   */\r\n  const DrawCalendarColor = () => {\r\n    holidayArray.forEach((parentItem) => {\r\n      //17부터 20일인 휴가라면 17.18.19,20의 배열을 리턴함\r\n      const ArrayStartAndEnd = getDatesStartToLast(parentItem.startDate, parentItem.endDate);\r\n      if (ArrayStartAndEnd) {\r\n        ArrayStartAndEnd.forEach((Holiday) => {\r\n          const $el = document.querySelector(`td[title$=\"${Holiday}`) as HTMLElement;\r\n          if ($el) {\r\n            const $title = $el.querySelector('.ant-picker-calendar-date-value') as HTMLElement;\r\n            if ($title) {\r\n              $title.style.setProperty('color', 'red');\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 모든 캘린더 cell의 title을 검은색으로 초기화하고, 휴가가 존재하는 cell만 빨간색으로 색칠함\r\n   */\r\n  useEffect(() => {\r\n    //모든 셀 색상 초기화\r\n    const $el = document.querySelectorAll('.ant-picker-calendar-date-value');\r\n    $el.forEach((item) => {\r\n      const result = item as HTMLElement;\r\n      result.style.setProperty('color', 'black');\r\n    });\r\n    //달력이동시 html element의 미스매치가 발생하여 딜레이후 동작되게 구성함\r\n    const timerId = setTimeout(DrawCalendarColor, 16);\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    //휴가정보와 누른 날짜가 변경되면 타이틀 색칠을 다시하게 수정함\r\n  }, [holidayArray, selectedDate]);\r\n\r\n  //모달을 위한 이벤트핸들러\r\n  const showAddModal = useCallback(() => {\r\n    setAddModalVisible(true);\r\n  }, []);\r\n  const showModal = useCallback(() => {\r\n    setSettingModalVisible(true);\r\n  }, []);\r\n  /**\r\n   * 강제로 컴포넌트를 갱신하기 위한 상태값 변경\r\n   */\r\n  const onSelect = useCallback(\r\n    (e: moment.Moment) => {\r\n      setSelectedDate(e.format('YYYY-MM-DD'));\r\n    },\r\n    [selectedDate]\r\n  );\r\n  /**\r\n   * 휴가 객체를 클릭하면 모달창에 정보를 전달함\r\n   */\r\n  const onClickHoliday = useCallback((e: React.MouseEvent<HTMLDivElement, MouseEvent>, item) => {\r\n    e.stopPropagation();\r\n    setSelectedModalData({ ...item });\r\n    setDetailModalVisible(true);\r\n  }, []);\r\n\r\n  type HolidayBadgeItemType = {\r\n    item: HolidayProcessType;\r\n  };\r\n\r\n  const HolidayBadgeItem: FC<HolidayBadgeItemType> = ({ item }) => {\r\n    const onMouseEnter = useCallback(() => {\r\n      const color = 'rgba(110, 38, 143)';\r\n      const $el = document.querySelectorAll(`[data-uuid='${item.uuid}']`);\r\n      $el.forEach((badge) => {\r\n        const $el = badge as HTMLElement;\r\n        $el.style.color = color;\r\n        $el.classList.toggle(`${styles.badgeActive}`);\r\n      });\r\n    }, []);\r\n    const onMouseLeave = useCallback(() => {\r\n      const $el = document.querySelectorAll(`[data-uuid='${item.uuid}']`);\r\n      $el.forEach((badge) => {\r\n        const $el = badge as HTMLElement;\r\n        if (item.isUsed === 'N') {\r\n          $el.style.color = 'rgba(1,1,1,0.5)';\r\n        } else {\r\n          $el.style.color = 'black';\r\n        }\r\n        $el.classList.toggle(`${styles.badgeActive}`);\r\n      });\r\n    }, []);\r\n    return (\r\n      <BadgeWrapped\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        key={`${item.uuid}`}\r\n        data-uuid={item.uuid}\r\n        onClick={(e) => {\r\n          onClickHoliday(e, item);\r\n        }}\r\n        isUsed={item.isUsed}\r\n      >\r\n        <Badge size={'small'} status={item.badgeType} />\r\n        {item.desc}\r\n      </BadgeWrapped>\r\n    );\r\n  };\r\n  /**\r\n   *\r\n   * @param value 달력에서 보여지는 첫날부터 마지막 날까지의 데이터\r\n   * @returns\r\n   */\r\n  function dateCellRender(value: moment.Moment) {\r\n    //당일 존재하는 모든 휴가 정보를 가지고있는 배열\r\n    const holidays = getIncludesHolidayOfDay(value, holidayArray);\r\n    return (\r\n      <div key={uuid()} className=\"events\" style={{ fontSize: '0.5rem' }}>\r\n        {holidays.map((item: HolidayProcessType) => (\r\n          <HolidayBadgeItem key={item.uuid} item={item} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const onPanelChange = useCallback(() => {\r\n    //캘린더에서 연도보기를했을경우 상태를 아무값이나 강제로 할당하여 렌더링을 다시 되게끔 수정하였음.\r\n    const date = moment(selectedDate).add(1, 'days').format('YYYY-MM-DD').toString();\r\n    setSelectedDate(date);\r\n  }, [selectedDate]);\r\n\r\n  return (\r\n    <Wrapped>\r\n      <InnerWrapped>\r\n        <HolidayAddModal visible={addModalVisible} setIsVisible={setAddModalVisible} selectedDate={selectedDate} />\r\n        <HolidaySettingModal visible={settingModalVisible} setIsVisible={setSettingModalVisible} />\r\n        <HolidayDetailModal visible={detailModalVisible} setIsVisible={setDetailModalVisible} data={selectedModalData} />\r\n\r\n        <HeaderWrapped>\r\n          <FormGuideComponent title=\"휴관일\" guide=\"휴관일을 설정 할 수 있습니다.\" />\r\n          <HeaderButtonWrapped>\r\n            <SetupIconWrapped onClick={showAddModal}>\r\n              <ButtonWrapped>\r\n                <PlusCircleTwoTone />\r\n                추가\r\n              </ButtonWrapped>\r\n            </SetupIconWrapped>\r\n            <SetupIconWrapped onClick={showModal}>\r\n              <ButtonWrapped>\r\n                <SettingTwoTone />\r\n                설정\r\n              </ButtonWrapped>\r\n            </SetupIconWrapped>\r\n          </HeaderButtonWrapped>\r\n        </HeaderWrapped>\r\n\r\n        <Calendar\r\n          className={styles.calendar}\r\n          fullscreen={true}\r\n          dateCellRender={dateCellRender}\r\n          value={moment(selectedDate)}\r\n          onSelect={onSelect}\r\n          onPanelChange={onPanelChange}\r\n        />\r\n      </InnerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default Holiday;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Spin, Tabs, Divider } from 'antd';\r\nimport {\r\n  fetchGetContents,\r\n  fetchGetDefaultInfo,\r\n  fetchGetHoliday,\r\n  fetchGetHolidayInfo,\r\n  fetchGetReturnDate,\r\n  LSS_DETAIL,\r\n  selectLssDetail,\r\n} from '../../slice/LssSlice';\r\n\r\nimport MenuGuide from '../MenuGuide';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport RadioMode from './pages/components/RadioMode/RadioMode';\r\nimport ReturnDateComponent from './pages/components/ReturnDate/ReturnDate';\r\nimport {\r\n  CalendarIconWrapped,\r\n  InnerWrapped,\r\n  ProgressWrapped,\r\n  SettingIconWrapped,\r\n  SpanWrapped,\r\n  TabsWrapped,\r\n  TabWrapped,\r\n  Wrapped,\r\n} from './ManagementLssScreen.styled';\r\n\r\nimport Notice from './pages/components/Notice/Notice';\r\nimport Caption from './pages/components/Caption/Caption';\r\nimport Holiday from './pages/components/Holiday/Holiday';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ManagementLssScreen = (props: any) => {\r\n  const state = useSelector(selectLssDetail);\r\n  const TabPane = Tabs.TabPane;\r\n  const [tabKey, setTabKey] = useState('1');\r\n  const [isVisibleNotice, setIsVisibleNotice] = useState(false);\r\n  const [isVisibleCaption, setIsVisibleCaption] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const Reg = /(?:\\/lss)?(?:\\/form)?[0-9]{1,99999}/g;\r\n  const myeqid = Reg.exec(history.location.pathname);\r\n  const equipIdx = myeqid !== null ? parseInt(myeqid.toString()) : 1;\r\n  const EquipIdx = {\r\n    equip_idx: equipIdx,\r\n  };\r\n  useEffect(() => {\r\n    dispatch(fetchGetDefaultInfo(EquipIdx));\r\n    dispatch(fetchGetReturnDate());\r\n    dispatch(fetchGetContents(EquipIdx));\r\n    dispatch(fetchGetHoliday());\r\n    dispatch(fetchGetHolidayInfo());\r\n  }, [equipIdx]);\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem('currentPage', key);\r\n    setTabKey(key);\r\n  }\r\n\r\n  //drawer의 창닫기를 위한 이벤트 핸들러\r\n  const onDrawCloseHandler = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    const target = e.target as HTMLElement;\r\n    const dataId = target.dataset.id as 'wrapper';\r\n    if (dataId === 'wrapper') {\r\n      isVisibleNotice && setIsVisibleNotice(false);\r\n      isVisibleCaption && setIsVisibleCaption(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapped onClick={onDrawCloseHandler} data-id={'wrapper'}>\r\n      <InnerWrapped>\r\n        <MenuGuide title={state[LSS_DETAIL].eqpName && `LSS( ${state[LSS_DETAIL].eqpName} )`} />\r\n        <Spin spinning={state[LSS_DETAIL].isSpin} size=\"large\" tip=\"처리 중...\">\r\n          <ProgressWrapped isProgress={state[LSS_DETAIL].isProgress}>\r\n            <TabsWrapped>\r\n              <TabWrapped onChange={callback} defaultActiveKey=\"1\" activeKey={tabKey}>\r\n                <TabPane\r\n                  tab={\r\n                    <SpanWrapped>\r\n                      <SettingIconWrapped />\r\n                    </SpanWrapped>\r\n                  }\r\n                  key=\"1\"\r\n                >\r\n                  {/* 모드 */}\r\n                  <FormGuideComponent title=\"모드변경\" guide=\"대출일 안내, 휴관일 안내, 메시지 안내 중 하나를 선택해주세요.\" />\r\n                  <RadioMode value={state[LSS_DETAIL].mode} />\r\n                  <Divider />\r\n                  {/* 메모 */}\r\n                  <FormGuideComponent title=\"메모\" guide=\"메모를 관리하고 표시할 항목을 선택하세요\" />\r\n                  <Notice isVisible={isVisibleNotice} setIsVisible={setIsVisibleNotice} notice={state[LSS_DETAIL].notice} />\r\n                  <Divider />\r\n                  {/* 자막 */}\r\n                  <FormGuideComponent title=\"자막\" guide=\"자막을 관리하고 순서를 변경하세요\" />\r\n                  <Caption isVisible={isVisibleCaption} setIsVisible={setIsVisibleCaption} />\r\n                  <Divider />\r\n                  {/* 대여일 */}\r\n                  <FormGuideComponent title=\"대여일 변경\" guide=\"대여일을 설정하세요.\" />\r\n                  <ReturnDateComponent value={parseInt(state[LSS_DETAIL].returnDate)} />\r\n                </TabPane>\r\n                <TabPane\r\n                  tab={\r\n                    <SpanWrapped>\r\n                      <CalendarIconWrapped />\r\n                    </SpanWrapped>\r\n                  }\r\n                  key=\"2\"\r\n                >\r\n                  <Holiday />\r\n                </TabPane>\r\n              </TabWrapped>\r\n            </TabsWrapped>\r\n          </ProgressWrapped>\r\n        </Spin>\r\n      </InnerWrapped>\r\n    </Wrapped>\r\n  );\r\n};\r\n\r\nexport default ManagementLssScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Upload, message, Modal } from 'antd';\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\nimport './ManagementMagImageUpload.css';\r\nimport * as Constants from '../Constants';\r\nimport { noImg } from '../CommonImage';\r\n\r\nconst ManagementMagImageUpload = (props) => {\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState();\r\n  const { setParentImageList } = props;\r\n  const [imageList, setImageList] = useState([]);\r\n  // const [filteredFileList, setFilteredFileList] = useState([]);\r\n\r\n  const { Dragger } = Upload;\r\n\r\n  useEffect(() => {\r\n    setImageList(props.fileList);\r\n  }, [props.fileList]);\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  const beforeUpload = (file) => {\r\n    // const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    // if (!isJpgOrPng) {\r\n    //     message.error('JPG/PNG 파일만 가능합니다.');\r\n    // }\r\n    // const isLt2M = file.size / 1024 / 1024 < 2;\r\n    // if (!isLt2M) {\r\n    //     message.error('이미지는 2MB를 초과할 수 없습니다.');\r\n    // }\r\n    // return isJpgOrPng && isLt2M;\r\n\r\n    return false;\r\n  };\r\n\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess('ok');\r\n    }, 0);\r\n  };\r\n\r\n  const handlePreview = async (file) => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  };\r\n\r\n  const draggerProps = {\r\n    name: 'file',\r\n    multiple: true,\r\n    listType: 'picture',\r\n    customRequest: dummyRequest,\r\n    beforeUpload: beforeUpload,\r\n    onPreview: handlePreview,\r\n    fileList: imageList,\r\n    showUploadList: {\r\n      showPreviewIcon: true,\r\n      showDownloadIcon: true,\r\n      showRemoveIcon: true,\r\n    },\r\n    onChange: (info) => {\r\n      const { status } = info.file;\r\n      //  Array.from(info.fileList);\r\n      var fileList = info.fileList.filter((file) => {\r\n        return file.type.includes('image');\r\n      });\r\n\r\n      if (status !== 'uploading') {\r\n        // setImageList(info.fileList);\r\n\r\n        setParentImageList(fileList);\r\n        setImageList(fileList);\r\n      }\r\n    },\r\n    // className: 'upload-list-inline',\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dragger {...draggerProps}>\r\n        <p className='ant-upload-drag-icon'>\r\n          <PlusCircleOutlined />\r\n        </p>\r\n        <p className='ant-upload-text'>\r\n          클릭 또는 파일을 드래그해 이미지를 업로드해주세요\r\n        </p>\r\n      </Dragger>\r\n      <Modal\r\n        className='magPreviewModal'\r\n        visible={previewVisible}\r\n        footer={null}\r\n        onCancel={handleCancel}\r\n      >\r\n        <img\r\n          alt='example'\r\n          style={{ width: '100%' }}\r\n          src={previewImage}\r\n          onError={(error) => {\r\n            error.currentTarget.src = noImg;\r\n          }}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementMagImageUpload;\r\n","import {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  InputNumber,\r\n  Button,\r\n  message,\r\n  Spin,\r\n  Select,\r\n} from 'antd';\r\nimport React, { useState, useEffect } from 'react';\r\nimport MenuGuide from '../MenuGuide';\r\nimport ManagementMagImageUpload from './ManagementMagImageUpload';\r\nimport * as Constants from '../Constants';\r\nimport axios from 'axios';\r\nimport './ManagementMagForm.css';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport uuid from 'react-uuid';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Prompt } from 'react-router-dom';\r\n\r\nconst ManagementMagForm = (props) => {\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : 'regist'\r\n  );\r\n  const [record, setRecord] = useState(props.location.record);\r\n  const [isSpinning, setIsSpinning] = useState(false);\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n  const [equipList, setEquipList] = useState([]);\r\n  const [selectedEquipList, setSelectedEquipList] = useState([]);\r\n\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n\r\n  useEffect(() => {\r\n    console.log(props);\r\n    enablePrevent();\r\n    getMagEquipList();\r\n    if (mode === 'modify') {\r\n      getFileList(record);\r\n      getAppliedEquipList(record.idx);\r\n    }\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue({\r\n      useYN: 'Y',\r\n    });\r\n    if (mode === 'modify') {\r\n      form.setFieldsValue({\r\n        title: record.title,\r\n        equip: selectedEquipList,\r\n        duration: record.duration_sec,\r\n        useYN: record.useYN,\r\n      });\r\n    }\r\n    return () => {};\r\n  }, [props, selectedEquipList]);\r\n\r\n  const validateMessages = {\r\n    required: '필수 항목',\r\n    types: {\r\n      email: 'Not a validate email!',\r\n      number: 'Not a validate number!',\r\n    },\r\n    number: {\r\n      range: 'Must be between ${min} and ${max}',\r\n    },\r\n  };\r\n\r\n  const getAppliedEquipList = (cmsMasterIdx) => {\r\n    axios\r\n      .get(`/equip/playing`, {\r\n        params: {\r\n          cms_master_idx: cmsMasterIdx,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setSelectedEquipList(\r\n          res.data.appliedEquipList.map((item) => item.equip_idx)\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getFileList = (record) => {\r\n    axios\r\n      .get('/files', {\r\n        params: {\r\n          mag_idx: record.mag_idx,\r\n          type: 'MAG',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        var fileList = res.data.fileList;\r\n        fileList.forEach((item, index) => {\r\n          fileList[index]['uid'] = index;\r\n          fileList[index]['url'] =\r\n            Constants.DEV_SERVER + '/files/mag/' + item.saveName;\r\n          fileList[index]['thumbUrl'] =\r\n            Constants.DEV_SERVER + '/files/mag/' + item.saveName;\r\n          fileList[index]['name'] = item.orgName;\r\n          fileList[index]['type'] = 'image/';\r\n          fileList[index]['status'] = 'done';\r\n        });\r\n        setImageList(fileList);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (values) => {\r\n    if (typeof values.equip === 'undefined') {\r\n      values.equip = [];\r\n    }\r\n\r\n    if (imageList.length == 0) {\r\n      message.error('이미지를 등록해주세요');\r\n      return;\r\n    }\r\n    setIsSpinning(true);\r\n    if (mode == 'regist') {\r\n      axios\r\n        .post('/mag', {\r\n          cSubject: values.title,\r\n          duration_sec: values.duration,\r\n          useYN: values.useYN,\r\n          equip_idx: selectedEquipList,\r\n        })\r\n        .then((res) => {\r\n          sendImages(imageList, res.data.mag_idx);\r\n          setTimeout(() => {\r\n            setIsBack(false);\r\n            setIsSpinning(false);\r\n            message.success('등록 완료');\r\n            props.history.goBack();\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setIsSpinning(false);\r\n        });\r\n    } else if (mode === 'modify') {\r\n      axios\r\n        .put(Constants.DEV_SERVER + '/mag', {\r\n          idx: record.idx,\r\n          cms_master_idx: record.idx,\r\n          equip_idx: selectedEquipList,\r\n          mag_idx: record.mag_idx,\r\n          cSubject: values.title,\r\n          duration_sec: values.duration,\r\n          useYN: values.useYN,\r\n        })\r\n        .then((res) => {\r\n          modifyImages(imageList, res.data.mag_idx);\r\n          setTimeout(() => {\r\n            setIsBack(false);\r\n            setIsSpinning(false);\r\n            message.success('등록 완료');\r\n            props.history.goBack();\r\n          }, 2000);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n\r\n          setIsSpinning(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const getMagEquipList = () => {\r\n    axios\r\n      .get(`/equip/index`, {\r\n        params: {\r\n          eqpType: 'MAG',\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setEquipList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const modifyImages = (imageList, mag_idx) => {\r\n    var formData = new FormData();\r\n    var doneInfo = [];\r\n    var uploadingInfo = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      if (item.status === 'done') {\r\n        doneInfo.push({\r\n          type: 'MAG',\r\n          ref_idx: mag_idx,\r\n          saveName: item.saveName,\r\n          idx: idx,\r\n          status: 'done',\r\n        });\r\n      } else {\r\n        formData.append('files', item.originFileObj);\r\n        uploadingInfo.push({\r\n          type: 'MAG',\r\n          uid: item.uid,\r\n          ref_idx: mag_idx,\r\n          idx: idx,\r\n          status: 'uploading',\r\n        });\r\n      }\r\n    });\r\n\r\n    formData.append('doneInfo', JSON.stringify(doneInfo));\r\n    formData.append('uploadingInfo', JSON.stringify(uploadingInfo));\r\n\r\n    axios\r\n      .put(Constants.DEV_SERVER + '/file' + `/${mag_idx}`, formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const sendImages = (imageList, mag_idx) => {\r\n    var formData = new FormData();\r\n    var info = [];\r\n\r\n    imageList.forEach((item, idx) => {\r\n      formData.append('files', item.originFileObj);\r\n      info.push({\r\n        uid: item.uid,\r\n        type: 'MAG',\r\n        idx: idx,\r\n        ref_idx: mag_idx,\r\n      });\r\n    });\r\n    formData.append('info', JSON.stringify(info));\r\n    axios\r\n      .post('/file', formData)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsSpinning(false);\r\n      });\r\n  };\r\n\r\n  const onChangeEquip = (e) => {\r\n    setSelectedEquipList(e);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <Spin spinning={isSpinning} size='large' tip='처리 중...'>\r\n        <div style={{ width: '70%', margin: 'auto' }}>\r\n          <MenuGuide\r\n            title={'화면 관리 ▶ MAG 등록'}\r\n            subTitle={'이미지를 등록해주세요.'}\r\n          />\r\n          <Form\r\n            form={form}\r\n            validateMessages={validateMessages}\r\n            onFinish={handleSubmit}\r\n            style={{\r\n              border: '1px solid #dfe6e9',\r\n              padding: '50px',\r\n            }}\r\n          >\r\n            <FormGuideComponent title='제목' />\r\n            <Form.Item name='title' rules={[{ required: true }]}>\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='기기선택' />\r\n            <Form.Item name='equip'>\r\n              <Select\r\n                value={selectedEquipList}\r\n                mode='multiple'\r\n                showArrow\r\n                placeholder='MAG 기기를 선택해주세요'\r\n                style={{ width: '100%' }}\r\n                onChange={(e) => {\r\n                  onChangeEquip(e);\r\n                }}\r\n              >\r\n                {equipList.map((item, idx) => {\r\n                  return (\r\n                    <Select.Option key={uuid()} value={item.idx}>\r\n                      {item.eqpName}\r\n                    </Select.Option>\r\n                  );\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='이미지' />\r\n            <Form.Item name='images'>\r\n              <ManagementMagImageUpload\r\n                setParentImageList={setImageList}\r\n                fileList={Array.from(imageList)}\r\n              />\r\n            </Form.Item>\r\n\r\n            <FormGuideComponent title='전환시간(초)' />\r\n            <Form.Item name='duration' rules={[{ required: true }]}>\r\n              <InputNumber\r\n                min={1}\r\n                style={{\r\n                  width: '150px',\r\n                }}\r\n              />\r\n            </Form.Item>\r\n\r\n            {/* <FormGuideComponent title='사용여부' /> */}\r\n            <Form.Item style={{ display: 'none' }} name='useYN'>\r\n              <Radio.Group>\r\n                <Radio value={'Y'}>Y</Radio>\r\n                <Radio value={'N'}>N</Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type='primary' htmlType='submit' block>\r\n                {mode == 'regist' ? '등 록' : '수 정'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Spin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementMagForm;\r\n","import axios from 'axios';\r\n// import { getBlackList, getBlackListType } from '../types/BlackList';\r\nimport { ResponseVo } from '../types/Common';\r\n\r\n// export const registBlacklist = (is_user_no, black_type) => axios.post(`/black/register`, { is_user_no, black_type });\r\n\r\n// export const postBlackList = async ({ is_user_no, black_type }: { is_user_no: number; black_type: 'ITEM' | 'EVENT' }) => {\r\n//   try {\r\n//     const response = await axios.post('black/register', {\r\n//       is_user_no,\r\n//       black_type,\r\n//     });\r\n//     return response.data;\r\n//   } catch (err) {\r\n//     console.log(err);\r\n//   }\r\n// };\r\n\r\nexport const registBlackList = async ({\r\n  params,\r\n}: {\r\n  params: {\r\n    black_type: 'ITEM';\r\n    is_user_no: number;\r\n  };\r\n}) => {\r\n  try {\r\n    const response = await axios.post('/black/register', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const extendBlackList = async ({ params }: { params: { black_type: 'ITEM'; extend_day: number | string; is_user_no: number } }) => {\r\n  try {\r\n    const response = await axios.post('/black/extend', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const cancelBlackList = async ({ params }: { params: { black_type: 'ITEM'; is_user_no: number } }) => {\r\n  try {\r\n    const response = await axios.post('/black/release', params);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getBanList = async ({ params }: { params: { search_type: 'ID'; search_value?: number | string } }) => {\r\n  try {\r\n    const response = await axios.get('/black/getBanList', {\r\n      params,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction, Slice } from '@reduxjs/toolkit';\r\nimport { registBlackList, extendBlackList, cancelBlackList, getBanList } from '../api/BlackList.api';\r\n\r\nimport { getBlackListType } from '../types/BlackList';\r\nimport { ResponseVo } from '../types/ResponseVo';\r\n\r\nexport const BLACKLIST = 'BLACKLIST' as const;\r\n\r\ntype SliceState = {\r\n  banList: getBlackListType[];\r\n  isLoading: boolean;\r\n};\r\n\r\ntype PayloadType = {\r\n  [BLACKLIST]: SliceState;\r\n};\r\n// 등록\r\nexport const fetchRegistBlackList = createAsyncThunk(`${BLACKLIST}/black/getBanList`, registBlackList);\r\n// 연장\r\nexport const fetchExtendBlackList = createAsyncThunk(`${BLACKLIST}/black/extend`, extendBlackList);\r\n// 취소\r\nexport const fetchCancelBlackList = createAsyncThunk(`${BLACKLIST}/black/release`, cancelBlackList);\r\n// 조회\r\nexport const fetchGetBlackList = createAsyncThunk(`${BLACKLIST}/black/getBanList`, getBanList);\r\n\r\nconst slice = createSlice({\r\n  name: BLACKLIST,\r\n  initialState: {\r\n    banList: [],\r\n    isLoading: false,\r\n  } as SliceState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [fetchExtendBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchExtendBlackList.fulfilled.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchExtendBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n\r\n    [fetchCancelBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchCancelBlackList.fulfilled.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchCancelBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n    [fetchGetBlackList.pending.type]: (state: SliceState) => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchGetBlackList.fulfilled.type]: (state: SliceState, action: PayloadAction<ResponseVo<getBlackListType[]>>) => {\r\n      state.banList = action.payload.response_body;\r\n      state.isLoading = false;\r\n    },\r\n    [fetchCancelBlackList.rejected.type]: (state: SliceState) => {\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\n// export const { banList } = slice.actions;\r\n\r\nexport const selectBlackList = (state: PayloadType) => state[BLACKLIST];\r\n","import { Table } from 'antd';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport uuid from 'react-uuid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchCancelBlackList, fetchExtendBlackList, fetchGetBlackList, selectBlackList } from '../../slice/BlackListSlice';\r\nimport Popconfirm from 'antd/es/popconfirm';\r\nimport { DeleteOutlined, QuestionCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\n\r\nconst BlackTableWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst BlackTable = () => {\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n  const blackList = useSelector(selectBlackList);\r\n  const dispatch = useDispatch();\r\n\r\n  const columns = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'blacklist_idx',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n      render: (item, record, idx) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'ID',\r\n      dataIndex: 'is_user_id',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '이름',\r\n      dataIndex: 'is_user_nm',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '블랙기한',\r\n      dataIndex: 'expireDate',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '종류',\r\n      dataIndex: 'black_type',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        // console.log(record);\r\n        return <div>{record.black_type === 'EVENT' ? '행사' : '물품'}</div>;\r\n      },\r\n    },\r\n    {\r\n      title: '해제',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 20,\r\n      align: 'center',\r\n      render: (_item, _record, _idx) => {\r\n        return (\r\n          <>\r\n            <Popconfirm\r\n              title=\"블랙리스트에서 해제하시겠습니까?\"\r\n              icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n              onConfirm={async (e) => {\r\n                e.stopPropagation();\r\n                // console.log(_record);\r\n                const { black_type, is_user_no } = _record;\r\n                console.log(black_type, is_user_no);\r\n                await dispatch(\r\n                  fetchCancelBlackList({\r\n                    params: {\r\n                      black_type,\r\n                      is_user_no,\r\n                    },\r\n                  })\r\n                );\r\n                await dispatch(\r\n                  fetchGetBlackList({\r\n                    params: {\r\n                      search_type: 'ID',\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n              onCancel={(e) => {\r\n                e.stopPropagation();\r\n                return;\r\n              }}\r\n              okText=\"예\"\r\n              cancelText=\"아니오\"\r\n            >\r\n              <DeleteOutlined\r\n                style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                }}\r\n              />\r\n            </Popconfirm>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '기한 연장',\r\n      dataIndex: 'extend',\r\n      key: uuid(),\r\n      width: 20,\r\n      align: 'center',\r\n      render: (_item, _record, _idx) => {\r\n        return (\r\n          <>\r\n            <Popconfirm\r\n              title=\"기한을 일주일 연장하시겠습니까?\"\r\n              icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n              onConfirm={async (e) => {\r\n                e.stopPropagation();\r\n                const { black_type, is_user_no } = _record;\r\n                await dispatch(\r\n                  fetchExtendBlackList({\r\n                    params: {\r\n                      black_type,\r\n                      is_user_no,\r\n                      extend_day: 0,\r\n                    },\r\n                  })\r\n                );\r\n\r\n                // console.log(black_type, is_user_no);\r\n                // await dispatch(\r\n                //   fetchCancelBlackList({\r\n                //     params: {\r\n                //       black_type,\r\n                //       is_user_no,\r\n                //     },\r\n                //   })\r\n                // );\r\n\r\n                await dispatch(\r\n                  fetchGetBlackList({\r\n                    params: {\r\n                      search_type: 'ID',\r\n                    },\r\n                  })\r\n                );\r\n              }}\r\n              onCancel={(e) => {\r\n                e.stopPropagation();\r\n                return;\r\n              }}\r\n              okText=\"예\"\r\n              cancelText=\"아니오\"\r\n            >\r\n              <PlusOutlined\r\n                style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                }}\r\n              />\r\n            </Popconfirm>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BlackTableWrapped>\r\n      <div>블랙리스트</div>\r\n      <Table\r\n        rowKey={() => uuid()}\r\n        loading={blackList.isLoading}\r\n        dataSource={blackList.banList}\r\n        columns={columns}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', `${e}`);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n    </BlackTableWrapped>\r\n  );\r\n};\r\n\r\nexport default BlackTable;\r\n","import axios from 'axios';\r\nimport Axios from 'axios';\r\n\r\nexport const getUserFromLas = (user_key) =>\r\n  Axios.get(`/gesUser/getUserInfo`, {\r\n    params: {\r\n      user_key,\r\n    },\r\n  });\r\n\r\nexport const registBlacklist = (is_user_no, black_type) => Axios.post(`/black/register`, { is_user_no, black_type });\r\n\r\nexport const postBlackList = async ({ is_user_no, black_type }) => {\r\n  try {\r\n    const response = await axios.post('black/register', {\r\n      is_user_no,\r\n      black_type,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getBanList = async ({ search_type = 'ID', search_value }) => {\r\n  try {\r\n    const response = await axios.get('/black/getBanList', {\r\n      search_type,\r\n      search_value,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const cancelBlackList = async ({ black_type, is_user_no }) => {\r\n  try {\r\n    const response = await axios.post('/black/release', {\r\n      black_type,\r\n      is_user_no,\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import { Alert, Button, Descriptions, Input, Modal, Select, Space } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchGetBlackList } from '../../slice/BlackListSlice';\r\nimport { getUserFromLas, postBlackList, registBlacklist } from './BlackList.api';\r\nimport useGetBlackList from './useGetBlackList';\r\n\r\nconst InputWrapped = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ActionWrapped = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0px;\r\n`;\r\n\r\nconst MemberSearchModal = ({ isVisible, setIsVisible }) => {\r\n  const [user, setUser] = useState();\r\n  const [inputText, setInputText] = useState('');\r\n  const [stateCode, setStateCode] = useState();\r\n  const [type, setType] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const findUser = (user_key) => {\r\n    getUserFromLas(user_key)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data?.status_code !== 200) {\r\n          alert('일치하는 회원이 없습니다.');\r\n          // <Alert message=\"일치하는 회원이 없습니다\" type=\"warning\" />;\r\n          return;\r\n        }\r\n        setStateCode(res.data.status_code);\r\n        if (res.data.status_code === 200) {\r\n          setUser(res.data.response_body);\r\n        }\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 창 닫을 때\r\n    if (!isVisible) {\r\n      setInputText('');\r\n      setUser();\r\n      setStateCode();\r\n    }\r\n  }, [isVisible]);\r\n\r\n  return (\r\n    <Modal\r\n      footer={null}\r\n      title=\"블랙리스트 등록\"\r\n      visible={isVisible}\r\n      destroyOnClose\r\n      centered\r\n      onCancel={(e) => {\r\n        setIsVisible(false);\r\n      }}\r\n      maskClosable\r\n      onOk={(e) => {\r\n        setIsVisible(false);\r\n      }}\r\n      style={{ minWidth: '700px' }}\r\n    >\r\n      <div>회원번호 또는 ID 를 입력해주세요.</div>\r\n      <InputWrapped>\r\n        <Input\r\n          onChange={(e) => {\r\n            setInputText(e.target.value);\r\n          }}\r\n          onPressEnter={() => {\r\n            if (inputText.trim()) findUser(inputText.trim());\r\n          }}\r\n        />\r\n        <Button\r\n          onClick={() => {\r\n            findUser(inputText.trim());\r\n          }}\r\n          style={{ margin: '0px 10px' }}\r\n        >\r\n          검색\r\n        </Button>\r\n      </InputWrapped>\r\n      <ActionWrapped>\r\n        {stateCode === 200 && (\r\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n            <Descriptions\r\n              bordered\r\n              title=\"회원 정보\"\r\n              size=\"small\"\r\n              labelStyle={{\r\n                width: '93px !important',\r\n              }}\r\n            >\r\n              <Descriptions.Item label=\"ID\">{user?.is_user_id}</Descriptions.Item>\r\n              <Descriptions.Item label=\"이름\">{user?.is_user_nm}</Descriptions.Item>\r\n              <Descriptions.Item label=\"전화번호\">{user?.is_user_phone}</Descriptions.Item>\r\n            </Descriptions>\r\n            <div>\r\n              <Text>블랙리스트 타입 : </Text>\r\n              <Select\r\n                placeholder=\"타입을 선택해주세요\"\r\n                style={{ minWidth: '150px' }}\r\n                onChange={(e) => {\r\n                  setType(e);\r\n                }}\r\n              >\r\n                <Select.Option value=\"EVENT\">행사</Select.Option>\r\n                <Select.Option value=\"ITEM\">물품</Select.Option>\r\n              </Select>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              block\r\n              style={{ marginTop: '20px' }}\r\n              onClick={async () => {\r\n                if (user.is_user_no && type) {\r\n                  const res = await postBlackList({\r\n                    is_user_no: user.is_user_no,\r\n                    black_type: type,\r\n                  });\r\n                  if (res) {\r\n                    console.log(res);\r\n                    if (res?.status_code === 200) {\r\n                      dispatch(\r\n                        fetchGetBlackList({\r\n                          params: {\r\n                            search_type: 'ID',\r\n                          },\r\n                        })\r\n                      );\r\n                      setIsVisible(false);\r\n                    }\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              등록\r\n            </Button>\r\n          </Space>\r\n        )}\r\n\r\n        {stateCode === 404 && <div>회원을 찾을 수 없습니다.</div>}\r\n      </ActionWrapped>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default MemberSearchModal;\r\n","import { Button } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { fetchGetBlackList, selectBlackList } from '../../slice/BlackListSlice';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BlackTable from './BlackTable';\r\nimport MemberSearchModal from './MemberSearchModal';\r\nimport MemberTable from './MemberTable';\r\nimport useGetBlackList from './useGetBlackList';\r\n\r\nconst BlackListContainerWrapped = styled.div`\r\n  width: 100%;\r\n`;\r\nconst TableWrapped = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst BlackListContainer = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchGetBlackList({\r\n        params: {\r\n          search_type: 'ID',\r\n        },\r\n      })\r\n    );\r\n  }, []);\r\n  // const banList = useSelector(selectBlackList);\r\n  // const [dataSource, setDataSource] = useState([]);\r\n  // const source = useGetBlackList();\r\n\r\n  // useEffect(() => {\r\n  //   setDataSource(source);\r\n  // }, [source]);\r\n\r\n  // const\r\n\r\n  useEffect(() => {}, [isVisible]);\r\n  return (\r\n    <BlackListContainerWrapped>\r\n      <MenuGuide title={'블랙리스트'} subTitle={'도서관 회원의 행사/물품의 신청을 제한 할 수 있습니다.'} />\r\n      <Button\r\n        type=\"default\"\r\n        onClick={() => {\r\n          setIsVisible(true);\r\n        }}\r\n        style={{ margin: '10px 0px' }}\r\n      >\r\n        블랙리스트 등록하기\r\n      </Button>\r\n      <MemberSearchModal isVisible={isVisible} setIsVisible={(visible) => setIsVisible(visible)} />\r\n\r\n      <TableWrapped>\r\n        <BlackTable />\r\n      </TableWrapped>\r\n    </BlackListContainerWrapped>\r\n  );\r\n};\r\n\r\nexport default BlackListContainer;\r\n","import { Table } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst MemberTableWrapped = styled.div`\r\n  width: 49%;\r\n`;\r\n\r\nconst columns = [\r\n  {\r\n    title: 'NO',\r\n    dataIndex: '',\r\n    align: 'center',\r\n    width: 50,\r\n    key: uuid(),\r\n    render: (item, record, idx) => {\r\n      var currentPage = Number.parseInt(sessionStorage.getItem('currentPage'));\r\n      return idx + (currentPage - 1) * 10 + 1;\r\n    },\r\n  },\r\n  {\r\n    title: 'ID',\r\n    dataIndex: 'cSubject',\r\n    align: 'center',\r\n    width: 80,\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '이름',\r\n    dataIndex: 'eqpName',\r\n    align: 'center',\r\n    width: 80,\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '전화번호',\r\n    dataIndex: 'question_cnt',\r\n    width: 90,\r\n    align: 'center',\r\n    key: uuid(),\r\n  },\r\n  {\r\n    title: '블랙',\r\n    dataIndex: 'question_cnt',\r\n    width: 80,\r\n    align: 'center',\r\n    key: uuid(),\r\n  },\r\n];\r\n\r\nconst MemberTable = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dataSource, setDataSource] = useState([]);\r\n  return (\r\n    <MemberTableWrapped>\r\n      <div>회원</div>\r\n      <Table\r\n        rowKey={(dataSource) => dataSource.dcs_idx}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        bordered\r\n        size='small'\r\n      />\r\n    </MemberTableWrapped>\r\n  );\r\n};\r\n\r\nexport default MemberTable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, DatePicker, Table, Space, Collapse, Input, Select, Button } from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport { getDvdLogs } from '../../../api/Dvd.api';\r\nimport { logDvdType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nconst DvdLogModal = ({ isDvdModal, setIsModal }: { isDvdModal: boolean; setIsModal: any }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [startDate, setStartDate] = useState(moment().add(-1, 'month').format('YYYY-MM-DD'));\r\n  const [endDate, setEndDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const [user_key, setUserKey] = useState('');\r\n  const [user_name, setUserName] = useState('');\r\n\r\n  const [dataSource, setDataSource] = useState<logDvdType[]>([]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'DVD Room Name',\r\n      dataIndex: 'room_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'type',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        const text = _item === 'RESERVE' ? '예약' : '취소';\r\n        return <h1>{text}</h1>;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        const date = moment(_item).format('YYYY-MM-DD HH:mm');\r\n        return <h1>{date}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const okOk = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await getDvdLogs({ params: { end_date: endDate, start_date: startDate, user_key, user_name } });\r\n      if (result.status_code === 200) {\r\n        setDataSource(result.response_body);\r\n      }\r\n      console.log(result.status_code);\r\n    } catch (err) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"item-history-modal\"\r\n      //   title={`${itemDetail.item_prop_subject} 대여 이력`}\r\n      visible={isDvdModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsModal(false);\r\n        // setIsItemHistoryModal(false);\r\n        // setDataSource([]);\r\n        // setCurrentPage(1);\r\n        // setFilter(new FilterObject());\r\n      }}\r\n    >\r\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => <FilterOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} />}\r\n              style={{ marginTop: '20px' }}\r\n            >\r\n              <Collapse.Panel header={<Text style={{ cursor: 'pointer' }}>이력 조회 설정</Text>} key=\"1\">\r\n                <Space direction=\"horizontal\" style={{ width: '100%' }} size=\"large\">\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[moment(startDate), moment(endDate)]}\r\n                      onChange={(e) => {\r\n                        if (e) {\r\n                          const [mStart, mEnd] = e;\r\n                          mStart && setStartDate(mStart?.format(dateFormat));\r\n                          mEnd && setEndDate(mEnd?.format(dateFormat));\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size=\"small\"\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserKey(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 이름 </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserName(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                  </Space>\r\n                  {/* <Space>\r\n                    <Text>처리 상태</Text>\r\n                    <Select\r\n                      //   value={filter.state}\r\n                      style={{ width: '150px' }}\r\n                      size=\"small\"\r\n                      onChange={(e) => {\r\n                        // filter.state = e;\r\n                        // setFilter(Map(filter).toJS());\r\n                      }}\r\n                    >\r\n                      <Select.Option key=\"total\">전체</Select.Option>\r\n                      <Select.Option key=\"loaning\">대여</Select.Option>\r\n                      <Select.Option key=\"return\">반납</Select.Option>\r\n                    </Select>\r\n                  </Space> */}\r\n                </Space>\r\n\r\n                {/* <Space></Space>\r\n                <div\r\n                  style={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'flex-end',\r\n                    marginTop: '0.5rem',\r\n                  }}\r\n                >\r\n                  <Space>\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                     <Button\r\n                      size=\"small\"\r\n                      onClick={async () => {\r\n                        // setFilter(new FilterObject());\r\n                      }}\r\n                    >\r\n                      초기화\r\n                    </Button> \r\n                  </Space>\r\n                </div> */}\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table\r\n          rowKey={(dataSource) => uuid()}\r\n          loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          //   pagination={{\r\n          //     pageSize: 10,\r\n          //     current: currentPage,\r\n          //     onChange: (e) => {\r\n          //       sessionStorage.setItem('currentPage', e);\r\n          //       setCurrentPage(e);\r\n          //     },\r\n          //   }}\r\n        />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DvdLogModal;\r\n","import { Table, Button, Badge } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport uuid from 'react-uuid';\r\nimport { Link } from 'react-router-dom';\r\nimport useGetDvdList from './useGetDvdList';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport DvdLogModal from './DvdLogModal';\r\nimport { selectDvdSlice, setDvdDetail, setDvdRoomName } from '../../../slice/DvdSlice';\r\n\r\nconst DvdContainer = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { room_name } = useSelector(selectDvdSlice);\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')!) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const [isModal, setIsModal] = useState(false);\r\n\r\n  const dataSource = useGetDvdList();\r\n\r\n  console.log(dataSource);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'DVD Room Name',\r\n      dataIndex: 'room_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <Link\r\n            onClick={() => {\r\n              dispatch(\r\n                setDvdDetail({\r\n                  room_name: _record.room_name,\r\n                  start_time: _record.start_time,\r\n                  end_time: _record.end_time,\r\n                  use_flag: _record.use_flag,\r\n                  hours_of_use: _record.hours_of_use,\r\n                  select_count: _record.select_count,\r\n                })\r\n              );\r\n              //   dispatch(setDvdRoomName({ room_name: _record.room_name }));\r\n            }}\r\n            to={{ pathname: `/dvd/detail/${_record.seq}` }}\r\n          >\r\n            {_item}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (_record.use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <DvdLogModal isDvdModal={isModal} setIsModal={setIsModal} />\r\n        <MenuGuide title={'실 등록 관리'} subTitle={'실 등록 / 수정 / 상태를 관리할 수 있습니다.'} />\r\n        <Table\r\n          rowKey={(_dataSource) => uuid()}\r\n          //   loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          //   pagination={{\r\n          //     pageSize: 10,\r\n          //     current: currentPage,\r\n          //     onChange: (e) => {\r\n          //       sessionStorage.setItem('currentPage', e);\r\n          //       setCurrentPage(e);\r\n          //     },\r\n          //   }}\r\n        />\r\n        <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n          <Button\r\n            type=\"dashed\"\r\n            onClick={(e) => {\r\n              setIsModal(true);\r\n            }}\r\n            style={{ width: '100px' }}\r\n          >\r\n            예약 조회\r\n          </Button>\r\n          <Link\r\n            to={{\r\n              pathname: '/dvd/form/new',\r\n            }}\r\n          >\r\n            <Button type=\"primary\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DvdContainer;\r\n","import { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { Button, Input, Popconfirm, Radio, Space, Table } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { noImg } from '../../CommonImage';\r\nimport MenuGuide from '../../MenuGuide';\r\n\r\nconst EventTableContaner = () => {\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState([]);\r\n  const [eventStatus, setEventStatus] = useState('total');\r\n  const keywordInput = useRef();\r\n\r\n  const [currentPage, setCurrentPage] = useState(sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')) : 1);\r\n\r\n  useEffect(() => {\r\n    getPrograms(keywordInput.current.clearableInput.props.value, eventStatus);\r\n  }, [eventStatus]);\r\n\r\n  const getPrograms = (keyword = '', filter = 'total') => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(`/event/index`, {\r\n        params: { keyword, filter },\r\n      })\r\n      .then((res) => {\r\n        setDataSource(res.data.response_body);\r\n        setIsLoading(false);\r\n        keywordInput.current.focus();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const deleteEvent = (event_master_idx) => {\r\n    setIsLoading(true);\r\n    axios\r\n      .delete(`/event/delete/${event_master_idx}`)\r\n      .then((res) => {\r\n        getPrograms();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: '등록번호',\r\n      dataIndex: 'event_master_idx',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '포스터',\r\n      dataIndex: 'event_poster',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (item, record, index) => {\r\n        return (\r\n          <img\r\n            alt=\"chungnam_logo\"\r\n            src={`${axios.defaults.baseURL}/files/event/${record.event_poster.event_poster_file_name}`}\r\n            onError={(error) => {\r\n              error.currentTarget.src = noImg;\r\n            }}\r\n            style={{\r\n              width: '80px',\r\n            }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '행사명',\r\n      dataIndex: 'event_title',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '신청수 / 정원수',\r\n      dataIndex: 'lmit',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (item, record, index) => {\r\n        return `${record.event_applicant_total_cnt}/${record.event_applicant_limit_cnt}`;\r\n      },\r\n    },\r\n    {\r\n      title: '등록일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      width: 200,\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 80,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text, record, index) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={(e) => {\r\n              e.stopPropagation();\r\n              deleteEvent(record.event_master_idx);\r\n            }}\r\n            onCancel={(e) => {\r\n              e.stopPropagation();\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      <MenuGuide title={'행사 등록 관리'} subTitle={'행사 등록을 관리할 수 있습니다.'} />\r\n      <Space direction=\"vertical\" style={{ margin: '10px' }}>\r\n        <Space style={{ margin: '10px 0px' }}>\r\n          <Text>행사명 검색 : </Text>\r\n          <Input\r\n            ref={keywordInput}\r\n            onPressEnter={(e) => {\r\n              getPrograms(e.target.value);\r\n            }}\r\n          />\r\n          <Button\r\n            onClick={(e) => {\r\n              getPrograms(keywordInput.current.clearableInput.props.value);\r\n            }}\r\n            type=\"primary\"\r\n          >\r\n            {`검 색`}\r\n          </Button>\r\n        </Space>\r\n\r\n        <Space>\r\n          <Text>행사 상태 검색 : </Text>\r\n          <Radio.Group\r\n            value={eventStatus}\r\n            onChange={(e) => {\r\n              setEventStatus(e.target.value);\r\n            }}\r\n          >\r\n            <Radio value=\"total\">전체</Radio>\r\n            <Radio value=\"recruit\">모집 중</Radio>\r\n            <Radio value=\"progress\">진행 중</Radio>\r\n            <Radio value=\"close\">종료</Radio>\r\n          </Radio.Group>\r\n        </Space>\r\n      </Space>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size=\"small\"\r\n        bordered\r\n        onRow={(record, rowIndex) => {\r\n          return {\r\n            onClick: (event) => {\r\n              history.push(`/event/detail/${record.event_master_idx}`);\r\n            }, // click row\r\n            onDoubleClick: (event) => {}, // double click row\r\n            onContextMenu: (event) => {}, // right button click row\r\n            onMouseEnter: (event) => {}, // mouse enter row\r\n            onMouseLeave: (event) => {}, // mouse leave row\r\n          };\r\n        }}\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: currentPage,\r\n          onChange: (e) => {\r\n            sessionStorage.setItem('currentPage', e);\r\n            setCurrentPage(e);\r\n          },\r\n        }}\r\n      />\r\n      <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n        <Link\r\n          to={{\r\n            pathname: '/event/form',\r\n          }}\r\n        >\r\n          <Button type=\"primary\" style={{ width: '100px' }}>\r\n            등 록\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventTableContaner;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Modal, DatePicker, Table, Space, Collapse, Input, Select, Button } from 'antd';\r\nimport moment from 'moment';\r\nimport uuid from 'react-uuid';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { FilterOutlined } from '@ant-design/icons';\r\nimport { getDvdLogs } from '../../../api/Dvd.api';\r\nimport { logDvdType } from '../../../types/Dvd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { getItemLoanLogs } from '../../../api/ItemLoan.api';\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nconst ItemLoanLogModal = ({ isDvdModal, setIsModal }: { isDvdModal: boolean; setIsModal: any }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [startDate, setStartDate] = useState(moment().add(-1, 'month').format('YYYY-MM-DD'));\r\n  const [endDate, setEndDate] = useState(moment().format('YYYY-MM-DD'));\r\n  const [user_key, setUserKey] = useState('');\r\n  const [user_name, setUserName] = useState('');\r\n\r\n  const [dataSource, setDataSource] = useState<logDvdType[]>([]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: 'Item Name',\r\n      dataIndex: 'item_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원ID)',\r\n      dataIndex: 'user_key',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약자(회원이름)',\r\n      dataIndex: 'user_name',\r\n      key: uuid(),\r\n      width: 150,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'type',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        let text;\r\n        if (_item === 'RESERVE') {\r\n          text = '예약';\r\n        } else if (_item === 'CANCEL') {\r\n          text = '취소';\r\n        } else {\r\n          text = '반납';\r\n        }\r\n        // const text = _item === 'RESERVE' ? '예약' : '취소';\r\n        return <h1>{text}</h1>;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        return <h1>{_item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '예약 신청일',\r\n      dataIndex: 'reg_date',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, record: any) => {\r\n        const date = moment(_item).format('YYYY-MM-DD HH:mm');\r\n        return <h1>{date}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const okOk = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await getItemLoanLogs({ params: { end_date: endDate, start_date: startDate, user_key, user_name } });\r\n      if (result.status_code === 200) {\r\n        setDataSource(result.response_body);\r\n      }\r\n      console.log(result.status_code);\r\n    } catch (err) {\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"item-history-modal\"\r\n      visible={isDvdModal}\r\n      okButtonProps={{\r\n        style: {\r\n          display: 'none',\r\n        },\r\n      }}\r\n      cancelText={'닫기'}\r\n      onCancel={() => {\r\n        setIsModal(false);\r\n      }}\r\n    >\r\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n        <div>\r\n          <div>\r\n            <Collapse\r\n              defaultActiveKey={1}\r\n              expandIcon={({ isActive }) => <FilterOutlined style={{ fontSize: '1.2em', color: 'rgba(0, 0, 0, 0.65)' }} />}\r\n              style={{ marginTop: '20px' }}\r\n            >\r\n              <Collapse.Panel header={<Text style={{ cursor: 'pointer' }}>이력 조회 설정</Text>} key=\"1\">\r\n                <Space direction=\"horizontal\" style={{ width: '100%' }} size=\"large\">\r\n                  <Space>\r\n                    <Text>기 간</Text>\r\n                    <DatePicker.RangePicker\r\n                      value={[moment(startDate), moment(endDate)]}\r\n                      onChange={(e) => {\r\n                        if (e) {\r\n                          const [mStart, mEnd] = e;\r\n                          mStart && setStartDate(mStart?.format(dateFormat));\r\n                          mEnd && setEndDate(mEnd?.format(dateFormat));\r\n                        }\r\n                      }}\r\n                      style={{ width: '280px' }}\r\n                      size=\"small\"\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 ID </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserKey(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                  </Space>\r\n                  <Space>\r\n                    <Text>사용자 이름 </Text>\r\n                    <Input\r\n                      size=\"small\"\r\n                      allowClear\r\n                      style={{ width: '150px' }}\r\n                      onChange={(e) => {\r\n                        e && setUserName(e.target.value);\r\n                      }}\r\n                      onPressEnter={() => {\r\n                        okOk();\r\n                      }}\r\n                    />\r\n                    <Button type=\"primary\" size=\"small\" onClick={okOk}>\r\n                      검색\r\n                    </Button>\r\n                  </Space>\r\n                </Space>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n        <Table rowKey={(dataSource) => uuid()} loading={isLoading} dataSource={dataSource} columns={columns} size=\"small\" bordered />\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ItemLoanLogModal;\r\n","import { Table, Button, Badge } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport uuid from 'react-uuid';\r\nimport { Link } from 'react-router-dom';\r\nimport useGetItemList from './useGetItemList';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ItemLoanLogModal from './ItemLoanLogModal';\r\nimport { selectItemLoanSlice, setItemLoanDetail, setItemLoanName } from '../../../slice/ItemLoanSlice';\r\n\r\nconst ItemLoanContainer = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const { item_name } = useSelector(selectItemLoanSlice);\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(\r\n    sessionStorage.getItem('currentPage') ? Number.parseInt(sessionStorage.getItem('currentPage')!) : sessionStorage.setItem('currentPage', '1')\r\n  );\r\n\r\n  const [isModal, setIsModal] = useState(false);\r\n\r\n  const dataSource = useGetItemList(currentPage);\r\n\r\n  console.log(dataSource);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: '',\r\n      key: uuid(),\r\n      width: 80,\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        var currentPage = Number.parseInt(sessionStorage.getItem('currentPage')!);\r\n        return idx + (currentPage - 1) * 10 + 1;\r\n      },\r\n    },\r\n    {\r\n      title: '일반물품',\r\n      dataIndex: 'item_name',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        return (\r\n          <Link\r\n            onClick={() => {\r\n              dispatch(\r\n                setItemLoanDetail({\r\n                  item_name: _record.item_name,\r\n                  start_time: _record.start_time,\r\n                  end_time: _record.end_time,\r\n                  use_flag: _record.use_flag,\r\n                  hours_of_use: _record.hours_of_use,\r\n                  select_count: _record.select_count,\r\n                })\r\n              );\r\n              //   dispatch(setDvdRoomName({ room_name: _record.room_name }));\r\n            }}\r\n            to={{ pathname: `/item/detail/${_record.seq}` }}\r\n          >\r\n            {_item}\r\n          </Link>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '상태',\r\n      dataIndex: 'use_flag',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (_item: any, _record: any, idx: any) => {\r\n        if (_record.use_flag === 'N') {\r\n          return <Badge status=\"default\" text=\"사용 불가\" />;\r\n        } else {\r\n          return <Badge status=\"processing\" text=\"정상 운영\" />;\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '시작시간',\r\n      dataIndex: 'start_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n    {\r\n      title: '종료시간',\r\n      dataIndex: 'end_time',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item: any, record: any) => {\r\n        return <h1>{item}</h1>;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ItemLoanLogModal isDvdModal={isModal} setIsModal={setIsModal} />\r\n        <MenuGuide title={'물품'} subTitle={'물품 등록 / 수정 / 상태를 관리할 수 있습니다.'} />\r\n        <Table\r\n          rowKey={(_dataSource) => uuid()}\r\n          //   loading={isLoading}\r\n          dataSource={dataSource}\r\n          columns={columns}\r\n          size=\"small\"\r\n          bordered\r\n          pagination={{\r\n            pageSize: 10,\r\n            current: typeof currentPage === 'number' ? currentPage : 1,\r\n            onChange: (e) => {\r\n              const pageNumber = e?.toString();\r\n              sessionStorage.setItem('currentPage', pageNumber);\r\n              setCurrentPage(e);\r\n            },\r\n          }}\r\n        />\r\n        <div id=\"regBtn\" style={{ width: '100%', textAlign: 'center' }}>\r\n          <Button\r\n            type=\"dashed\"\r\n            onClick={(e) => {\r\n              setIsModal(true);\r\n            }}\r\n            style={{ width: '100px' }}\r\n          >\r\n            예약 조회\r\n          </Button>\r\n          <Link\r\n            to={{\r\n              pathname: '/item/form/new',\r\n            }}\r\n          >\r\n            <Button type=\"primary\" style={{ width: '100px' }}>\r\n              등 록\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemLoanContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from '../item-loan/ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from '../item-loan/ItemLoanDetailItemComponent';\r\nimport '../item-loan/ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst OfficeDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: Constants.OFFICE_ITEM_MASTER_IDX,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`토론실 관리`}\r\n        subTitle={`토론실의 대실 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          토론실 정보\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          토론실 시간\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfficeDetailContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport MenuGuide from '../../MenuGuide';\r\nimport ItemLoanDetailMasterComponent from '../item-loan/ItemLoanDetailMasterComponent';\r\nimport * as Constants from '../../Constants';\r\nimport axios from 'axios';\r\nimport { Map } from 'immutable';\r\nimport { Divider, Space } from 'antd';\r\nimport ItemLoanDetailItemComponent from '../item-loan/ItemLoanDetailItemComponent';\r\nimport '../item-loan/ItemLoanDetail.css';\r\nimport Text from 'antd/lib/typography/Text';\r\n\r\nconst TabletDetailContainer = (props) => {\r\n  const [\r\n    itemMaster = {\r\n      itemList: {},\r\n      item_master_subject: String,\r\n    },\r\n    setItemMaster,\r\n  ] = useState();\r\n  useEffect(() => {\r\n    document.body.className = 'item-loan-detail';\r\n\r\n    getItemMasterAndStatus();\r\n\r\n    return () => {\r\n      document.body.className = '';\r\n    };\r\n  }, []);\r\n\r\n  const getItemMasterAndStatus = () => {\r\n    axios\r\n      .get(`/is/getLoanItemDetail`, {\r\n        params: {\r\n          item_master_idx: Constants.TABLET_ITEM_MASTER_IDX,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setItemMaster(Map(res.data).toJS());\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title={`태블릿 관리`}\r\n        subTitle={`태블릿의 대여 상태를 관리할 수 있습니다.`}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          태블릿 정보\r\n        </Text>\r\n      </Divider>\r\n      <ItemLoanDetailMasterComponent\r\n        {...props}\r\n        itemMaster={itemMaster}\r\n        setItemMaster={setItemMaster}\r\n      />\r\n      <Divider>\r\n        <Text style={{ fontWeight: 'bold', fontFamily: 'NanumGothic' }}>\r\n          태블릿 목록\r\n        </Text>\r\n      </Divider>\r\n      <Space\r\n        direction='vertical'\r\n        style={{ width: '100%', marginBottom: '100px' }}\r\n        size='large'\r\n      >\r\n        {Object.keys(\r\n          Map(itemMaster.itemList)\r\n            .sortBy((item) => item.item_prop_seq)\r\n            .toJS()\r\n        ).map((key, idx) => {\r\n          return (\r\n            <ItemLoanDetailItemComponent\r\n              key={key}\r\n              idx={idx}\r\n              itemDetail={itemMaster.itemList[key]}\r\n              setItemMaster={setItemMaster}\r\n              itemMaster={itemMaster}\r\n            />\r\n          );\r\n        })}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TabletDetailContainer;\r\n","import { Tabs } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { fetchGetBlackList } from '../slice/BlackListSlice';\r\nimport { MatchParams } from '../types/Common';\r\nimport BlackListContainer from './blacklist/BlackListContainer';\r\nimport DvdContainer from './is-system/dvd/DvdContainer';\r\nimport EventTableContaner from './is-system/event/EventTableContaner';\r\nimport ItemLoadTable from './is-system/item-loan/ItemLoanTable';\r\nimport ItemLoanContainer from './is-system/itemLoan/ItemLoanContainer';\r\nimport OfficeDetailContainer from './is-system/office/OfficeDetailContainer';\r\nimport TabletDetailContainer from './is-system/tablet/TabletDetailContainer';\r\n\r\nconst ManagementIs = () => {\r\n  const { TabPane } = Tabs;\r\n  const match = useRouteMatch<MatchParams>();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem('currentPage', '1');\r\n    history.push(`/is/${key}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { key } = match.params;\r\n    switch (key) {\r\n      case 'blacklist':\r\n        dispatch(\r\n          fetchGetBlackList({\r\n            params: {\r\n              search_type: 'ID',\r\n            },\r\n          })\r\n        );\r\n        break;\r\n      case 'dvd':\r\n        break;\r\n      case 'item':\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [match.params.key]);\r\n\r\n  return (\r\n    <Tabs onChange={callback} type=\"card\" defaultActiveKey=\"1\" activeKey={match.params.key}>\r\n      <TabPane tab=\"행사\" key=\"event\">\r\n        <EventTableContaner />\r\n      </TabPane>\r\n      <TabPane tab=\"DVD실\" key=\"dvd\">\r\n        <DvdContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"일반물품\" key=\"item\">\r\n        {/* \r\n        //2022-06-20 이전에 사용하던 컴포넌트\r\n        <ItemLoadTable />  */}\r\n        <ItemLoanContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"토론실\" key=\"2\">\r\n        <OfficeDetailContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"태블릿\" key=\"3\">\r\n        <TabletDetailContainer />\r\n      </TabPane>\r\n      <TabPane tab=\"블랙리스트\" key=\"blacklist\">\r\n        <BlackListContainer />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementIs;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { message, Popconfirm, Table } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { deleteBanner } from '../../api/banner.api';\r\nimport { fetchBanners, selectBanner, setBannerType } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport { noImg } from '../CommonImage';\r\n\r\nexport default function BannerTable() {\r\n  const dispatch = useDispatch();\r\n  const bannerState = useSelector(selectBanner);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    dispatch(setBannerType({ banner_type: 'EVENT' }));\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    if (bannerState.banners) {\r\n      if (bannerState.banners.currentPage === null) {\r\n        dispatch(fetchBanners({ cur_page: 1, banner_type: 'EVENT' }));\r\n      } else {\r\n        dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n      }\r\n    }\r\n  }, [bannerState.banners.currentPage]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'banner_idx',\r\n      align: 'center',\r\n      width: 1,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '썸네일',\r\n      dataIndex: 'thumnail',\r\n      align: 'center',\r\n      width: 30,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        if (record.file_info && record.file_info.length > 0) {\r\n          return (\r\n            <img\r\n              src={`${axios.defaults.baseURL}/files/banner/${record.file_info[0].saved_file_name}`}\r\n              alt=\"thumnail\"\r\n              onError={(e) => {\r\n                e.currentTarget.src = noImg;\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '제목',\r\n      dataIndex: 'title',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        return (\r\n          <div\r\n            className=\"w-full h-full hover:text-blue-600\"\r\n            onClick={() => {\r\n              history.push(`/banner/${record.banner_idx}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '파일수',\r\n      dataIndex: 'file_count',\r\n      align: 'center',\r\n      width: 20,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '시작일',\r\n      dataIndex: 'banner_start_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '마감일',\r\n      dataIndex: 'banner_end_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 10,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text: any, record: { banner_idx: number }, index: any) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={async () => {\r\n              const response = await deleteBanner({\r\n                banner_idx: record.banner_idx,\r\n              });\r\n              if (response.data.status_code === 200) {\r\n                message.success(`삭제되었습니다.`);\r\n                dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n              }\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    bannerState?.banners && (\r\n      <Table\r\n        rowKey={() => uuid()}\r\n        bordered\r\n        size=\"small\"\r\n        pagination={{\r\n          pageSize: 10,\r\n          current: bannerState.banners.currentPage,\r\n          total: bannerState.banners.totalCount,\r\n          onChange: (page) => {\r\n            dispatch(fetchBanners({ cur_page: page, banner_type: 'EVENT' }));\r\n          },\r\n        }}\r\n        columns={columns}\r\n        dataSource={bannerState.banners.bannerDtoList}\r\n      />\r\n    )\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { IoMdCreate } from 'react-icons/io';\r\nimport { useHistory } from 'react-router';\r\nimport MenuGuide from '../MenuGuide';\r\nimport BannerTable from './BannerTable';\r\n\r\nexport default function Banner() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classNames('w-full h-full')}>\r\n      <MenuGuide title=\"화면 관리 ▶ 행사안내(배너)\" subTitle=\"이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('w-full flex justify-between items-end', 'my-3')}>\r\n        <Button\r\n          type=\"primary\"\r\n          className=\"text-white flex items-center\"\r\n          onClick={() => {\r\n            history.push('/banner/new');\r\n          }}\r\n        >\r\n          <IoMdCreate />\r\n          <div className=\"mx-3\">등 록</div>\r\n        </Button>\r\n      </div>\r\n      <BannerTable />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DeleteOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { message, Popconfirm, Table } from 'antd';\r\nimport { ColumnsType } from 'antd/lib/table';\r\nimport axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { deleteBanner } from '../../api/banner.api';\r\nimport { fetchBanners, selectBanner, setBannerType } from '../../slice/BannerSlice';\r\nimport { BannerDtoList } from '../../types/Banner';\r\nimport { noImg } from '../CommonImage';\r\n\r\nexport default function RecommandTable() {\r\n  const dispatch = useDispatch();\r\n  const bannerState = useSelector(selectBanner);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(setBannerType({ banner_type: 'RECOMMEND' }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (bannerState.banners) {\r\n      if (bannerState.banners.currentPage === null) {\r\n        dispatch(fetchBanners({ cur_page: 1, banner_type: 'RECOMMEND' }));\r\n      } else {\r\n        dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'RECOMMEND' }));\r\n      }\r\n    }\r\n  }, [bannerState.banners.currentPage]);\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: 'NO',\r\n      dataIndex: 'banner_idx',\r\n      align: 'center',\r\n      width: 1,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '썸네일',\r\n      dataIndex: 'thumnail',\r\n      align: 'center',\r\n      width: 30,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        if (record.file_info && record.file_info.length > 0) {\r\n          return (\r\n            <img\r\n              src={`${axios.defaults.baseURL}/files/banner/${record.file_info[0].saved_file_name}`}\r\n              alt=\"thumnail\"\r\n              onError={(e) => {\r\n                e.currentTarget.src = noImg;\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      title: '제목',\r\n      dataIndex: 'title',\r\n      align: 'center',\r\n      width: 200,\r\n      key: uuid(),\r\n      render: (item, record: BannerDtoList, idx) => {\r\n        return (\r\n          <div\r\n            className=\"w-full h-full hover:text-blue-600\"\r\n            onClick={() => {\r\n              history.push(`/banner/${record.banner_idx}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '파일수',\r\n      dataIndex: 'file_count',\r\n      align: 'center',\r\n      width: 20,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '시작일',\r\n      dataIndex: 'banner_start_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '마감일',\r\n      dataIndex: 'banner_end_date',\r\n      align: 'center',\r\n      width: 50,\r\n      key: uuid(),\r\n    },\r\n    {\r\n      title: '삭제',\r\n      dataIndex: 'delete',\r\n      width: 10,\r\n      align: 'center',\r\n      key: uuid(),\r\n      render: (text: any, record: { banner_idx: number }, index: any) => {\r\n        return (\r\n          <Popconfirm\r\n            title=\"삭제하시겠습니까?\"\r\n            icon={<QuestionCircleOutlined style={{ color: 'red' }} />}\r\n            onConfirm={async () => {\r\n              const response = await deleteBanner({\r\n                banner_idx: record.banner_idx,\r\n              });\r\n              if (response.data.status_code === 200) {\r\n                message.success(`삭제되었습니다.`);\r\n                dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'RECOMMEND' }));\r\n              }\r\n            }}\r\n            onCancel={() => {\r\n              return;\r\n            }}\r\n            okText=\"예\"\r\n            cancelText=\"아니오\"\r\n          >\r\n            <DeleteOutlined\r\n              style={{ fontSize: '1.5em', color: '#c0392b' }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            />\r\n          </Popconfirm>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Table\r\n      rowKey={() => uuid()}\r\n      bordered\r\n      size=\"small\"\r\n      pagination={{\r\n        pageSize: 10,\r\n        current: bannerState.banners.currentPage,\r\n        total: bannerState.banners.totalCount,\r\n        onChange: (page) => {\r\n          dispatch(fetchBanners({ cur_page: page, banner_type: 'RECOMMEND' }));\r\n        },\r\n      }}\r\n      columns={columns}\r\n      dataSource={bannerState.banners.bannerDtoList}\r\n    />\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { IoMdCreate } from 'react-icons/io';\r\nimport { useHistory } from 'react-router';\r\nimport MenuGuide from '../MenuGuide';\r\nimport RecommandTable from './RecommandTable';\r\n\r\nexport default function Recommand() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className={classNames('w-full h-full')}>\r\n      <MenuGuide title=\"화면 관리 ▶ 사서추천\" subTitle=\"사서추천 이미지를 등록/수정 합니다.\" />\r\n      <div className={classNames('w-full flex justify-between items-end', 'my-3')}>\r\n        <Button\r\n          type=\"primary\"\r\n          className=\"text-white flex items-center\"\r\n          onClick={() => {\r\n            history.push('/recommandImage/new');\r\n          }}\r\n        >\r\n          <IoMdCreate />\r\n          <div className=\"mx-3\">등 록</div>\r\n        </Button>\r\n      </div>\r\n      <RecommandTable />\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  LectureListType,\r\n  CategoryType,\r\n  LectureDetailType,\r\n} from \"../types/Lecture\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const getLectureByType = async () => {\r\n  const response = await axios.get<ResponseVo<CategoryType[]>>(`/lecture`);\r\n  return response.data;\r\n};\r\n\r\nexport const getLectureListByType = async (type_seq: number) => {\r\n  const response = await axios.get<ResponseVo<LectureListType[]>>(\r\n    `/lecture/${type_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getLectureDetail = async ({\r\n  type_seq,\r\n  lecture_seq,\r\n}: {\r\n  type_seq: number;\r\n  lecture_seq: number;\r\n}) => {\r\n  const response = await axios.get<ResponseVo<LectureDetailType>>(\r\n    `/lecture/${type_seq}/${lecture_seq}`\r\n  );\r\n  return response.data;\r\n};\r\n// 강좌 수정,삭제 작업은  삼척 선생님이 엑셀로 작업후 재업로드 하기로 함 08/31 (미례)\r\n// export const postLecture = async () => {\r\n//   console.log(\"postLecture called\");\r\n// };\r\n// export const putLecture = async () => {};\r\n\r\nexport const deleteLecture = async (type_seq: number, lecture_seq: number) => {\r\n  const response = await axios.delete<ResponseVo<any>>(\r\n    `/lecture/${type_seq}/${lecture_seq}`\r\n  );\r\n  return response;\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport * as LectureType from \"../types/Lecture\";\r\nimport {\r\n  getLectureByType,\r\n  getLectureListByType,\r\n  getLectureDetail,\r\n} from \"../api/Lecture.api\";\r\nimport { ResponseVo } from \"../types/ResponseVo\";\r\n\r\nexport const LECTURE = \"LECTURE\";\r\n\r\ntype LectureTypes = {\r\n  categoryList: LectureType.CategoryType;\r\n  lectureList: LectureType.LectureListType;\r\n  lectureDetail: LectureType.LectureDetailType;\r\n};\r\n\r\ntype PayloadType = {\r\n  [LECTURE]: LectureTypes;\r\n};\r\n\r\nexport const fetchLectureCategory = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureCategory`,\r\n  getLectureByType\r\n);\r\n\r\nexport const fetchLectureList = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureList`,\r\n  getLectureListByType\r\n);\r\n\r\nexport const fetchLectureDetail = createAsyncThunk(\r\n  `${LECTURE}/fetchLectureDetail`,\r\n  getLectureDetail\r\n);\r\n\r\nconst lectureSlice = createSlice({\r\n  name: `${LECTURE}`,\r\n  initialState: {\r\n    categoryList: [],\r\n    lectureList: [],\r\n    lectureDetail: {\r\n      seq: 0,\r\n      lectureTypeSeq: 0,\r\n      title: \"\",\r\n      method: \"\",\r\n      instructor: \"\",\r\n      recruitmentCount: 0,\r\n      roomNo: \"\",\r\n      weekDay: \"\",\r\n      lectureTime: \"\",\r\n      desc: \"\",\r\n      materialCosts: \"\",\r\n    },\r\n  } as LectureTypes,\r\n  reducers: {\r\n    resetLectureDetail: (state) => {\r\n      console.log(\"reset lecture\");\r\n\r\n      state.lectureDetail = {\r\n        seq: -1,\r\n        lectureTypeSeq: -1,\r\n        title: \"\",\r\n        method: \"\",\r\n        instructor: \"\",\r\n        recruitmentCount: -1,\r\n        roomNo: \"\",\r\n        weekDay: \"\",\r\n        lectureTime: \"\",\r\n        desc: \"\",\r\n        materialCosts: \"\",\r\n      };\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchLectureCategory.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.CategoryType>>\r\n    ) => {\r\n      state.categoryList = action.payload.response_body;\r\n    },\r\n    [fetchLectureCategory.rejected.type]: (state) => {},\r\n    [fetchLectureList.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.LectureListType>>\r\n    ) => {\r\n      state.lectureList = action.payload.response_body;\r\n    },\r\n    [fetchLectureList.rejected.type]: (state) => {},\r\n    [fetchLectureDetail.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<LectureType.LectureDetailType>>\r\n    ) => {\r\n      state.lectureDetail = action.payload.response_body;\r\n    },\r\n    [fetchLectureDetail.rejected.type]: (state) => {},\r\n  },\r\n});\r\n\r\nexport const { resetLectureDetail } = lectureSlice.actions;\r\n\r\nexport default lectureSlice.reducer;\r\nexport const selectLectureSlice = (state: PayloadType) => state[LECTURE];\r\n","import React, { useState, useRef } from \"react\";\r\nimport { Table, Popconfirm, message, Modal } from \"antd\";\r\nimport { DeleteOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\r\nimport { deleteLecture } from \"../../../api/Lecture.api\";\r\nimport { LectureListType } from \"../../../types/Lecture\";\r\nimport { fetchLectureDetail } from \"../../../slice/LectureSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\n\r\nconst LectureTable = ({\r\n  lectureList,\r\n  pickedType,\r\n  setIsVisible,\r\n  page,\r\n  setPage,\r\n}: {\r\n  lectureList?: LectureListType;\r\n  pickedType: number;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n  page: number;\r\n  setPage: React.Dispatch<React.SetStateAction<number>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const DEFAULT_PAGESIZE = 20;\r\n\r\n  const columns: ColumnsType<any> = [\r\n    {\r\n      title: \"NO\",\r\n      dataIndex: \"no\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      render: (something: any, record: { seq: number }, idx: any) => {\r\n        const unit = page - 1;\r\n\r\n        const no = page === 1 ? idx : unit * DEFAULT_PAGESIZE + idx;\r\n        return <div>{no + 1}</div>;\r\n      },\r\n    },\r\n    {\r\n      title: \"프로그램명\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      align: \"center\",\r\n      render: (text: any) => <div className=\"hover:text-blue-600\">{text}</div>,\r\n    },\r\n    {\r\n      title: \"강사명\",\r\n      dataIndex: \"instructor\",\r\n      key: \"instructor\",\r\n      width: \"20%\",\r\n      align: \"center\",\r\n    },\r\n    // {\r\n    //   title: \"삭제\",\r\n    //   dataIndex: \"delete\",\r\n    //   render: (something: any, record: { seq: number }) => {\r\n    //     return (\r\n    //       <Popconfirm\r\n    //         title=\"삭제하시겠습니까?\"\r\n    //         icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n    //         onConfirm={async () => {\r\n    //           const response = await deleteLecture(pickedType, record.seq);\r\n    //           //삭제, 수정은 엑셀 파일 내에서 하기로함\r\n    //           if (response.data.status_code === 200) {\r\n    //             message.success(`삭제되었습니다.`);\r\n\r\n    //             // dispatch(fetchBanners({ cur_page: bannerState.banners.currentPage, banner_type: 'EVENT' }));\r\n    //             // console.log(response.data.response_body);\r\n    //           }\r\n    //         }}\r\n    //         onCancel={() => {\r\n    //           return;\r\n    //         }}\r\n    //         okText=\"예\"\r\n    //         cancelText=\"아니오\"\r\n    //       >\r\n    //         <DeleteOutlined\r\n    //           style={{ fontSize: \"1.5em\", color: \"#c0392b\" }}\r\n    //           onClick={(e) => {\r\n    //             e.preventDefault();\r\n    //           }}\r\n    //         />\r\n    //       </Popconfirm>\r\n    //     );\r\n    //   },\r\n    // },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center text-center\">\r\n      <Table\r\n        style={{\r\n          width: \"100%\",\r\n        }}\r\n        size=\"small\"\r\n        bordered\r\n        dataSource={lectureList}\r\n        columns={columns}\r\n        onRow={(record: any, rowIndex) => {\r\n          return {\r\n            onClick: (event) => {\r\n              dispatch(\r\n                fetchLectureDetail({\r\n                  type_seq: pickedType,\r\n                  lecture_seq: record.seq,\r\n                })\r\n              );\r\n              setIsVisible(true);\r\n            },\r\n          };\r\n        }}\r\n        pagination={{\r\n          defaultPageSize: DEFAULT_PAGESIZE,\r\n          current: page,\r\n          onChange: (page) => {\r\n            setPage(page);\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureTable;\r\n","import React from \"react\";\r\nimport { Button, message, Upload } from \"antd\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  fetchLectureList,\r\n  fetchLectureCategory,\r\n} from \"../../../slice/LectureSlice\";\r\nimport axios from \"axios\";\r\n\r\nconst LectureExcelAddForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const beforeUpload = (file: any) => {\r\n    const isExcel =\r\n      file.type ===\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\r\n\r\n    if (!isExcel) {\r\n      message.error(`${file.name} 엑셀 파일만 업로드가 가능합니다.`);\r\n    }\r\n    return isExcel;\r\n  };\r\n\r\n  const props = {\r\n    name: \"file\",\r\n    action: `${axios.defaults.baseURL}/lecture/excel`,\r\n\r\n    //\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"?\r\n    onChange(info: any) {\r\n      if (info.file.status !== \"uploading\") {\r\n        console.log(info.file);\r\n      }\r\n\r\n      if (info.file.status === \"done\") {\r\n        dispatch(fetchLectureCategory());\r\n        message.success(\r\n          `${info.file.name} 파일 업로드가 정상적으로 이루어졌습니다.`\r\n        );\r\n      } else if (info.file.status === \"error\") {\r\n        message.error(\r\n          `${info.file.name} 파일 업로드에 실패했습니다. 엑셀 파일을 확인해주세요.`\r\n        );\r\n        return (info.file.error.message = \"Upload error\");\r\n      }\r\n    },\r\n  };\r\n  return (\r\n    <div className=\"my-2\">\r\n      <Upload\r\n        {...props}\r\n        accept=\".xlsx\"\r\n        maxCount={1}\r\n        beforeUpload={beforeUpload}\r\n      >\r\n        <Button icon={<UploadOutlined />} type=\"primary\">\r\n          엑셀 업로드\r\n        </Button>\r\n      </Upload>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureExcelAddForm;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst DetailHeader = styled.span`\r\n  font-weight: bold;\r\n`;\r\n\r\nconst LectureModalText = ({\r\n  field,\r\n  content,\r\n}: {\r\n  field: string;\r\n  content?: string | undefined | number;\r\n}) => {\r\n  const test = content === \"\" ? false : true;\r\n  return (\r\n    <li>\r\n      {test && (\r\n        <>\r\n          <DetailHeader>{field}</DetailHeader> : <span>{content}</span>\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default LectureModalText;\r\n","import React from \"react\";\r\nimport { Modal, Button } from \"antd\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  resetLectureDetail,\r\n  selectLectureSlice,\r\n} from \"../../../slice/LectureSlice\";\r\nimport styled from \"styled-components\";\r\nimport LectureModalText from \"./LectureModalText\";\r\n\r\nconst LectureDetailModal = ({\r\n  visible,\r\n  setIsVisible,\r\n}: {\r\n  visible: boolean;\r\n  setIsVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const { lectureDetail } = useSelector(selectLectureSlice);\r\n\r\n  const handleDetailModal = () => {\r\n    setIsVisible(false);\r\n    dispatch(resetLectureDetail());\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={visible}\r\n      title=\"강좌 상세정보\"\r\n      onOk={handleDetailModal}\r\n      onCancel={handleDetailModal}\r\n      footer={[\r\n        <Button key=\"submit\" type=\"primary\" onClick={handleDetailModal}>\r\n          확인\r\n        </Button>,\r\n      ]}\r\n      width={600}\r\n    >\r\n      <ul className=\"flex-col items-center list-disc  mx-5\">\r\n        <LectureModalText field={\"프로그램명\"} content={lectureDetail.title} />\r\n        <LectureModalText field={\"강사명\"} content={lectureDetail.instructor} />\r\n        <LectureModalText field={\"강좌소개\"} content={lectureDetail.desc} />\r\n        <LectureModalText field={\"강의실\"} content={lectureDetail.roomNo} />\r\n        <LectureModalText\r\n          field={\"모집인원\"}\r\n          content={lectureDetail.recruitmentCount}\r\n        />\r\n        <LectureModalText field={\"요일\"} content={lectureDetail.weekDay} />\r\n        <LectureModalText field={\"수업방법\"} content={lectureDetail.method} />\r\n        <LectureModalText\r\n          field={\"비고\"}\r\n          content={lectureDetail.materialCosts}\r\n        />\r\n      </ul>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LectureDetailModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Select, Tooltip, Space } from \"antd\";\r\nimport MenuGuide from \"../../MenuGuide\";\r\nimport { getLectureByType } from \"../../../api/Lecture.api\";\r\nimport { LectureListType } from \"../../../types/Lecture\";\r\n//components\r\nimport LectureTable from \"./LectureTable\";\r\nimport LectureExcelAddForm from \"./LectureExcelAddForm\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  fetchLectureCategory,\r\n  fetchLectureList,\r\n  selectLectureSlice,\r\n} from \"../../../slice/LectureSlice\";\r\nimport LectureDetailModal from \"./LectureDetailModal\";\r\n\r\nconst Lecture = () => {\r\n  const dispatch = useDispatch();\r\n  const { categoryList, lectureList } = useSelector(selectLectureSlice);\r\n  const [pickedCategory, setPickedCategory] = useState(0);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const handleSelectorChange = (value: string) => {\r\n    setPickedCategory(Number(value));\r\n    setPage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchLectureCategory());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categoryList.length > 1) setPickedCategory(categoryList[0].seq);\r\n  }, [categoryList]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchLectureList(pickedCategory));\r\n  }, [pickedCategory]);\r\n\r\n  return (\r\n    <div>\r\n      <MenuGuide\r\n        title=\"화면 관리 ▶ 강좌안내\"\r\n        subTitle=\"강좌 등록 및 조회가 가능합니다.\"\r\n      />\r\n      <LectureExcelAddForm />\r\n      {categoryList && categoryList.length > 1 && (\r\n        <>\r\n          <Tooltip placement=\"right\" title=\"강좌 분류\">\r\n            <Select\r\n              defaultValue={categoryList[0].title}\r\n              style={{\r\n                width: 170,\r\n              }}\r\n              onChange={handleSelectorChange}\r\n              className=\"my-5\"\r\n            >\r\n              {categoryList.map((el) => (\r\n                <Select.Option value={el.seq} key={el.seq}>\r\n                  {el.title}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Tooltip>\r\n          <LectureDetailModal visible={isVisible} setIsVisible={setIsVisible} />\r\n        </>\r\n      )}\r\n      <LectureTable\r\n        lectureList={lectureList}\r\n        pickedType={pickedCategory}\r\n        setIsVisible={setIsVisible}\r\n        page={page}\r\n        setPage={setPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lecture;\r\n","import { Tabs } from \"antd\";\r\nimport React from \"react\";\r\nimport { useHistory, useRouteMatch } from \"react-router\";\r\nimport { MatchParams } from \"../types/Common\";\r\nimport Banner from \"./banner/Banner\";\r\nimport Recommand from \"./banner/Recommand\";\r\nimport SimpleDcs from \"./banner/SimpleDcs\";\r\nimport ManagementCaption from \"./caption/ManagementCaption\";\r\nimport ManagementDcs from \"./dcs/ManagementDcs\";\r\nimport Lecture from \"./is-system/lecture/Lecture\";\r\nimport LgsTableContainer from \"./lgs/LgsTableContainer\";\r\nimport ManagementLss from \"./lss/ManagementLss\";\r\nimport ManagementPoll from \"./poll/ManagementPoll\";\r\n\r\nconst ManagementScreen = (props: any) => {\r\n  const { TabPane } = Tabs;\r\n  const history = useHistory();\r\n  const match = useRouteMatch<MatchParams>();\r\n\r\n  function callback(key: string) {\r\n    sessionStorage.setItem(\"currentPage\", \"1\");\r\n    history.push(`/screen/${key}`);\r\n  }\r\n\r\n  return (\r\n    <Tabs\r\n      onChange={callback}\r\n      destroyInactiveTabPane\r\n      type=\"card\"\r\n      activeKey={match.params.key}\r\n    >\r\n      {/* <TabPane tab=\"DCS\" key=\"dcs\">\r\n        <ManagementDcs />\r\n      </TabPane> */}\r\n      <TabPane tab=\"행사안내(배너)\" key=\"banner\">\r\n        <Banner />\r\n      </TabPane>\r\n      {/* <TabPane tab=\"행사안내(영상배너)\" key=\"moviebanner\">\r\n        <SimpleDcs />\r\n      </TabPane> */}\r\n      <TabPane tab=\"사서추천\" key=\"recommand\">\r\n        <Recommand />\r\n      </TabPane>\r\n      {/* <TabPane tab=\"LSS\" key=\"lss\">\r\n        <ManagementLss />\r\n      </TabPane> */}\r\n      {/* \r\n      <TabPane tab=\"설문 관리\" key=\"poll\">\r\n        <ManagementPoll />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"포스터 관리\" key=\"5\">\r\n        <ManagementPoster history={props.history} />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"LGS\" key=\"lgs\">\r\n        <LgsTableContainer />\r\n      </TabPane> */}\r\n      {/* <TabPane tab=\"자막 관리\" key=\"caption\">\r\n        <ManagementCaption />\r\n      </TabPane> */}\r\n      <TabPane tab=\"강좌안내\" key=\"lecture\">\r\n        <Lecture />\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default ManagementScreen;\r\n","import { Button, Form, Input } from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst ManagementUser = (props) => {\r\n  const onFinish = (values) => {\r\n    axios\r\n      .post(`/user/regist`, values)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        onFinish={onFinish}\r\n        style={{\r\n          width: '500px',\r\n          margin: 'auto',\r\n          marginTop: '150px',\r\n        }}\r\n      >\r\n        <Form.Item\r\n          label='ID'\r\n          name='adminID'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              whitespace: true,\r\n              message: '사용자 ID를 입력해주세요',\r\n            },\r\n          ]}\r\n        >\r\n          <Input autoFocus />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label='PW'\r\n          name='password'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              whitespace: true,\r\n              message: '사용자 password를 입력해주세요',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type='primary' htmlType='submit' block>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementUser;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Input, Col, Row, Select, Radio, Checkbox } from 'antd';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport DragHandleIcon from '@material-ui/icons/DragHandle';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Droppable, Draggable, DragDropContext } from 'react-beautiful-dnd';\r\nimport uuid from 'react-uuid';\r\nimport styled from 'styled-components';\r\n\r\nconst ManagementPollContentCard = (props) => {\r\n  const { Option } = Select;\r\n  const { onChangeQuestion, onChangeItemType, onDeleteItem } = props;\r\n  const questionId = props.id;\r\n  const [type, setType] = useState(props.type ? props.type : 'single');\r\n  const [questionTitle, setQuestionTitle] = useState(\r\n    props.questionTitle ? props.questionTitle : ''\r\n  );\r\n  const [items, setItems] = useState(props.items ? props.items : []);\r\n  const dragHandleProps = props.dragHandleProps;\r\n  const [mode, setMode] = useState(\r\n    props.mode === 'regist' ? 'regist' : 'modify'\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (mode === 'regist') {\r\n      addQuestions();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    onChangeQuestion(questionId, questionTitle, items);\r\n  }, [questionTitle, items]);\r\n\r\n  const closeIconStyle = {\r\n    verticalAlign: 'middle',\r\n    cursor: 'pointer',\r\n    marginLeft: '5px',\r\n  };\r\n\r\n  const onDeleteQuestion = (questionId) => {\r\n    var copiedQuestions = Array.from(items);\r\n    var targetIdx = 0;\r\n    copiedQuestions.forEach((question, idx) => {\r\n      if (question.item_id === questionId) {\r\n        targetIdx = idx;\r\n      }\r\n    });\r\n    copiedQuestions.splice(targetIdx, 1);\r\n    setItems(copiedQuestions);\r\n  };\r\n  const grid = 2;\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  // 보기 추가하기 버튼 - start\r\n  const StyledAddElementButton = styled.span`\r\n    color: #3498db;\r\n    cursor: pointer;\r\n    font-family: NotoSansKR-Bold;\r\n    &:hover {\r\n      color: #2980b9;\r\n    }\r\n    margin-top: 5px;\r\n    display: ${type !== 'narrative' ? 'block' : 'none'};\r\n  `;\r\n  const AddElementButton = (addProps) => {\r\n    return (\r\n      <div style={{ margin: '5px', width: '100%' }}>\r\n        <StyledAddElementButton onClick={addQuestions}>\r\n          보기 추가하기\r\n        </StyledAddElementButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // 보기 추가 함수\r\n  const addQuestions = () => {\r\n    var copiedQuestions = Array.from(items);\r\n    var uid = uuid();\r\n    copiedQuestions.push({\r\n      question_id: questionId,\r\n      item_id: uid,\r\n      content: '',\r\n      seq: items.length,\r\n    });\r\n    setItems(copiedQuestions);\r\n  };\r\n  // 보기 추가하기 버튼 - end\r\n\r\n  const onDelete = (id, e) => {\r\n    onDeleteItem(id);\r\n  };\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const fixedItems = reorder(\r\n      items,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n\r\n    setItems(fixedItems);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n        padding: '5px',\r\n      }}\r\n    >\r\n      <div {...dragHandleProps} style={{ textAlign: 'center' }}>\r\n        <DragHandleIcon style={{ fontSize: '30' }} />\r\n      </div>\r\n      <Row>\r\n        <Col span={20} style={{ padding: '5px' }}>\r\n          <Input\r\n            placeholder='질문'\r\n            style={{\r\n              backgroundColor: '#f1f3f4',\r\n              border: '0',\r\n            }}\r\n            value={questionTitle}\r\n            onChange={(e) => {\r\n              setQuestionTitle(e.target.value);\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col span={4} style={{ padding: '5px' }}>\r\n          <Select\r\n            style={{ width: '100%' }}\r\n            defaultValue={type}\r\n            onChange={(value) => {\r\n              setType(value);\r\n              onChangeItemType(questionId, value);\r\n            }}\r\n          >\r\n            <Option value='single'>\r\n              <RadioButtonCheckedIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                단일선택\r\n              </span>\r\n            </Option>\r\n            <Option value='multi'>\r\n              <CheckCircleOutlineIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                다중선택\r\n              </span>\r\n            </Option>\r\n            <Option value='narrative'>\r\n              <QuestionAnswerIcon\r\n                style={{ fontSize: '1.2em', verticalAlign: 'middle' }}\r\n              />\r\n              <span style={{ verticalAlign: 'middel', marginLeft: '5px' }}>\r\n                주관식\r\n              </span>\r\n            </Option>\r\n          </Select>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24} style={{ padding: '5px' }}>\r\n          <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId={uuid()}>\r\n              {(provided, snapshot) => {\r\n                return (\r\n                  <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                    {/* 타입을 분별하기 위한 삼항연산자 - start */}\r\n                    {type !== 'narrative' ? (\r\n                      items.map((item, index) => {\r\n                        return (\r\n                          <Draggable\r\n                            key={item.item_id}\r\n                            draggableId={item.item_id}\r\n                            index={index}\r\n                          >\r\n                            {(provided, snapshot) => (\r\n                              <div\r\n                                ref={provided.innerRef}\r\n                                {...provided.draggableProps}\r\n                                style={getItemStyle(\r\n                                  snapshot.isDragging,\r\n                                  provided.draggableProps.style\r\n                                )}\r\n                              >\r\n                                <span {...provided.dragHandleProps}>\r\n                                  <DragIndicatorIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                </span>\r\n                                {/* 아이콘 변경을 위한삼항연산자 - start */}\r\n                                {type === 'single' ? (\r\n                                  <RadioButtonUncheckedIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                ) : (\r\n                                  <CheckBoxOutlineBlankIcon\r\n                                    style={{\r\n                                      color: '#dfe6e9',\r\n                                      verticalAlign: 'middle',\r\n                                    }}\r\n                                  />\r\n                                )}\r\n                                {/* 아이콘 변경을 위한 삼항연산자 - end */}\r\n                                <Input\r\n                                  key={item.item_id}\r\n                                  placeholder='보기'\r\n                                  style={{\r\n                                    border: '0',\r\n                                    marginLeft: '10px',\r\n                                    maxWidth: '90%',\r\n                                  }}\r\n                                  onChange={(e) => {\r\n                                    e.preventDefault();\r\n                                    var copiedQuestions = Array.from(items);\r\n                                    var targetIdx = 0;\r\n                                    for (\r\n                                      var i = 0;\r\n                                      i < copiedQuestions.length;\r\n                                      i++\r\n                                    ) {\r\n                                      if (\r\n                                        copiedQuestions[i].item_id ===\r\n                                        item.item_id\r\n                                      ) {\r\n                                        targetIdx = i;\r\n                                        break;\r\n                                      }\r\n                                    }\r\n                                    copiedQuestions[targetIdx].content =\r\n                                      e.target.value;\r\n                                    setItems(copiedQuestions);\r\n                                  }}\r\n                                  value={item.content}\r\n                                />\r\n                                <CloseIcon\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    onDeleteQuestion(item.item_id);\r\n                                  }}\r\n                                  style={closeIconStyle}\r\n                                />\r\n                              </div>\r\n                            )}\r\n                          </Draggable>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div\r\n                        style={{\r\n                          border: '0',\r\n                          borderBottom: '1px dotted #dfe6e9',\r\n                          width: '90%',\r\n                          color: '#7f8c8d',\r\n                          margin: '10px',\r\n                        }}\r\n                      >\r\n                        <span style={{ color: '#dfe6e9' }}>주관식 입력</span>\r\n                      </div>\r\n                    )}\r\n                    {/* 타입을 분별하기 위한 삼항연산자 - end */}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                );\r\n              }}\r\n            </Droppable>\r\n          </DragDropContext>\r\n          <AddElementButton />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col span={24} style={{ textAlign: 'right' }}>\r\n          <DeleteOutlineIcon\r\n            style={{ fontSize: '2.5em', cursor: 'pointer' }}\r\n            onClick={(e) => {\r\n              onDelete(questionId, e);\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollContentCard;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport { Input, Switch } from 'antd';\r\n\r\nconst ManagementPollTitleCard = (props) => {\r\n  const { pollTitle, setPollTitle } = props;\r\n  const { pollDesc, setPollDesc } = props;\r\n  const { useYn, setUseYn } = props;\r\n\r\n  const UnderLineInput = styled.input`\r\n    width: 100%;\r\n    height: 40px;\r\n    font-size: 1.3em;\r\n    color: #2c3e50;\r\n    font-family: NotoSansKR-Bold;\r\n    outline: none;\r\n    border: 0px;\r\n    border-bottom: 1px dash rgba(255, 0, 0, 1);\r\n    &:focus {\r\n      animation-duration: 0.5s;\r\n      animation-name: move;\r\n      animation-fill-mode: both;\r\n      @keyframes move {\r\n        from {\r\n          border-bottom: 1px dotted rgba(255, 0, 0, 0);\r\n        }\r\n\r\n        to {\r\n          border-bottom: 2px solid rgba(255, 0, 0, 1);\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderTop: '0px',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: '#576574',\r\n          borderTopRightRadius: '8px',\r\n          borderTopLeftRadius: '8px',\r\n          width: '100%',\r\n          height: '15px',\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          padding: '10px 30px 20px 30px',\r\n        }}\r\n      >\r\n        {/* <UnderLineInput placeholder='제목' /> */}\r\n        <div style={{ display: 'flex' }}>\r\n          <Input\r\n            placeholder='제목'\r\n            style={{\r\n              border: '0',\r\n              resize: 'none',\r\n              fontSize: '1.3em',\r\n              color: '#2c3e50',\r\n              fontFamily: 'NotoSansKR-Bold',\r\n            }}\r\n            value={pollTitle}\r\n            onChange={(e) => setPollTitle(e.target.value)}\r\n          />\r\n          <div\r\n            style={{\r\n              width: '150px',\r\n              display: 'flex',\r\n              justifyContent: 'space-evenly',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            <div style={{ fontFamily: 'NanumGothic' }}>사용여부 : </div>\r\n            <div>\r\n              <Switch\r\n                checked={useYn === 'Y'}\r\n                onChange={(e) => {\r\n                  setUseYn(e ? 'Y' : 'N');\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <TextArea\r\n          autoSize={true}\r\n          placeholder='설명'\r\n          style={{\r\n            marginTop: '10px',\r\n            border: '0',\r\n            resize: 'none',\r\n          }}\r\n          value={pollDesc}\r\n          onChange={(e) => setPollDesc(e.target.value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollTitleCard;\r\n","import { PlusCircleOutlined } from '@ant-design/icons';\r\nimport usePreventLeave from '@nooks/use-prevent-leave';\r\nimport { Affix, Button, message } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Prompt } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport * as Constants from '../Constants';\r\nimport ManagementPollContentCard from './ManagementPollContentCard';\r\nimport './ManagementPollForm.css';\r\nimport ManagementPollTitleCard from './ManagementPollTitleCard';\r\nimport MenuGuide from '../MenuGuide';\r\n\r\nconst ManagementPollForm = (props) => {\r\n  const [items, setItems] = useState([]); //questions으로 변수명 변경해야되는데...\r\n  const [mode, setMode] = useState(\r\n    props.location.mode ? props.location.mode : 'regist'\r\n  );\r\n\r\n  const [masterId, setMasterId] = useState(\r\n    props.location.record ? props.location.record.master_id : uuid()\r\n  );\r\n  const [pollTitle, setPollTitle] = useState(\r\n    mode === 'modify' ? props.location.record.title : ''\r\n  );\r\n  const [pollDesc, setPollDesc] = useState(\r\n    mode === 'modify' ? props.location.record.description : ''\r\n  );\r\n\r\n  const [useYn, setUseYn] = useState(\r\n    props.location.record && props.location.record.useYN\r\n  );\r\n\r\n  const { enablePrevent, disablePrevent } = usePreventLeave();\r\n  const [isBack, setIsBack] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post('/poll/useYn', {\r\n        master_id: masterId,\r\n        useYn: useYn,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, [useYn]);\r\n\r\n  useEffect(() => {\r\n    enablePrevent();\r\n    document.body.className = 'form-body';\r\n\r\n    if (mode === 'regist') {\r\n      setItems(createQuestion());\r\n    } else if (mode === 'modify') {\r\n      getPollDetail();\r\n    }\r\n\r\n    return () => {\r\n      disablePrevent();\r\n    };\r\n  }, []);\r\n\r\n  const getPollDetail = () => {\r\n    axios\r\n      .get('/poll/detail', {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setItems(res.data.questions);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  // fake data generator\r\n  const createQuestion = () => {\r\n    var copiedItems = Array.from(items);\r\n    copiedItems.push({\r\n      question_id: uuid(),\r\n      type: 'single',\r\n      questionTitle: '',\r\n      items: [],\r\n    });\r\n    setItems(copiedItems);\r\n    return copiedItems;\r\n  };\r\n\r\n  const onChangeItemType = (id, type) => {\r\n    var copiedItems = Array.from(items);\r\n    copiedItems.forEach((item) => {\r\n      if (item.question_id == id) {\r\n        item.type = type;\r\n      }\r\n    });\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  const onChangeQuestion = (id, questionTitle, questions) => {\r\n    var copiedItems = Array.from(items);\r\n    var targetIdx = 0;\r\n    for (var i = 0; i < copiedItems.length; i++) {\r\n      if (copiedItems[i].question_id == id) {\r\n        targetIdx = i;\r\n        break;\r\n      }\r\n    }\r\n    copiedItems[targetIdx]['items'] = questions;\r\n    copiedItems[targetIdx]['questionTitle'] = questionTitle;\r\n    copiedItems[targetIdx]['seq'] = targetIdx;\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  const onDeleteItem = (id) => {\r\n    var copiedItems = Array.from(items);\r\n    var targetIdx = 0;\r\n    copiedItems.forEach((item, idx) => {\r\n      if (item.question_id == id) {\r\n        targetIdx = idx;\r\n      }\r\n    });\r\n    copiedItems.splice(targetIdx, 1);\r\n    setItems(copiedItems);\r\n  };\r\n\r\n  // a little function to help us with reordering the result\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n  };\r\n\r\n  const grid = 2;\r\n\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? '#ecf0f188' : 'white',\r\n    borderRadius: '8px',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n\r\n  const getListStyle = (isDraggingOver) => ({\r\n    padding: grid,\r\n    width: '100%',\r\n  });\r\n\r\n  const onDragEnd = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const fixedItems = reorder(\r\n      items,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    fixedItems.forEach((item, idx) => {\r\n      item['seq'] = idx;\r\n    });\r\n\r\n    setItems(fixedItems);\r\n  };\r\n\r\n  const registPoll = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (pollTitle.trim().length === 0) {\r\n      setPollTitle('제목없음');\r\n    }\r\n    if (items.length === 0) {\r\n      message.error('작성된 설문이 없습니다.');\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post('/poll', {\r\n        master_id: masterId,\r\n        title: pollTitle,\r\n        description: pollDesc,\r\n        questions: items,\r\n        useYn: useYn ? useYn : 'Y',\r\n      })\r\n      .then((res) => {\r\n        setIsBack(false);\r\n        props.history.goBack();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Prompt\r\n        when={isBack}\r\n        message='변경사항이 저장되지 않았습니다. 뒤로가시겠습니까?'\r\n      />\r\n      <MenuGuide\r\n        title={'화면 관리 ▶ 설문 조사 등록'}\r\n        subTitle={'설문 조사를 완성해주세요'}\r\n      />\r\n      <ManagementPollTitleCard\r\n        pollTitle={pollTitle}\r\n        setPollTitle={setPollTitle}\r\n        pollDesc={pollDesc}\r\n        setPollDesc={setPollDesc}\r\n        useYn={useYn}\r\n        setUseYn={setUseYn}\r\n      />\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId={uuid()}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              {...provided.droppableProps}\r\n              ref={provided.innerRef}\r\n              style={getListStyle(snapshot.isDraggingOver)}\r\n            >\r\n              {items.map((item, index) => {\r\n                return (\r\n                  <Draggable\r\n                    key={item.question_id}\r\n                    draggableId={item.question_id}\r\n                    index={index}\r\n                  >\r\n                    {(provided, snapshot) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        style={getItemStyle(\r\n                          snapshot.isDragging,\r\n                          provided.draggableProps.style\r\n                        )}\r\n                      >\r\n                        <ManagementPollContentCard\r\n                          id={item.question_id}\r\n                          type={item.type}\r\n                          items={item.items}\r\n                          questionTitle={item.question_title}\r\n                          onChangeItemType={onChangeItemType}\r\n                          onChangeQuestion={onChangeQuestion}\r\n                          onDeleteItem={onDeleteItem}\r\n                          dragHandleProps={{ ...provided.dragHandleProps }}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                );\r\n              })}\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      <div>\r\n        <Affix offsetBottom={60} style={{ float: 'left' }}>\r\n          <Button style={{ width: '87px' }} onClick={registPoll}>\r\n            저장\r\n          </Button>\r\n        </Affix>\r\n        <Affix offsetBottom={60} style={{ float: 'right' }}>\r\n          <Button onClick={createQuestion}>\r\n            <PlusCircleOutlined /> 설문 추가\r\n          </Button>\r\n        </Affix>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManagementPollForm;\r\n","import React, { useState, useEffect, PureComponent } from 'react';\r\nimport * as Constants from '../Constants';\r\nimport axios from 'axios';\r\nimport { Row, Col, Alert, Modal } from 'antd';\r\nimport { MoreOutlined } from '@ant-design/icons';\r\nimport {\r\n  PieChart,\r\n  Pie,\r\n  Sector,\r\n  Cell,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  BarChart,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Bar,\r\n} from 'recharts';\r\nimport { randomColor } from 'randomcolor';\r\n\r\nconst ResultTitleCard = (props) => {\r\n  const [record, setRecord] = useState(props.record);\r\n\r\n  useEffect(() => {\r\n    setRecord(props.record);\r\n  }, [props]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', marginTop: '20px' }}>\r\n      <div style={{ width: '70%', margin: 'auto' }}>\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            border: '1px solid #7f8c8d',\r\n            borderTop: '0px',\r\n            borderRadius: '8px',\r\n            minHeight: '120px',\r\n            backgroundColor: 'white',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: '#576574',\r\n              borderTopRightRadius: '8px',\r\n              borderTopLeftRadius: '8px',\r\n              width: '100%',\r\n              height: '15px',\r\n            }}\r\n          ></div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px 30px 20px 30px',\r\n            }}\r\n          >\r\n            <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>\r\n              {record ? record.title : ''}\r\n            </p>\r\n            <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>\r\n              총 응답자 : {record ? record.response_cnt : ''} 명\r\n            </pre>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// pie settings -- start\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index,\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? 'start' : 'end'}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {percent !== 0 ? `${(percent * 100).toFixed(0)}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n\r\n// pie settings -- end\r\n\r\nconst ResultContentCard = (props) => {\r\n  const [questionResults, setQuestionResults] = useState([]);\r\n  const [isNarrativeModal, setIsNarrativeModal] = useState(false);\r\n  const [questionResultsIdx, setQuestionResultsIdx] = useState();\r\n  const [narrativeResultList, setNarrativeResultList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    console.log(';------');\r\n    console.log(props.questionResults);\r\n    setQuestionResults(props.questionResults);\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    if (isNarrativeModal) {\r\n      console.log(questionResults);\r\n      setNarrativeResultList(\r\n        questionResults[questionResultsIdx]['questionResultMap']\r\n      );\r\n    }\r\n  }, [isNarrativeModal]);\r\n\r\n  const cardStyle = {\r\n    width: '70%',\r\n    margin: 'auto',\r\n    border: '1px solid #7f8c8d',\r\n    borderRadius: '8px',\r\n    minHeight: '120px',\r\n    padding: '20px',\r\n    marginTop: '10px',\r\n    backgroundColor: 'white',\r\n  };\r\n\r\n  const onClickNarrative = (e, item) => {\r\n    e.preventDefault();\r\n    console.log(item);\r\n    setQuestionResultsIdx(item);\r\n    setIsNarrativeModal(true);\r\n  };\r\n\r\n  const onCloseNarrativeModal = (e) => {\r\n    e.preventDefault();\r\n    setIsNarrativeModal(false);\r\n  };\r\n\r\n  const resultList = questionResultsIdx\r\n    ? questionResults[questionResultsIdx]['questionResultMap']\r\n    : [];\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={questionResults[questionResultsIdx]?.question_title}\r\n        centered\r\n        visible={isNarrativeModal}\r\n        onCancel={onCloseNarrativeModal}\r\n        footer={null}\r\n      >\r\n        {narrativeResultList.map((item, idx) => {\r\n          return (\r\n            <div key={item.user_id} style={{ padding: '5px' }}>\r\n              <Alert message={item.answer} type=\"info\" />\r\n            </div>\r\n          );\r\n        })}\r\n      </Modal>\r\n      {questionResults.map((item, questionResultsIdx) => {\r\n        const resultList = item.questionResultMap;\r\n        const dataList = [];\r\n        var totalCnt = 0;\r\n        if (item.type !== 'narrative') {\r\n          resultList.map((result, idx) => {\r\n            var data = {};\r\n            data.name = result.content;\r\n            data.formattingName = result.content.substring(0, 15) + '...';\r\n            data.value = result.answer_cnt;\r\n            totalCnt += result.answer_cnt;\r\n            dataList.push(data);\r\n          });\r\n        } else {\r\n          totalCnt = resultList.length;\r\n        }\r\n\r\n        if (item.type === 'single') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <Row>\r\n                <Col span={24}>\r\n                  <div>\r\n                    <pre>\r\n                      설문 {questionResultsIdx + 1} 번 : {item.question_title}{' '}\r\n                      (총 {totalCnt} 건)\r\n                    </pre>\r\n                  </div>\r\n                  <div style={{ width: '100%', height: 300 }}>\r\n                    <ResponsiveContainer>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={dataList}\r\n                          cx={150}\r\n                          cy={150}\r\n                          labelLine={false}\r\n                          label={renderCustomizedLabel}\r\n                          outerRadius={120}\r\n                          fill=\"#8884d8\"\r\n                          legendType=\"square\"\r\n                        >\r\n                          {dataList.map((entry, index) => {\r\n                            return (\r\n                              <Cell\r\n                                key={item.question_id}\r\n                                fill={randomColor({\r\n                                  luminosity: 'dark',\r\n                                })}\r\n                              />\r\n                            );\r\n                          })}\r\n                        </Pie>\r\n                        <Tooltip\r\n                          formatter={(value, name, props) => {\r\n                            return (\r\n                              <span style={{ color: 'blue' }}>{value}건</span>\r\n                            );\r\n                          }}\r\n                        />\r\n                        <Legend\r\n                          layout=\"vetical\"\r\n                          verticalAlign=\"middle\"\r\n                          align=\"right\"\r\n                          iconSize={20}\r\n                          iconType=\"circle\"\r\n                          width={400}\r\n                          formatter={(value = '', entry, index) => {\r\n                            if (value.length > 40) {\r\n                              return value.substring(0, 40) + '...';\r\n                            } else {\r\n                              return value;\r\n                            }\r\n                          }}\r\n                        />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          );\r\n        } else if (item.type === 'multi') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <div>\r\n                <pre>\r\n                  설문 {questionResultsIdx + 1} 번 : {item.question_title} (총{' '}\r\n                  {totalCnt} 건)\r\n                </pre>\r\n              </div>\r\n              <div style={{ width: '100%', height: 300 }}>\r\n                <ResponsiveContainer>\r\n                  <BarChart data={dataList}>\r\n                    <XAxis dataKey=\"name\" name=\"test\" hide={true} />\r\n                    <YAxis />\r\n                    <Tooltip\r\n                      formatter={(value, name, props) => {\r\n                        return <span style={{ color: 'blue' }}>{value}건</span>;\r\n                      }}\r\n                    />\r\n                    <Bar\r\n                      dataKey=\"value\"\r\n                      fill={randomColor({\r\n                        luminosity: 'dark',\r\n                      })}\r\n                    />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            </div>\r\n          );\r\n        } else if (item.type === 'narrative') {\r\n          return (\r\n            <div key={item.question_id} style={cardStyle}>\r\n              <div>\r\n                <pre>\r\n                  설문 {questionResultsIdx + 1} 번 : {item.question_title} (총{' '}\r\n                  {totalCnt} 건)\r\n                </pre>\r\n              </div>\r\n\r\n              {resultList.map((item, idx) => {\r\n                if (idx < 5) {\r\n                  return (\r\n                    <div key={item.user_id} style={{ padding: '5px' }}>\r\n                      <Alert message={item.answer} type=\"info\" />\r\n                    </div>\r\n                  );\r\n                } else if (idx === 6) {\r\n                  return (\r\n                    <div\r\n                      key={`key-${idx}`}\r\n                      style={{\r\n                        width: '100%',\r\n                        textAlign: 'center',\r\n                        cursor: 'pointer',\r\n                      }}\r\n                      onClick={(e) => {\r\n                        onClickNarrative(e, questionResultsIdx);\r\n                      }}\r\n                    >\r\n                      <MoreOutlined style={{ fontSize: '2em' }} />\r\n                    </div>\r\n                  );\r\n                } else {\r\n                  return;\r\n                }\r\n              })}\r\n            </div>\r\n          );\r\n        }\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst ManagementPollResult = (props) => {\r\n  const [record, setRecord] = useState();\r\n  const [masterId, setMasterId] = useState(props.match.params.master_id);\r\n  const [questionResults, setQuestionResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getQuestionResultTitle();\r\n    getQuestionResults();\r\n  }, []);\r\n\r\n  const getQuestionResultTitle = () => {\r\n    axios\r\n      .get(`/poll/index`, {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setRecord(res.data.pollIndex[0]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const getQuestionResults = () => {\r\n    axios\r\n      .get(`/poll/result`, {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setQuestionResults(res.data.questionResults);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: '100px' }}>\r\n      <ResultTitleCard record={record} />\r\n      <ResultContentCard questionResults={questionResults} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollResult;\r\n","import Axios from 'axios';\r\nimport { m } from 'framer-motion';\r\nimport moment from 'moment';\r\n\r\nexport const requestEventStatisticPerDayForChart = (\r\n  start_date = moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n  end_date = moment().format('YYYY-MM-DD')\r\n) =>\r\n  Axios.get(`/event/statistic/perPeriod`, {\r\n    params: {\r\n      start_date,\r\n      end_date,\r\n    },\r\n  });\r\n\r\nexport const requestEventStatisticPerEventForSheet = () =>\r\n  Axios.get(`/event/statistic/perEvent`);\r\n\r\nexport const requestEventStatisticPerAgedForSheet = () =>\r\n  Axios.get(`/event/statistic/perAged`);\r\n","import React from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\n\r\nconst StatisticEventAgedChart = ({ agedData = [] }) => {\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      <ResponsiveContainer>\r\n        <BarChart data={agedData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='연령대' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='신청자 수' fill='#2980b9' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventAgedChart;\r\n","import * as Constants from '../Constants';\r\nimport axios from 'axios';\r\n\r\nexport const requestEventJoinStatisticForPeriod = (period = 7) => {\r\n  console.log('execute getEventJoinStatisticForPeriod');\r\n  return axios.get(`/ay/static/getEventJoinStatisticForPeriod`, {\r\n    params: {\r\n      period: period,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestEventJoinDataSheetStatistic = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getEventJoinDataSheetStatistic`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestDlsAgeStatisticForChart = () => {\r\n  return axios.get(`/dls/statistic/getAgeStatistic`, {\r\n    params: {},\r\n  });\r\n};\r\n\r\nexport const requestDlsAgeStatisticForSheet = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/dls/statistic/getAgeStatisticForSheet`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticForPeriod = (period = 7) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticForPeriod`, {\r\n    params: {\r\n      date_diff: period,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticPerHours = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticPerHours`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\nexport const requestItemUseTimeAvg = () => {\r\n  return axios.get(`/ay/static/getItemUseTimeAvg`, {});\r\n};\r\n\r\nexport const requestItemLoaningCnt = (start_date = '', end_date = '') => {\r\n  return axios.get(`/ay/static/getItemLoaningCnt`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeStatisticPerDateDataSheetStatistic = (\r\n  start_date = '',\r\n  end_date = ''\r\n) => {\r\n  return axios.get(`/ay/static/getOfficeStatisticPerDate`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestOfficeHistory = (start_date = '', end_date = '') => {\r\n  return axios.get(`/ay/static/getOfficeHistory`, {\r\n    params: {\r\n      start_date: start_date,\r\n      end_date: end_date,\r\n    },\r\n  });\r\n};\r\n\r\nexport const requestExportExcel = (\r\n  dataList = [],\r\n  title = 'ayang_statistic_data_sheet'\r\n) => {\r\n  return axios\r\n    .post(\r\n      `/ay/static/exportExcel`,\r\n      {\r\n        dataList: dataList,\r\n      },\r\n      {\r\n        responseType: 'arraybuffer',\r\n      }\r\n    )\r\n    .then((response) => {\r\n      console.log(response);\r\n      var blob = new Blob([response.data], {\r\n        type:\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      });\r\n      var blobURL = window.URL.createObjectURL(blob);\r\n      var tempLink = document.createElement('a');\r\n      tempLink.style.display = 'none';\r\n      tempLink.href = blobURL;\r\n      tempLink.setAttribute('download', `${title}.xlsx`);\r\n      document.body.appendChild(tempLink);\r\n      tempLink.click();\r\n      document.body.removeChild(tempLink);\r\n      window.URL.revokeObjectURL(blobURL);\r\n    });\r\n};\r\n","import { FileExcelOutlined } from '@ant-design/icons';\r\nimport { Button, Space, Table } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport uuid from 'react-uuid';\r\nimport { requestExportExcel } from '../StatisticHttpService';\r\n\r\nconst StatisticEventPerEventDataSheet = ({ dataSource = [] }) => {\r\n  const history = useHistory();\r\n  const columns = [\r\n    {\r\n      title: '행사',\r\n      dataIndex: 'B행사',\r\n      key: uuid(),\r\n      align: 'center',\r\n      render: (item, record, idx) => {\r\n        return (\r\n          <Button\r\n            type='link'\r\n            onClick={() => {\r\n              history.push(`/event/detail/${record['A행사일련번호']}`);\r\n            }}\r\n          >\r\n            {item}\r\n          </Button>\r\n        );\r\n      },\r\n    },\r\n\r\n    {\r\n      title: '신청수',\r\n      dataIndex: 'C신청',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '취소수',\r\n      dataIndex: 'D취소',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '총 합계',\r\n      dataIndex: 'E합계',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Space direction='vertical' style={{ width: '100%' }}>\r\n      <div>\r\n        <Button\r\n          onClick={(e) => {\r\n            requestExportExcel(dataSource, '행사별 신청취소 데이터 시트');\r\n          }}\r\n        >\r\n          <FileExcelOutlined />\r\n          Excel 다운로드\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size='small'\r\n        bordered\r\n      />\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPerEventDataSheet;\r\n","import React from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\n\r\nconst StatisticEventPeriodChart = ({ periodData = [] }) => {\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      <ResponsiveContainer>\r\n        <BarChart data={periodData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='일자' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='신청' stackId='a' fill='#8884d8' />\r\n          <Bar dataKey='취소' stackId='a' fill='#82ca9d' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPeriodChart;\r\n","import { Divider } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport {\r\n  requestEventStatisticPerAgedForSheet,\r\n  requestEventStatisticPerDayForChart,\r\n  requestEventStatisticPerEventForSheet,\r\n} from './requestEventStatistic';\r\nimport StatisticEventAgedChart from './StatisticEventAgedChart';\r\nimport StatisticEventPerEventDataSheet from './StatisticEventPerEventDataSheet';\r\nimport StatisticEventPeriodChart from './StatisticEventPeriodChart';\r\n\r\nconst StatisticEventContainer = () => {\r\n  const [chartData, setChartData] = useState([]);\r\n  const [sheetData, setSheetData] = useState([]);\r\n  const [agedData, setAgedData] = useState([]);\r\n  useEffect(() => {\r\n    getChartData();\r\n    getSheetData();\r\n    getAgedData();\r\n  }, []);\r\n\r\n  const getChartData = async () => {\r\n    requestEventStatisticPerDayForChart()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setChartData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n\r\n  const getSheetData = async () => {\r\n    requestEventStatisticPerEventForSheet()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setSheetData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n\r\n  const getAgedData = async () => {\r\n    requestEventStatisticPerAgedForSheet()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setAgedData(res.data.response_body);\r\n      })\r\n      .catch((e) => console.log);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div>\r\n        <FormGuideComponent\r\n          title='전체 행사 차트'\r\n          guide={<div>최근 14일 간 전체 행사 신청/취소 데이터</div>}\r\n        />\r\n        <StatisticEventPeriodChart periodData={chartData} />\r\n      </div>\r\n\r\n      <Divider />\r\n      <div>\r\n        <FormGuideComponent\r\n          title='연령대 별 신청 현황 차트'\r\n          guide={<div>행사 신청의 연령대</div>}\r\n        />\r\n        <StatisticEventAgedChart agedData={agedData} />\r\n      </div>\r\n      <Divider />\r\n      <div>\r\n        <FormGuideComponent\r\n          title='행사별 신청/취소 데이터 시트'\r\n          guide={\r\n            <>\r\n              <div>행사별 신청/취소 조회</div>\r\n            </>\r\n          }\r\n        />\r\n        <StatisticEventPerEventDataSheet dataSource={sheetData} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventContainer;\r\n","import Axios from 'axios';\r\nimport moment from 'moment';\r\nimport api from './api';\r\n\r\nconst API = api.SmartSearch;\r\n\r\nexport const SITE = {\r\n  GES_DEV: 'GES_DEV',\r\n  LOCALHOST: 'LOCALHOST',\r\n  NONHYEON: 'NONHYEON',\r\n};\r\n\r\nexport const requestLogInfo = async (\r\n  start_date = moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n  end_date = moment().format('YYYY-MM-DD'),\r\n  code_name = ''\r\n) => {\r\n  try {\r\n    const result = await Axios.get(\r\n      `http://ec2-52-79-99-74.ap-northeast-2.compute.amazonaws.com:38080/log/`,\r\n      {\r\n        params: {\r\n          site: SITE.NONHYEON,\r\n          start_date,\r\n          end_date,\r\n          code_name,\r\n        },\r\n      }\r\n    );\r\n    return result;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return undefined;\r\n  }\r\n};\r\n","import { ResponseBodySmartSearch } from '../types/SmartSearch';\r\nimport { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { requestSmartSearch } from '../api/SmartSearch';\r\nimport { ResponseVo } from '../types/Common';\r\nimport { message } from 'antd';\r\nimport moment from 'moment';\r\nimport { requestLogInfo } from '../api/TotalLog';\r\nexport const TOTAL_LOG = 'totalLog';\r\n\r\ntype SliceState = {\r\n  index: number;\r\n  chartData: [];\r\n  rawChartData: [];\r\n  start_date: string;\r\n  end_date: string;\r\n  title: string;\r\n};\r\ntype PayloadType = {\r\n  [TOTAL_LOG]: SliceState;\r\n};\r\ntype TotalLogType = {\r\n  start_date: string;\r\n  end_date: string;\r\n  code_name: string;\r\n};\r\n\r\nexport const fetchRawTotalLog = createAsyncThunk(\r\n  `${TOTAL_LOG}/fetchTotalLog`,\r\n  async ({ start_date, end_date, code_name }: TotalLogType) => {\r\n    // 무언가를 함\r\n    const response = await requestLogInfo(start_date, end_date, code_name);\r\n\r\n    if (!!!response) return undefined;\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst totalLogSlice = createSlice({\r\n  name: `${TOTAL_LOG}`,\r\n  initialState: {\r\n    index: 0,\r\n    chartData: [],\r\n    rawChartData: [],\r\n    start_date: moment().subtract(14, 'day').format('YYYY-MM-DD'),\r\n    end_date: moment().format('YYYY-MM-DD'),\r\n    title: '',\r\n  } as SliceState,\r\n  reducers: {\r\n    setTitle: (\r\n      state,\r\n      action: PayloadAction<{\r\n        title: string;\r\n      }>\r\n    ) => {\r\n      state.title = action.payload.title;\r\n    },\r\n    setChartData: (\r\n      state,\r\n      action: PayloadAction<{\r\n        chartData: [];\r\n      }>\r\n    ) => {\r\n      state.chartData = action.payload.chartData;\r\n    },\r\n    setLogDate: (\r\n      state,\r\n      action: PayloadAction<{\r\n        start_date: string;\r\n        end_date: string;\r\n      }>\r\n    ) => {\r\n      state.start_date = action.payload.start_date;\r\n      state.end_date = action.payload.end_date;\r\n    },\r\n    // resetBooks: (state) => {\r\n    //   state.books = [];\r\n    // },\r\n  },\r\n  extraReducers: {\r\n    [fetchRawTotalLog.pending.type]: (state) => {\r\n      // state.isLoading = true;\r\n    },\r\n    [fetchRawTotalLog.fulfilled.type]: (\r\n      state,\r\n      action: PayloadAction<ResponseVo<any>>\r\n    ) => {\r\n      if (action.payload === undefined) {\r\n        return;\r\n      }\r\n      if (action.payload?.description.toLowerCase().includes('success')) {\r\n        const result = action.payload.response_body;\r\n        // state.books = result.bookVoList;\r\n        console.log(action);\r\n        state.rawChartData = result;\r\n      } else {\r\n        // state.books = [];\r\n        state.rawChartData = [];\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setTitle, setChartData, setLogDate } = totalLogSlice.actions;\r\nexport default totalLogSlice.reducer;\r\nexport const selectTotalLog = (state: PayloadType) => state[TOTAL_LOG];\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport moment, { now } from 'moment';\r\nimport { DatePicker } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\n// import ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { Bar, PieChart, Pie, Cell, Legend, BarChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\r\nimport { randomColor } from 'randomcolor';\r\nimport { Col, Row } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectTotalLog, setLogDate } from '../../../slice/totalLogSlice';\r\nimport Button from 'antd/es/button';\r\nimport styled from 'styled-components';\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n      {percent !== 0 ? `${(percent * 100).toFixed(0)}%` : ''}\r\n    </text>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst cardStyle = {\r\n  width: '70%',\r\n  margin: 'auto',\r\n  border: '1px solid #7f8c8d',\r\n  borderRadius: '8px',\r\n  minHeight: '120px',\r\n  padding: '20px',\r\n  marginTop: '10px',\r\n  backgroundColor: 'white',\r\n};\r\nconst StatisticEventPieChart = ({ dataList = [], onClick, backClick }) => {\r\n  const { title, start_date, end_date } = useSelector(selectTotalLog);\r\n  const dispatch = useDispatch();\r\n  const { RangePicker } = DatePicker;\r\n\r\n  return (\r\n    <div style={cardStyle}>\r\n      <Row>\r\n        <Col span={24}>\r\n          <div>\r\n            <pre>DLS 시스템 사용 현황</pre>\r\n            <Text>기간 선택 : </Text>\r\n            <RangePicker\r\n              size=\"small\"\r\n              value={[moment(start_date), moment(end_date)]}\r\n              onChange={(values) => {\r\n                console.log(values);\r\n                if (values)\r\n                  dispatch(\r\n                    setLogDate({\r\n                      start_date: values[0].format('YYYY-MM-DD'),\r\n                      end_date: values[1].format('YYYY-MM-DD'),\r\n                    })\r\n                  );\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            {/* <Text>뒤로 가기 : </Text> */}\r\n            <Button\r\n              style={{\r\n                marginTop: '0.5rem',\r\n              }}\r\n              type=\"primary\"\r\n              onClick={backClick}\r\n              disabled={title === ''}\r\n            >\r\n              {/* 뒤로가기 */}\r\n              <ArrowBackIcon />\r\n            </Button>\r\n          </div>\r\n          <div style={{ width: '100%', height: 300 }}>\r\n            {dataList.length > 0 && (\r\n              <ResponsiveContainer>\r\n                <PieChart>\r\n                  <Pie\r\n                    onClick={onClick}\r\n                    data={dataList}\r\n                    cx={150}\r\n                    cy={150}\r\n                    labelLine={false}\r\n                    label={renderCustomizedLabel}\r\n                    outerRadius={120}\r\n                    fill=\"#8884d8\"\r\n                    legendType=\"square\"\r\n                  >\r\n                    {dataList.map((entry, index) => {\r\n                      return (\r\n                        <Cell\r\n                          key={`item${index}`}\r\n                          fill={randomColor({\r\n                            luminosity: 'dark',\r\n                          })}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </Pie>\r\n                  <Tooltip\r\n                    formatter={(value, name, props) => {\r\n                      return <span style={{ color: 'blue' }}>{value}%</span>;\r\n                    }}\r\n                  />\r\n                  <Legend\r\n                    layout=\"vetical\"\r\n                    verticalAlign=\"middle\"\r\n                    align=\"right\"\r\n                    iconSize={20}\r\n                    iconType=\"circle\"\r\n                    width={400}\r\n                    formatter={(value = '', entry, index) => {\r\n                      if (value.length > 40) {\r\n                        return `${value.substring(0, 40)}+...(터치횟수 : ${entry.payload.count}, 퍼센트 : ${(entry.payload.percent * 100).toFixed(2)}%)`;\r\n                      } else {\r\n                        // ${value}(${(${value}(${(\r\n                        //   entry.payload.percent * 100\r\n                        // ).toFixed(2)})%,\r\n                        return `${value}(터치횟수 : ${entry.payload.count}, 퍼센트 : ${(entry.payload.percent * 100).toFixed(2)}%)`;\r\n                      }\r\n                    }}\r\n                  />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            )}\r\n            {dataList.length === 0 && (\r\n              <>\r\n                <Wrapper>세부 로그 데이터가 존재하지 않습니다.</Wrapper>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticEventPieChart;\r\n","import { Divider } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  fetchRawTotalLog,\r\n  selectTotalLog,\r\n  setChartData,\r\n  setTitle,\r\n} from '../../../slice/totalLogSlice';\r\nimport FormGuideComponent from '../../FormGuideComponent';\r\nimport {\r\n  requestEventStatisticPerAgedForSheet,\r\n  requestEventStatisticPerDayForChart,\r\n  requestEventStatisticPerEventForSheet,\r\n} from './requestEventStatistic';\r\nimport StatisticEventAgedChart from './StatisticEventAgedChart';\r\nimport StatisticEventPerEventDataSheet from './StatisticEventPerEventDataSheet';\r\nimport StatisticEventPeriodChart from './StatisticEventPeriodChart';\r\nimport StatisticEventPieChart from './StatisticEventPieChart';\r\n\r\nconst StaticsTotalLogs = () => {\r\n  // const [index, setIndex] = useState(0);\r\n  // const [chartData, setChartData] = useState([]); // 배열에 차트데이터들을 순서대로 집어넣는다.\r\n  // const [searchTitle, setSearchTitle] = useState('');\r\n  const [drawData, setDrawData] = useState([]); //\r\n  const { chartData, title, rawChartData, start_date, end_date } =\r\n    useSelector(selectTotalLog);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const getChartData = async () => {\r\n    const prevData = JSON.parse(JSON.stringify([...chartData]));\r\n    const rawData = JSON.parse(JSON.stringify([...rawChartData]));\r\n    console.log(rawData);\r\n    // if (rawData.length === 0) {\r\n    //   return;\r\n    // }\r\n    prevData.push({\r\n      code_name: title,\r\n      array: rawData,\r\n    });\r\n    dispatch(setChartData({ chartData: prevData }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    // dispatch(fetchRawTotalLog({ code_name: '' }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getChartData();\r\n  }, [rawChartData]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRawTotalLog({ code_name: title, start_date, end_date }));\r\n  }, [start_date, end_date]);\r\n\r\n  useEffect(() => {\r\n    if (chartData?.length > 0) {\r\n      const obj = chartData[chartData.length - 1]?.array?.map((item) => {\r\n        let dummy = {};\r\n        const name = Object.keys(item)[0];\r\n        const percent = item[`${name}`]['percent'];\r\n        const count = item[`${name}`]['count'];\r\n        dummy.name = name;\r\n        //   dummy.formattingName = name;\r\n        dummy.count = count;\r\n        dummy.value = percent;\r\n        return dummy;\r\n      });\r\n      console.log(obj);\r\n      setDrawData(obj);\r\n    }\r\n  }, [chartData]);\r\n\r\n  // useEffect(() => {}, [title]);\r\n\r\n  const onClick = (e) => {\r\n    dispatch(setTitle({ title: e.name }));\r\n    dispatch(fetchRawTotalLog({ code_name: e.name, start_date, end_date }));\r\n  };\r\n\r\n  const backClick = (e) => {\r\n    const prevData = JSON.parse(JSON.stringify([...chartData]));\r\n    prevData.splice(-1, 1);\r\n    // 최상위 로그라면\r\n    if (prevData[prevData.length - 1].code_name === '') {\r\n      dispatch(setTitle({ title: '' }));\r\n    }\r\n    dispatch(setChartData({ chartData: prevData }));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div>\r\n        <FormGuideComponent\r\n          title=\"DLS 시스템 사용 현황\"\r\n          guide={<div>선택한 일정 기간 동안의 DLS 사용률</div>}\r\n        />\r\n        <StatisticEventPieChart\r\n          dataList={drawData}\r\n          onClick={onClick}\r\n          backClick={backClick}\r\n        />\r\n      </div>\r\n\r\n      <Divider />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaticsTotalLogs;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from 'recharts';\r\nimport { requestDlsAgeStatisticForChart } from './StatisticHttpService';\r\n\r\nconst StatisticDlsAgeStatisticChartComponent = (props) => {\r\n  const [periodData, setPeriodData] = useState([]);\r\n\r\n  const getDlsAgeStatisticForChart = () => {\r\n    requestDlsAgeStatisticForChart()\r\n      .then((res) => {\r\n        console.log(res);\r\n        setPeriodData(res.data.datas);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {});\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDlsAgeStatisticForChart();\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '300px' }}>\r\n      {/* <div>\r\n        <Select\r\n          defaultValue={period}\r\n          onChange={(e) => {\r\n            setPeriod(e);\r\n            getOfficeStatisticForPeriod(e);\r\n          }}\r\n        >\r\n          <Select.Option value={7}>최근 7일간</Select.Option>\r\n          <Select.Option value={30}>최근 30일간</Select.Option>\r\n        </Select>\r\n      </div> */}\r\n\r\n      <ResponsiveContainer>\r\n        <BarChart data={periodData}>\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <XAxis dataKey='연령' />\r\n          <YAxis domain={[0, 'dataMax + 1']} allowDecimals={false} unit='건' />\r\n          <Tooltip />\r\n          <Bar dataKey='조회수' fill='#8884d8' />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n};\r\nexport default StatisticDlsAgeStatisticChartComponent;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Table, Button } from 'antd';\r\nimport uuid from 'react-uuid';\r\nimport {\r\n  requestEventJoinDataSheetStatistic,\r\n  requestExportExcel,\r\n  requestDlsAgeStatisticForSheet,\r\n} from './StatisticHttpService';\r\nimport { DatePicker } from 'antd';\r\nimport Text from 'antd/lib/typography/Text';\r\nimport moment from 'moment';\r\nimport { FileExcelOutlined } from '@ant-design/icons';\r\n\r\nconst StatisticDlsAgeStatisticSheetComponent = () => {\r\n  const [isLoading, setIsLoading] = useState();\r\n  const [dataSource, setDataSource] = useState();\r\n\r\n  const { RangePicker } = DatePicker;\r\n  const [selectedDate, setSelectedDate] = useState({\r\n    start_date: moment().add(-1, 'month').format('YYYY-MM-DD'),\r\n    end_date: moment().format('YYYY-MM-DD'),\r\n  });\r\n  const columns = [\r\n    {\r\n      title: '일자',\r\n      dataIndex: 'A일자',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '영유아(0~5 세)',\r\n      dataIndex: 'B영유아(0~5 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '유아(6~7 세)',\r\n      dataIndex: 'C유아(6~7 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '초등(8~13 세)',\r\n      dataIndex: 'D초등(8~13 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '청소년(14~19 세)',\r\n      dataIndex: 'E청소년(14~19 세)',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '20 대',\r\n      dataIndex: 'F20 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '30 대',\r\n      dataIndex: 'G30 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '40 대',\r\n      dataIndex: 'H40 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '50 대',\r\n      dataIndex: 'I50 대',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n    {\r\n      title: '60 세 이상',\r\n      dataIndex: 'J60 세 이상',\r\n      key: uuid(),\r\n      align: 'center',\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fillDateInTable(selectedDate.start_date, selectedDate.end_date);\r\n    return () => {};\r\n  }, []);\r\n\r\n  const fillDateInTable = (start_date, end_date) => {\r\n    setIsLoading(true);\r\n    requestDlsAgeStatisticForSheet(start_date, end_date).then((res) => {\r\n      console.log(res);\r\n      setDataSource(res.data.datas);\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <div>\r\n        <Text>기간 선택 : </Text>\r\n        <RangePicker\r\n          style={{ width: '400px', margin: '10px 0px' }}\r\n          defaultValue={[\r\n            moment(selectedDate.start_date),\r\n            moment(selectedDate.end_date),\r\n          ]}\r\n          onChange={(e) => {\r\n            console.log(e);\r\n            if (e) {\r\n              selectedDate.start_date = e[0].format('YYYY-MM-DD');\r\n              selectedDate.end_date = e[1].format('YYYY-MM-DD');\r\n              fillDateInTable(\r\n                e[0].format('YYYY-MM-DD'),\r\n                e[1].format('YYYY-MM-DD')\r\n              );\r\n            }\r\n          }}\r\n        />\r\n        <Button\r\n          type='link'\r\n          onClick={(e) => {\r\n            requestExportExcel(\r\n              dataSource,\r\n              '기간별 DLS 스마트 추천 연령 현황 시트'\r\n            );\r\n          }}\r\n        >\r\n          <FileExcelOutlined />\r\n          Excel 다운로드\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey={(dataSource) => uuid()}\r\n        loading={isLoading}\r\n        dataSource={dataSource}\r\n        columns={columns}\r\n        size='small'\r\n        bordered\r\n        // pagination={{\r\n        //   pageSize: 10,\r\n        // }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticDlsAgeStatisticSheetComponent;\r\n","import { Divider } from 'antd';\r\nimport React from 'react';\r\nimport FormGuideComponent from '../FormGuideComponent';\r\nimport StatisticDlsAgeStatisticChartComponent from './StatisticDlsAgeStatisticChartComponent';\r\nimport StatisticDlsAgeStatisticSheetComponent from './StatisticDlsAgeStatisticSheetComponent';\r\n\r\nconst StatisticDlsStatisticChartContainer = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n      }}\r\n    >\r\n      <div className='priodChartWrap'>\r\n        <FormGuideComponent\r\n          title='연령별 스마트 추천 도서 데이터 차트'\r\n          guide='최근 30일 간 연령 스마트 추천 도서 조회 데이터'\r\n        />\r\n        <StatisticDlsAgeStatisticChartComponent />\r\n      </div>\r\n      <Divider />\r\n      <div className='priodChartWrap'>\r\n        <FormGuideComponent\r\n          title='연령별 스마트 추천 도서 데이터 차트'\r\n          guide='기간별 연령 스마트 추천 도서 조회 데이터'\r\n        />\r\n        <StatisticDlsAgeStatisticSheetComponent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticDlsStatisticChartContainer;\r\n","import { Tabs } from 'antd';\r\nimport React from 'react';\r\nimport StatisticEventContainer from './event/StatisticEventContainer';\r\nimport StaticsTotalLogs from './event/StaticsTotalLogs';\r\nimport StatisticDlsStatisticChartContainer from './StatisticDlsStatisticChartContainer';\r\n\r\nconst StatisticContainer = () => {\r\n  function callback(key) {\r\n    sessionStorage.setItem('currentPage', 1);\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100%',\r\n      }}\r\n    >\r\n      <Tabs onChange={callback} type=\"card\">\r\n        <Tabs.TabPane tab=\"시스템별 사용 현황\" key=\"1\">\r\n          <StaticsTotalLogs />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"사서 추천 시스템\" key=\"2\">\r\n          <StatisticDlsStatisticChartContainer />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"행사\" key=\"3\">\r\n          <StatisticEventContainer />\r\n        </Tabs.TabPane>\r\n        {/* <Tabs.TabPane tab='토론실' key='2'>\r\n          <StatisticOfficeContainer />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab='태블릿/일반물품' key='3'>\r\n          <StatisticItemContainer />\r\n        </Tabs.TabPane> */}\r\n        {/* <Tabs.TabPane tab='문자서비스' key='4'></Tabs.TabPane> */}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticContainer;\r\n","import React from 'react';\r\nimport MenuGuide from '../MenuGuide';\r\nimport StatisticContainer from './StatisticContainer';\r\n\r\nconst ManagementStatic = (props) => {\r\n  return (\r\n    <>\r\n      <MenuGuide\r\n        title='통계관리'\r\n        subTitle='시스템의 통계를 확인할 수 있습니다.'\r\n      />\r\n      <StatisticContainer />\r\n    </>\r\n  );\r\n};\r\nexport default ManagementStatic;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectLectureSlice } from \"../../../slice/LectureSlice\";\r\n\r\nconst LectureDetailForm = () => {\r\n  const { lectureDetail } = useSelector(selectLectureSlice);\r\n  console.log(lectureDetail);\r\n\r\n  const { title, instructor, lectureTime, method, roomNo } = lectureDetail;\r\n  return (\r\n    <div>\r\n      <div>{title}</div>\r\n      <div>{instructor}</div>\r\n      <div>{lectureTime}</div>\r\n      <div>{method}</div>\r\n      <div>{roomNo}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LectureDetailForm;\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport BannerForm from \"./banner/BannerForm\";\r\nimport RecommandImageForm from \"./banner/RecommandImageForm\";\r\nimport SimpleDcsForm from \"./banner/SimpleDcsForm\";\r\nimport ManagementBook from \"./book/ManagementBook\";\r\nimport ManagementBookForm from \"./book/ManagementBookForm\";\r\nimport ManagementCaptionForm from \"./caption/ManagementCaptionForm\";\r\nimport ManagementDcsFormV2 from \"./dcs/ManagementDcsFormV2\";\r\nimport ManagementEquip from \"./equip/ManagementEquip\";\r\nimport ManagementEquipForm from \"./equip/ManagementEquipForm\";\r\nimport Help from \"./Help\";\r\nimport Home from \"./home/HomeAsan\";\r\nimport DvdAddForm from \"./is-system/dvd/DvdAddForm\";\r\nimport DvdDetailForm from \"./is-system/dvd/DvdDetailForm\";\r\nimport EventDetailContainer from \"./is-system/event/EventDetailContainer\";\r\nimport EventFormContainer from \"./is-system/event/EventFormContainer\";\r\nimport ItemLoanDetailContainer from \"./is-system/item-loan/ItemLoanDetailContainer\";\r\nimport ItemLoanForm from \"./is-system/item-loan/ItemLoanForm\";\r\nimport ItemLoanAddForm from \"./is-system/itemLoan/ItemLoanAddForm\";\r\nimport ItemLoanDetailForm from \"./is-system/itemLoan/ItemLoanDetailForm\";\r\nimport ManagementLssScreen from \"./lss/ManagementLssScreen\";\r\nimport ManagementMagForm from \"./mag/ManagementMagForm\";\r\nimport ManagementIs from \"./ManagementIs\";\r\nimport ManagementScreen from \"./ManagementScreen\";\r\nimport ManagementUser from \"./ManagementUser\";\r\nimport ManagementPollForm from \"./poll/ManagementPollForm\";\r\nimport ManagementPollResult from \"./poll/ManagementPollResult\";\r\n// import ManagementPosterForm from './poster/ManagementPosterForm';\r\nimport ManagementStatic from \"./statistic/ManagementStatic\";\r\nimport LectureDetailForm from \"./is-system/lecture/LectureDetailForm\";\r\n\r\nexport default function MainRouter() {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route exact path={match.path} component={ManagementScreen} />\r\n      <Route exact path=\"/help\" component={Help} />\r\n      <Route exact path=\"/equip/form\" component={ManagementEquipForm} />\r\n      <Route\r\n        exact\r\n        path={[\"/equip\", `/equip/:key`]}\r\n        component={ManagementEquip}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/screen\", \"/screen/:key\"]}\r\n        component={ManagementScreen}\r\n      />\r\n      <Route exact path=\"/book\" component={ManagementBook} />\r\n      {/* <Route exact path=\"/poster/form\" component={ManagementPosterForm} /> */}\r\n      <Route exact path=\"/statistic\" component={ManagementStatic} />\r\n      <Route exact path=\"/mag/form\" component={ManagementMagForm} />\r\n      <Route exact path=\"/book/form\" component={ManagementBookForm} />\r\n      <Route exact path=\"/poll/form\" component={ManagementPollForm} />\r\n      <Route\r\n        exact\r\n        path=\"/poll/result/:master_id\"\r\n        component={ManagementPollResult}\r\n      />\r\n      <Route exact path=\"/dcs/form\" component={ManagementDcsFormV2} />\r\n      <Route exact path=\"/user/form\" component={ManagementUser} />\r\n      <Route exact path=\"/event/form\" component={EventFormContainer} />\r\n      <Route\r\n        exact\r\n        path=\"/event/form/:event_master_idx\"\r\n        component={EventFormContainer}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/event/detail/:event_master_idx\"\r\n        component={EventDetailContainer}\r\n      />\r\n      <Route exact path=\"/loanitem/form/:loan_idx\" component={ItemLoanForm} />\r\n      <Route exact path=\"/dvd/form/new\" component={DvdAddForm} />\r\n      <Route exact path=\"/item/form/new\" component={ItemLoanAddForm} />\r\n      <Route exact path=\"/dvd/detail/:room_seq\" component={DvdDetailForm} />\r\n      <Route\r\n        exact\r\n        path=\"/item/detail/:item_seq\"\r\n        component={ItemLoanDetailForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/loanitem/detail/:item_master_idx\"\r\n        component={ItemLoanDetailContainer}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/lss/form/:equip_idx\"\r\n        component={ManagementLssScreen}\r\n      />\r\n      <Route exact path=\"/caption/form/\" component={ManagementCaptionForm} />\r\n      <Route\r\n        exact\r\n        path=\"/caption/form/:equip_idx\"\r\n        component={ManagementCaptionForm}\r\n      />\r\n      <Route exact path={[\"/is\", \"/is/:key\"]} component={ManagementIs} />\r\n      <Route exact path={[\"/banner/:banner_idx\"]} component={BannerForm} />\r\n      <Route\r\n        exact\r\n        path={[\"/recommandImage/:banner_idx\"]}\r\n        component={RecommandImageForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/moviebanner/:banner_idx\"]}\r\n        component={SimpleDcsForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/moviebanner/:banner_idx\"]}\r\n        component={SimpleDcsForm}\r\n      />\r\n      <Route\r\n        exact\r\n        path={[\"/lecture/:lecture_idx\"]}\r\n        component={LectureDetailForm}\r\n      />\r\n    </Switch>\r\n  );\r\n}\r\n","import InsertChartIcon from \"@material-ui/icons/InsertChart\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport PhonelinkIcon from \"@material-ui/icons/Phonelink\";\r\nimport TabletMacIcon from \"@material-ui/icons/TabletMac\";\r\nimport TvIcon from \"@material-ui/icons/Tv\";\r\nimport { Divider } from \"antd\";\r\nimport classNames from \"classnames\";\r\nimport React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { kBodyWidth } from \"./Constants\";\r\n\r\nconst Menu = ({\r\n  children,\r\n  active,\r\n}: {\r\n  children: React.ReactNode;\r\n  active?: boolean;\r\n}): JSX.Element => {\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        \"font-bmjua text-lg w-40\",\r\n        \"flex justify-center items-center hover:text-yellow-500\",\r\n        `${active ? \"text-yellow-500\" : \"text-white\"}`\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Navbar = () => {\r\n  const location = useLocation();\r\n\r\n  const isActive = (_pathname: string) => location.pathname.includes(_pathname);\r\n\r\n  return (\r\n    <div className={classNames(\"w-full bg-transparent flex items-center\")}>\r\n      <div>\r\n        <Link\r\n          to={{\r\n            pathname: \"/\",\r\n          }}\r\n          style={{ color: \"white\", fontSize: \"2rem\", fontStyle: \"italic\" }}\r\n        >\r\n          CMS\r\n        </Link>\r\n      </div>\r\n      {/* <Link to=\"/equip\">\r\n        <Menu active={isActive(\"/equip\")}>\r\n          <PhonelinkIcon />\r\n          <div className={\"ml-2\"}>장비관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      {/* <Link to=\"/is\">\r\n        <Menu active={isActive(\"/is\")}>\r\n          <TabletMacIcon />\r\n          <div className={\"ml-2\"}>예약관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      <Link to=\"/screen\">\r\n        <Menu active={isActive(\"/screen\")}>\r\n          <TvIcon />\r\n          <div className={\"ml-2\"}>화면관리</div>\r\n        </Menu>\r\n      </Link>\r\n      {/* <Divider type=\"vertical\" className={classNames(\"bg-white w-px h-5\")} /> */}\r\n      {/* <Link to=\"/book\">\r\n        <Menu active={isActive('/book')}>\r\n          <MenuBookIcon />\r\n          <div className={'ml-2'}>사서추천도서</div>\r\n        </Menu>\r\n      </Link>\r\n      <Divider type=\"vertical\" className={classNames('bg-white w-px h-5')} /> */}\r\n      {/* <Link to=\"/statistic\">\r\n        <Menu active={isActive('/statistic')}>\r\n          <InsertChartIcon />\r\n          <div className={'ml-2'}>통계관리</div>\r\n        </Menu>\r\n      </Link> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { HomeOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport { Divider } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Menu = (props: React.PropsWithChildren<{}>): JSX.Element => (\r\n  <div\r\n    className={classNames(\r\n      'flex font-bmjua cursor-pointer',\r\n      'hover:text-blue-600'\r\n    )}\r\n  >\r\n    {props.children}\r\n  </div>\r\n);\r\n\r\nconst Navsub = () => {\r\n  const [, setIsAuth] = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className='flex justify-evenly items-center'>\r\n      <Link to='/' style={{ fontFamily: 'bmjua', color: '#000000' }}>\r\n        <Menu>\r\n          <HomeOutlined />\r\n          <div className='ml-1'>HOME</div>\r\n        </Menu>\r\n      </Link>\r\n      <Divider type='vertical' className='bg-gray-800' />\r\n      <Link\r\n        to=''\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          setIsAuth(false);\r\n          sessionStorage.clear();\r\n        }}\r\n        className={classNames('font-bmjua text-black')}\r\n      >\r\n        <Menu>\r\n          <LogoutOutlined />\r\n          <div className='ml-1'>LOGOUT</div>\r\n        </Menu>\r\n      </Link>\r\n      {/* <Divider type='vertical' className='bg-gray-800' />\r\n      <Link to='/help'>\r\n        <Menu>\r\n          <QuestionCircleOutlined style={{ cursor: 'pointer' }} />\r\n          <div>HELP</div>\r\n        </Menu>\r\n      </Link> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navsub;\r\n","import axios from 'axios';\r\nimport classNames from 'classnames';\r\nimport React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { kBodyWidth } from './Constants';\r\nimport MainFooter from './MainFooter';\r\nimport MainRouter from './MainRouter';\r\nimport Navbar from './Navbar';\r\nimport Navsub from './Navsub';\r\n\r\nconst Main = () => {\r\n  const [isAuth] = useContext(AuthContext);\r\n\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      if (config.headers)\r\n        config.headers['userInfo'] =\r\n          sessionStorage.getItem('userInfo') || 'guest';\r\n\r\n      return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n  );\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to='/login' />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classNames('w-full h-screen', 'flex flex-col items-center')}\r\n    >\r\n      <div className={classNames('w-full bg-gray-800')}>\r\n        <div\r\n          className={classNames('mx-auto my-3')}\r\n          style={{ width: kBodyWidth }}\r\n        >\r\n          <Navbar />\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={classNames('flex justify-end mt-2')}\r\n        style={{ width: kBodyWidth }}\r\n      >\r\n        <Navsub />\r\n      </div>\r\n      <div\r\n        className={classNames('w-full flex-1 mx-auto')}\r\n        style={{ width: kBodyWidth }}\r\n      >\r\n        <MainRouter />\r\n      </div>\r\n      <div\r\n        className={classNames('w-full bg-gray-800 flex justify-center')}\r\n        style={{ minHeight: 60 }}\r\n      >\r\n        <MainFooter />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../Constants';\r\nimport { Row, Col, Radio, Checkbox, Button } from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport uuid from 'react-uuid';\r\nimport './ManagementPollDetail.css';\r\n\r\nconst TitleCard = (props) => {\r\n  const [pollTitle, setPollTitle] = useState('');\r\n  const [pollDescription, setPollDescription] = useState('');\r\n\r\n  // 오른쪽 클릭 방지\r\n  oncontextmenu = (e) => {\r\n    if (e.button === 2) {\r\n      e.preventDefault();\r\n      return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPollTitle(props.pollTitle);\r\n    setPollDescription(props.pollDescription);\r\n    return () => {\r\n      // 오른쪽 클릭 방지 해제\r\n      oncontextmenu = (e) => {};\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '1px solid #7f8c8d',\r\n        borderTop: '0px',\r\n        borderRadius: '8px',\r\n        minHeight: '120px',\r\n        backgroundColor: 'white',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: '#576574',\r\n          borderTopRightRadius: '8px',\r\n          borderTopLeftRadius: '8px',\r\n          width: '100%',\r\n          height: '15px',\r\n        }}\r\n      ></div>\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          padding: '10px 30px 20px 30px',\r\n        }}\r\n      >\r\n        <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>{props.pollTitle}</p>\r\n        <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>{props.pollDescription}</pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ManagementPollDetail = (props) => {\r\n  const [masterId, setMasterId] = useState(props.match.params.master_id);\r\n  const [pollTitle, setPollTitle] = useState('');\r\n  const [pollDescription, setPollDescription] = useState('');\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [userId, setUserId] = useState(uuid());\r\n\r\n  useEffect(() => {\r\n    getPollDetail();\r\n  }, []);\r\n\r\n  const getPollDetail = () => {\r\n    axios\r\n      .get('/poll/detail', {\r\n        params: {\r\n          master_id: masterId,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setPollTitle(res.data.pollMaster.title);\r\n        setPollDescription(res.data.pollMaster.description);\r\n        setQuestions(res.data.questions);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const cardStyle = {\r\n    width: '100%',\r\n    border: '1px solid #7f8c8d',\r\n    borderRadius: '8px',\r\n    minHeight: '120px',\r\n    padding: '20px',\r\n    marginTop: '10px',\r\n    backgroundColor: 'white',\r\n  };\r\n\r\n  const radioStyle = {\r\n    display: 'block',\r\n    height: '30px',\r\n    lineHeight: '30px',\r\n    width: '100%',\r\n  };\r\n\r\n  const checkboxStyle = {\r\n    display: 'block',\r\n    height: '30px',\r\n    lineHeight: '30px',\r\n    width: '100%',\r\n  };\r\n\r\n  const onChangeAnswer = (e, type = '', question_id = '') => {\r\n    var theAnswer = {\r\n      master_id: masterId,\r\n      question_id: question_id,\r\n      user_id: userId,\r\n      answer: '',\r\n    };\r\n    var copiedAnswers = Array.from(answers);\r\n\r\n    if (type === 'single') {\r\n      var removeTargetIdx = null;\r\n\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.question_id === theAnswer.question_id) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      theAnswer['answer'] = e.target.value;\r\n      copiedAnswers.push(theAnswer);\r\n    } else if (type === 'multi') {\r\n      var removeTargetIdx = null;\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.answer === e.target.value) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      if (e.target.checked) {\r\n        theAnswer['answer'] = e.target.value;\r\n        copiedAnswers.push(theAnswer);\r\n      }\r\n    } else if (type === 'narrative') {\r\n      var removeTargetIdx = null;\r\n      copiedAnswers.forEach((answer, idx) => {\r\n        if (answer.question_id === theAnswer.question_id) {\r\n          removeTargetIdx = idx;\r\n        }\r\n      });\r\n\r\n      if (removeTargetIdx === 0) {\r\n        copiedAnswers.shift();\r\n      } else if (removeTargetIdx) {\r\n        copiedAnswers.splice(removeTargetIdx, 1);\r\n      }\r\n\r\n      theAnswer['answer'] = e.target.value ? e.target.value : '답변없음';\r\n      copiedAnswers.push(theAnswer);\r\n    }\r\n\r\n    setAnswers(copiedAnswers);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(`/poll/submit`, { answers })\r\n      .then((res) => {\r\n        props.history.push({\r\n          pathname: '/poll/complete',\r\n          masterId: masterId,\r\n          pollTitle: pollTitle,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px', width: '100%', height: '100%' }}>\r\n      <div style={{ width: '50%', minWidth: '350px', margin: 'auto' }}>\r\n        <Row>\r\n          <Col span={24}>\r\n            <TitleCard pollTitle={pollTitle} pollDescription={pollDescription} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24}>\r\n            {questions.map((question, idx) => {\r\n              var items = question.items ? question.items : [];\r\n\r\n              if (question.type === 'single') {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <pre\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </pre>\r\n                    <Radio.Group\r\n                      name={question.question_id}\r\n                      style={{ width: '100%' }}\r\n                      onChange={(e) => {\r\n                        onChangeAnswer(e, question.type, question.question_id);\r\n                      }}\r\n                    >\r\n                      {items.map((item, idx) => {\r\n                        return (\r\n                          <Radio key={item.item_id} value={item.item_id} style={radioStyle}>\r\n                            {item.content}\r\n                          </Radio>\r\n                        );\r\n                      })}\r\n                    </Radio.Group>\r\n                  </div>\r\n                );\r\n              } else if (question.type === 'multi') {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <pre\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </pre>\r\n                    <Checkbox.Group name={question.question_id} style={{ width: '100%' }}>\r\n                      {items.map((item, idx) => {\r\n                        return (\r\n                          <Checkbox\r\n                            key={item.item_id}\r\n                            value={item.item_id}\r\n                            style={radioStyle}\r\n                            onChange={(e) => {\r\n                              onChangeAnswer(e, question.type, question.question_id);\r\n                            }}\r\n                          >\r\n                            {item.content}\r\n                          </Checkbox>\r\n                        );\r\n                      })}\r\n                    </Checkbox.Group>\r\n                  </div>\r\n                );\r\n              } else {\r\n                return (\r\n                  <div key={question.question_id} style={cardStyle}>\r\n                    <p\r\n                      style={{\r\n                        fontSize: '1.1em',\r\n                        fontFamily: 'NotoSansKR-Bold',\r\n                      }}\r\n                    >\r\n                      {question.question_title}\r\n                    </p>\r\n                    <TextArea\r\n                      autoSize={true}\r\n                      placeholder=\"설명\"\r\n                      style={{\r\n                        border: '0',\r\n                        resize: 'none',\r\n                      }}\r\n                      onChange={(e) => {\r\n                        onChangeAnswer(e, question.type, question.question_id);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                );\r\n              }\r\n            })}\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24} style={{ paddingTop: '10px' }}>\r\n            <Button type=\"primary\" style={{ width: '100px', backgroundColor: 'rgb(87, 101, 116)' }} onClick={onSubmit}>\r\n              제출\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollDetail;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ManagementPollComplete = (props) => {\r\n  const [pollTitle, setPollTitle] = useState(\r\n    props.history.location.pollTitle ? props.history.location.pollTitle : ''\r\n  );\r\n  const [masterId, setMasterId] = useState(\r\n    props.history.location.masterId ? props.history.location.masterId : ''\r\n  );\r\n\r\n  return (\r\n    <div style={{ width: '100%', padding: '20px' }}>\r\n      <div style={{ width: '50%', minWidth: '800px', margin: 'auto' }}>\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            border: '1px solid #7f8c8d',\r\n            borderTop: '0px',\r\n            borderRadius: '8px',\r\n            minHeight: '120px',\r\n            backgroundColor: 'white',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              backgroundColor: '#576574',\r\n              borderTopRightRadius: '8px',\r\n              borderTopLeftRadius: '8px',\r\n              width: '100%',\r\n              height: '15px',\r\n            }}\r\n          ></div>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px 30px 20px 30px',\r\n            }}\r\n          >\r\n            <p style={{ fontSize: '2em', fontFamily: 'NotoSansKR-Bold' }}>\r\n              {pollTitle}\r\n            </p>\r\n            <pre style={{ fontFamily: 'NotoSansKR-Medium' }}>\r\n              설문을 완료해 주셔서 감사합니다!\r\n            </pre>\r\n\r\n            {masterId ? (\r\n              <Link to={`/poll/detail/${masterId}`}>다른 응답 제출하기</Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPollComplete;\r\n","import { Result } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Result\r\n      status=\"404\"\r\n      title=\"404\"\r\n      subTitle=\"페이지를 찾을 수 없습니다. 관리자에게 문의하세요\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { ConfigProvider, message } from 'antd';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport SignInSide from './login/SignInSideAsan';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport ko_KR from 'antd/es/locale/ko_KR';\r\nimport Main from './main/Main';\r\nimport ManagementPollDetail from './main/poll/ManagementPollDetail';\r\nimport ManagementPollComplete from './main/poll/ManagementPollComplete';\r\nimport NotFound from './main/NotFound';\r\nimport Axios from 'axios';\r\nimport { DEV_SERVER } from './main/Constants';\r\n\r\nconst App = (props: any) => {\r\n  message.config({\r\n    top: 30,\r\n    duration: 2,\r\n    maxCount: 3,\r\n    // rtl: true,\r\n  });\r\n\r\n  // Axios.defaults.baseURL = DEV_SERVER;\r\n\r\n  return (\r\n    <ConfigProvider locale={ko_KR}>\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n            <Route exact path=\"/login\" component={SignInSide} />\r\n            <Route exact path=\"/poll/detail/:master_id\" component={ManagementPollDetail} />\r\n            <Route exact path=\"/poll/complete\" component={ManagementPollComplete} />\r\n            <Route path=\"/\" component={Main} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    </ConfigProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import axios from \"axios\";\r\nimport qs from \"qs\";\r\n// index.tsx에서 호출\r\nexport const setAxiosDefaultUrl = () => {\r\n  process.env.NODE_ENV === \"development\"\r\n    ? (axios.defaults.baseURL = SERVER_URL[SITE.SAMCHEOK_LEARNINGCENTER].DEV)\r\n    : (axios.defaults.baseURL = SERVER_URL[SITE.SAMCHEOK_LEARNINGCENTER].PROD);\r\n};\r\naxios.defaults.paramsSerializer = (params) => {\r\n  return qs.stringify(params);\r\n};\r\n\r\nexport type ServerUrl = {\r\n  PROD: string;\r\n  DEV: string;\r\n};\r\n\r\nexport const SITE = {\r\n  GES_DEV: \"GES_DEV\",\r\n  LOCALHOST: \"LOCALHOST\",\r\n  TAK: \"TAK\",\r\n  NONHYEON: \"NONHYEON\",\r\n  SAMCHEOK_LEARNINGCENTER: \"SAMCHEOK_LEARNINGCENTER\",\r\n} as const;\r\n\r\nexport const SERVER_URL: { [key: string]: ServerUrl } = {\r\n  [SITE.GES_DEV]: {\r\n    PROD: \"http://183.102.131.99:28080\",\r\n    DEV: \"http://183.102.131.99:28080\",\r\n  },\r\n  [SITE.LOCALHOST]: {\r\n    PROD: \"http://localhost:28080\",\r\n    DEV: \"http://localhost:28080\",\r\n  },\r\n  [SITE.TAK]: {\r\n    // PROD: 'http://192.168.0.54:28080',\r\n    // DEV: 'http://192.168.0.54:28080',\r\n\r\n    PROD: \"http://183.102.131.99:28081\",\r\n    DEV: \"http://183.102.131.99:28081\",\r\n\r\n    // PROD: 'http://localhost:28080',\r\n    // DEV: 'http://localhost:28080',\r\n  },\r\n  [SITE.NONHYEON]: {\r\n    PROD: \"http://192.168.11.238:28080\",\r\n    DEV: \"http://211.226.147.37:28080\",\r\n  },\r\n  [SITE.SAMCHEOK_LEARNINGCENTER]: {\r\n    PROD: \"http://61.73.191.214:80\",\r\n    //삼척 lis\r\n    DEV: \"http://61.73.191.214:80\",\r\n    // DEV: \"http://183.102.131.99:28080\",\r\n  },\r\n};\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { createHashHistory } from 'history';\r\nimport logger, { createLogger } from 'redux-logger';\r\nimport createRootReducer from './rootReducer';\r\n\r\nexport const history = createHashHistory();\r\nconst rootReducer = createRootReducer(history);\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nconst excludeLoggerEnvs = ['test', 'production'];\r\nconst shouldIncludeLogger = !excludeLoggerEnvs.includes(\r\n  process.env.NODE_ENV || ''\r\n);\r\n\r\nif (shouldIncludeLogger) {\r\n  const logger = createLogger({\r\n    level: 'info',\r\n    collapsed: true,\r\n  });\r\n}\r\n\r\nexport const configuredStore = (initialState?: RootState) => {\r\n  // Create Store\r\n  const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({ serializableCheck: false }).concat(logger),\r\n  });\r\n\r\n  if (process.env.NODE_ENV === 'development' && module.hot) {\r\n    module.hot.accept(\r\n      './rootReducer',\r\n      // eslint-disable-next-line global-require\r\n      () => store.replaceReducer(require('./rootReducer').default)\r\n    );\r\n  }\r\n  return store;\r\n};\r\nexport type Store = ReturnType<typeof configuredStore>;\r\n","import { connectRouter } from \"connected-react-router\";\r\nimport { History } from \"history\";\r\nimport { combineReducers } from \"redux\";\r\nimport BannerReducer, { BANNER } from \"./slice/BannerSlice\";\r\nimport TotalLogReducer, { TOTAL_LOG } from \"./slice/totalLogSlice\";\r\nimport CaptionSettingsReduecer, { CAPTION } from \"./slice/CaptionSlice\";\r\nimport LssSettingsReducer, { LSS_DETAIL } from \"./slice/LssSlice\";\r\nimport DvdSliceReducer, { DVD } from \"./slice/DvdSlice\";\r\nimport ItemLoanSliceReducer, { ITEMLOAN } from \"./slice/ItemLoanSlice\";\r\nimport SmartSearchSettingsReducer, {\r\n  SMART_SEARCH,\r\n} from \"./slice/SmartSearchSlice\";\r\nimport userReducer, { USER } from \"./slice/userSlice\";\r\nimport blackListReducer, { BLACKLIST } from \"./slice/BlackListSlice\";\r\nimport lectureSlice, { LECTURE } from \"./slice/LectureSlice\";\r\n\r\nexport default function createRootReducer(history: History) {\r\n  return combineReducers({\r\n    router: connectRouter(history),\r\n    [LSS_DETAIL]: LssSettingsReducer,\r\n    [CAPTION]: CaptionSettingsReduecer,\r\n    [SMART_SEARCH]: SmartSearchSettingsReducer,\r\n    [BANNER]: BannerReducer,\r\n    [TOTAL_LOG]: TotalLogReducer,\r\n    [ITEMLOAN]: ItemLoanSliceReducer,\r\n    [DVD]: DvdSliceReducer,\r\n    [USER]: userReducer,\r\n    [BLACKLIST]: blackListReducer,\r\n    [LECTURE]: lectureSlice,\r\n  });\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport { setAxiosDefaultUrl } from './constants/SERVER_INFO';\r\nimport './index.css';\r\nimport { configuredStore } from './store';\r\n\r\nsetAxiosDefaultUrl();\r\n\r\nconst store = configuredStore();\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App></App>\r\n  </Provider>,\r\n\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}